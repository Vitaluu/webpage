{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/quiz/components/app/bugFix.css","webpack:///./src/quiz/components/interaction/customDialogStyles.css","webpack:///./src/feedbackApiClient/feedbackApiClient.ts","webpack:///./src/hooks/animationStyles.ts","webpack:///./src/hooks/useAnimation.ts","webpack:///./src/hooks/useCancellablePromise.ts","webpack:///./src/hooks/useForceUpdate.ts","webpack:///./src/hooks/useGroupedAnswers.ts","webpack:///./src/hooks/useKeyboardEnter.ts","webpack:///./src/hooks/useLongTap.ts","webpack:///./src/hooks/useNavigatorOnline.ts","webpack:///./src/hooks/usePosition.ts","webpack:///./src/hooks/useStyles.ts","webpack:///./src/mdtApiClient/helpers/filter.ts","webpack:///./src/mdtApiClient/helpers/urlHelper.ts","webpack:///./src/mdtApiClient/mdtApiClient.ts","webpack:///./src/mdtApiClient/modules/auth/auth.ts","webpack:///./src/mdtApiClient/modules/auth/oauth.ts","webpack:///./src/mdtApiClient/modules/auth/password.ts","webpack:///./src/quiz/MobileAppFacade.ts","webpack:///./src/quiz/QuizApp.tsx","webpack:///./src/quiz/QuizAppRoutes.tsx","webpack:///./src/quiz/components/actionItem/actionItem.ts","webpack:///./src/quiz/components/actionSheetItem/ActionSheetItem.tsx","webpack:///./src/quiz/components/actionSheetItem/actionSheetItemStyles.ts","webpack:///./src/quiz/components/actions/Actions.tsx","webpack:///./src/quiz/components/actions/QuizActions.tsx","webpack:///./src/quiz/components/app/App.tsx","webpack:///./src/quiz/components/app/bugFix.css?064c","webpack:///./src/quiz/components/block/Block.tsx","webpack:///./src/quiz/components/block/blockStyles.ts","webpack:///./src/quiz/components/button/Button.tsx","webpack:///./src/quiz/components/button/MobileActionButton.tsx","webpack:///./src/quiz/components/button/MobileButton.tsx","webpack:///./src/quiz/components/button/ServerInteractionButton.tsx","webpack:///./src/quiz/components/button/WrappedMobileActionButton.tsx","webpack:///./src/quiz/components/button/buttonStyles.ts","webpack:///./src/quiz/components/button/mobileButtonStyles.ts","webpack:///./src/quiz/components/controlLayout/ControlLayout.tsx","webpack:///./src/quiz/components/controlLayout/controlLayoutStyles.ts","webpack:///./src/quiz/components/datepicker/DatePicker.tsx","webpack:///./src/quiz/components/datepicker/datePickerStyles.ts","webpack:///./src/quiz/components/divider/Divider.tsx","webpack:///./src/quiz/components/divider/EmptyDivider.tsx","webpack:///./src/quiz/components/divider/dividerStyles.ts","webpack:///./src/quiz/components/draft/Draft.tsx","webpack:///./src/quiz/components/errorBoundary/ErrorBoundary.tsx","webpack:///./src/quiz/components/errorUnexpected/errorUnexpected.tsx","webpack:///./src/quiz/components/errors/QuizError.tsx","webpack:///./src/quiz/components/errors/QuizGeolocationError.tsx","webpack:///./src/quiz/components/errors/QuizOfflineError.tsx","webpack:///./src/quiz/components/errors/QuizServerError.tsx","webpack:///./src/quiz/components/errors/QuizUnexpectedError.tsx","webpack:///./src/quiz/components/extendableNavbarPage/ExtendableNavbarBlock.tsx","webpack:///./src/quiz/components/extendableNavbarPage/ExtendableNavbarPage.tsx","webpack:///./src/quiz/components/extendableNavbarPage/extendableNavbarPageStyles.ts","webpack:///./src/quiz/components/fade/QuizFade.tsx","webpack:///./src/quiz/components/fade/quizFadeStyles.ts","webpack:///./src/quiz/components/feedback/Feedback.tsx","webpack:///./src/quiz/components/feedback/feedbackStyles.ts","webpack:///./src/quiz/components/fieldControlLayout/FieldControlLayout.tsx","webpack:///./src/quiz/components/fieldControlLayout/fieldControlLayoutStyles.ts","webpack:///./src/quiz/components/gallery/Gallery.tsx","webpack:///./src/quiz/components/gallery/GalleryControl.tsx","webpack:///./src/quiz/components/gallery/galleryStyles.ts","webpack:///./src/quiz/components/globalErrorHandler/GlobalErrorHandler.tsx","webpack:///./src/quiz/components/globalErrorHandler/globalErrorHandlerStyles.ts","webpack:///./src/quiz/components/icon/Icon.tsx","webpack:///./src/quiz/components/icon/setup.ts","webpack:///./src/quiz/components/iconWrap/IconWrap.tsx","webpack:///./src/quiz/components/iconWrap/iconWrapStyles.ts","webpack:///./src/quiz/components/image/Image.tsx","webpack:///./src/quiz/components/infoBlock/InfoBlock.tsx","webpack:///./src/quiz/components/infoBlock/contextInfoBlock/ContextInfoBlock.tsx","webpack:///./src/quiz/components/infoBlock/contextInfoBlock/contextInfoBlockStyles.ts","webpack:///./src/quiz/components/infoBlock/fullscreenInfoBlock/FullscreenErrorPage.tsx","webpack:///./src/quiz/components/infoBlock/fullscreenInfoBlock/FullscreenInfo.tsx","webpack:///./src/quiz/components/infoBlock/fullscreenInfoBlock/fullscreenInfoStyles.ts","webpack:///./src/quiz/components/infoScreenIcons/accessDeniedIcon.tsx","webpack:///./src/quiz/components/infoScreenIcons/cloudOffIcon.tsx","webpack:///./src/quiz/components/infoScreenIcons/emptyIcon.tsx","webpack:///./src/quiz/components/infoScreenIcons/serverErrorIcon.tsx","webpack:///./src/quiz/components/infoScreenIcons/unexpectedErrorIcon.tsx","webpack:///./src/quiz/components/infoScreenIcons/userNotMatchedIcon.tsx","webpack:///./src/quiz/components/input/InputControl.tsx","webpack:///./src/quiz/components/input/inputStyles.ts","webpack:///./src/quiz/components/instanceBar/InstanceBar.tsx","webpack:///./src/quiz/components/instanceBar/instanceBarStyles.ts","webpack:///./src/quiz/components/interaction/Dialog.ts","webpack:///./src/quiz/components/interaction/customDialogStyles.css?deab","webpack:///./src/quiz/components/interaction/toast/Toast.ts","webpack:///./src/quiz/components/interaction/toast/toastStyles.ts","webpack:///./src/quiz/components/link/Link.tsx","webpack:///./src/quiz/components/listNearOutlets/ListNearOutlets.tsx","webpack:///./src/quiz/components/listNearOutlets/helpers.ts","webpack:///./src/quiz/components/listNearOutlets/listNearOutletsReducer.ts","webpack:///./src/quiz/components/listNearOutlets/listNearOutletsStyles.ts","webpack:///./src/quiz/components/listView/ListView.tsx","webpack:///./src/quiz/components/mdtImages/MdtFileGallery.tsx","webpack:///./src/quiz/components/mdtImages/MdtImage.tsx","webpack:///./src/quiz/components/navbar/Navbar.tsx","webpack:///./src/quiz/components/navbar/navbarStyles.ts","webpack:///./src/quiz/components/outletExtendableView/OutletExtendableItem.tsx","webpack:///./src/quiz/components/outletExtendableView/outletExtendableItemStyles.ts","webpack:///./src/quiz/components/outletItem/OutletItem.tsx","webpack:///./src/quiz/components/outletItem/outletItemStyles.ts","webpack:///./src/quiz/components/outletRoutes/OuletRoutes.tsx","webpack:///./src/quiz/components/outletRoutes/outletRoutesStyles.ts","webpack:///./src/quiz/components/outletView/OutletView.tsx","webpack:///./src/quiz/components/outletView/outletViewStyles.ts","webpack:///./src/quiz/components/outletVisits/OutletVisits.tsx","webpack:///./src/quiz/components/page/Page.ts","webpack:///./src/quiz/components/pageWrap/PageWrap.tsx","webpack:///./src/quiz/components/photobrowser/PhotoBrowser.tsx","webpack:///./src/quiz/components/photobrowser/PhotoBrowserService.ts","webpack:///./src/quiz/components/photobrowser/photoBrowserStyles.tsx","webpack:///./src/quiz/components/photobrowser/spinner.svg","webpack:///./src/quiz/components/privacyPolicy/PrivacyPolicy.tsx","webpack:///./src/quiz/components/privacyPolicy/privacyPolicyStyles.ts","webpack:///./src/quiz/components/progressBar/ProgressBar.tsx","webpack:///./src/quiz/components/progressBar/ProgressBlock.tsx","webpack:///./src/quiz/components/progressBar/progressBarStyles.ts","webpack:///./src/quiz/components/progressBar/progressBlockStyles.ts","webpack:///./src/quiz/components/qstList/QstList.tsx","webpack:///./src/quiz/components/qstListItem/QstListItemView.tsx","webpack:///./src/quiz/components/qstListItem/qstListItemViewStyles.ts","webpack:///./src/quiz/components/question/Question.tsx","webpack:///./src/quiz/components/question/common/QstContext.tsx","webpack:///./src/quiz/components/question/common/answerSection/AnswerSection.tsx","webpack:///./src/quiz/components/question/common/answerSection/answerSectionStyles.ts","webpack:///./src/quiz/components/question/common/groupedAnswerHeader/GroupedAnswerHeader.tsx","webpack:///./src/quiz/components/question/common/groupedAnswerHeader/groupedAnswerHeaderStyles.ts","webpack:///./src/quiz/components/question/common/questionActionButton/QuestionActionButton.tsx","webpack:///./src/quiz/components/question/common/questionActionButton/questionActionButtonStyles.ts","webpack:///./src/quiz/components/question/common/textWithIcon/TextWithIcon.tsx","webpack:///./src/quiz/components/question/common/textWithIcon/textWithIconStyles.ts","webpack:///./src/quiz/components/question/controls/QuestionBooleanControl.tsx","webpack:///./src/quiz/components/question/controls/QuestionGalleryControl.tsx","webpack:///./src/quiz/components/question/controls/QuestionManyOptionControl.tsx","webpack:///./src/quiz/components/question/controls/QuestionOneOptionControl.tsx","webpack:///./src/quiz/components/question/controls/QuestionQrCodeControl.tsx","webpack:///./src/quiz/components/question/controls/QuestionTextControl.tsx","webpack:///./src/quiz/components/question/controls/img_placeholder.svg","webpack:///./src/quiz/components/question/controls/kpi/QuestionKpiControl.tsx","webpack:///./src/quiz/components/question/controls/kpi/defect/Defect.tsx","webpack:///./src/quiz/components/question/controls/kpi/defect/defectIcons.tsx","webpack:///./src/quiz/components/question/controls/kpi/defect/defectStyles.ts","webpack:///./src/quiz/components/question/controls/qrScanner/QrScannerErrorControl.tsx","webpack:///./src/quiz/components/question/controls/qrScanner/error/QrScannerError.tsx","webpack:///./src/quiz/components/question/controls/qrScanner/error/qrScannerErrorStyles.ts","webpack:///./src/quiz/components/question/controls/readonly/QuestionReadonlyControl.tsx","webpack:///./src/quiz/components/question/controls/readonly/gallery/QuestionReadonlyGallery.tsx","webpack:///./src/quiz/components/question/controls/readonly/item/QuestionReadonlyItem.tsx","webpack:///./src/quiz/components/question/controls/readonly/item/questionReadonlyItemStyles.ts","webpack:///./src/quiz/components/question/controls/readonly/questionReadonlyControlStyles.ts","webpack:///./src/quiz/components/question/controls/styles/questionGalleryControlStyles.ts","webpack:///./src/quiz/components/question/controls/styles/questionQrCodeControlStyles.ts","webpack:///./src/quiz/components/question/controls/styles/questionTextControlStyles.ts","webpack:///./src/quiz/components/question/questionStyles.ts","webpack:///./src/quiz/components/questionListView/QuestionList.tsx","webpack:///./src/quiz/components/questionListView/QuestionListItem.tsx","webpack:///./src/quiz/components/questionListView/QuestionListItemStyles.ts","webpack:///./src/quiz/components/questionView/QuestionView.tsx","webpack:///./src/quiz/components/questionView/questionViewStyles.ts","webpack:///./src/quiz/components/questionnaire/Questionnaire.tsx","webpack:///./src/quiz/components/questionnaire/navbar/QuestionnaireNavbar.tsx","webpack:///./src/quiz/components/questionnaire/navbar/questionnaireNavbarStyles.ts","webpack:///./src/quiz/components/questionnaire/questionSlide/QuestionSlide.tsx","webpack:///./src/quiz/components/questionnaire/questionSlide/questionSlideStyles.ts","webpack:///./src/quiz/components/questionnaire/questionnaireStyles.tsx","webpack:///./src/quiz/components/questionnaire/swiperBar/CustomIcons.tsx","webpack:///./src/quiz/components/questionnaire/swiperBar/SwiperBar.tsx","webpack:///./src/quiz/components/questionnaire/swiperBar/swiperBarStyles.ts","webpack:///./src/quiz/components/quizList/QuizEmptyList.tsx","webpack:///./src/quiz/components/quizList/QuizList.tsx","webpack:///./src/quiz/components/quizList/quizEmpyListStyles.ts","webpack:///./src/quiz/components/quizListInputItem/QuizListInputItem.tsx","webpack:///./src/quiz/components/quizListInputItem/quizListInputItemStyles.ts","webpack:///./src/quiz/components/quizListItem/QuizListItem.tsx","webpack:///./src/quiz/components/quizListItem/quizListItemStyles.ts","webpack:///./src/quiz/components/quizNavBar/QuizNavBar.tsx","webpack:///./src/quiz/components/quizNavBar/icons/actionSheetLink/ActionSheetLink.tsx","webpack:///./src/quiz/components/quizNavBar/icons/backlink/BackLink.tsx","webpack:///./src/quiz/components/quizNavBar/icons/backlink/backLinkStyles.ts","webpack:///./src/quiz/components/quizNavBar/icons/faqLink/FAQLink.tsx","webpack:///./src/quiz/components/quizNavBar/icons/searchLink/SearchLink.tsx","webpack:///./src/quiz/components/quizNavBar/navTitleText/NavTitleText.tsx","webpack:///./src/quiz/components/quizNavBar/navTitleText/navTitleTextStyles.ts","webpack:///./src/quiz/components/quizNavBar/offlineIndicator/OfflineIcon.tsx","webpack:///./src/quiz/components/quizNavBar/offlineIndicator/OfflineIndicator.tsx","webpack:///./src/quiz/components/quizNavBar/offlineIndicator/offlineIndicatorStyles.ts","webpack:///./src/quiz/components/quizNavBar/quizNavBarStyles.tsx","webpack:///./src/quiz/components/quizNavBar/quizNavLeft/QuizNavLeft.tsx","webpack:///./src/quiz/components/quizNavBar/quizNavLeft/quizNavLeftStyles.ts","webpack:///./src/quiz/components/quizPage/InlineGroup.tsx","webpack:///./src/quiz/components/quizPage/QuizPage.tsx","webpack:///./src/quiz/components/quizPreloader/QuizPreloader.tsx","webpack:///./src/quiz/components/quizPreloader/quizPreloaderStyles.ts","webpack:///./src/quiz/components/quizSkeleton/QuizSkeleton.tsx","webpack:///./src/quiz/components/quizSkeleton/SkeletonItem/SkeletonIcon.tsx","webpack:///./src/quiz/components/quizSkeleton/SkeletonItem/SkeletonItem.tsx","webpack:///./src/quiz/components/quizSkeleton/SkeletonItem/SkeletonItemStyles.ts","webpack:///./src/quiz/components/quizSkeleton/SkeletonItem/SkeletonRow.tsx","webpack:///./src/quiz/components/quizSkeleton/SkeletonList/SkeletonList.tsx","webpack:///./src/quiz/components/quizSkeleton/quizSkeletonStyles.ts","webpack:///./src/quiz/components/quizSkeleton/skeletons/BlockTitleSkeleton.tsx","webpack:///./src/quiz/components/quizSkeleton/skeletons/OutletExtendableItemSkeleton.tsx","webpack:///./src/quiz/components/quizSkeleton/skeletons/OutletSkeleton.tsx","webpack:///./src/quiz/components/quizSkeleton/skeletons/QstItemSkeleton.tsx","webpack:///./src/quiz/components/quizSkeleton/skeletons/QuestionnaireSkeleton.tsx","webpack:///./src/quiz/components/quizSkeleton/skeletons/QuizOutletPageSkeleton.tsx","webpack:///./src/quiz/components/quizSkeleton/skeletons/VisitReportSkeleton.tsx","webpack:///./src/quiz/components/quizSkeleton/skeletons/VisitedOutletsSkeleton.tsx","webpack:///./src/quiz/components/radioList/RadioList.tsx","webpack:///./src/quiz/components/radioList/radioListStyles.ts","webpack:///./src/quiz/components/renderError/RenderError.tsx","webpack:///./src/quiz/components/renderError/renderErrorStyles.ts","webpack:///./src/quiz/components/row/Row.tsx","webpack:///./src/quiz/components/select/SelectControl.tsx","webpack:///./src/quiz/components/select/selectControlStyles.ts","webpack:///./src/quiz/components/signature/Signature.tsx","webpack:///./src/quiz/components/signature/SignatureControl.tsx","webpack:///./src/quiz/components/signature/SignatureControlStyles.ts","webpack:///./src/quiz/components/signature/SignaturePad.tsx","webpack:///./src/quiz/components/signature/signaturePadStyles.ts","webpack:///./src/quiz/components/spinner/Spinner.tsx","webpack:///./src/quiz/components/spinner/spinnerStyles.ts","webpack:///./src/quiz/components/splashScreen/SplashScreen.tsx","webpack:///./src/quiz/components/splashScreen/splashScreenStyles.ts","webpack:///./src/quiz/components/swipeouts/QuizDeleteSwipeout.tsx","webpack:///./src/quiz/components/tabBar/TabNavigation.tsx","webpack:///./src/quiz/components/tabBar/TabTransition.tsx","webpack:///./src/quiz/components/tabBar/getTabNavigationStyles.ts","webpack:///./src/quiz/components/tabBar/history.tsx","webpack:///./src/quiz/components/tabBar/pos.tsx","webpack:///./src/quiz/components/tabBar/profile.tsx","webpack:///./src/quiz/components/tabs/Tabs.tsx","webpack:///./src/quiz/components/tabs/tabsStyles.ts","webpack:///./src/quiz/components/text/T.tsx","webpack:///./src/quiz/components/text/Text.tsx","webpack:///./src/quiz/components/text/textStyles.ts","webpack:///./src/quiz/components/textarea/TextareaControl.tsx","webpack:///./src/quiz/components/textarea/textareaStyles.ts","webpack:///./src/quiz/components/toggle/Toggle.tsx","webpack:///./src/quiz/components/toggle/toggleStyles.ts","webpack:///./src/quiz/components/unsentReports/UnsentReportIcon.tsx","webpack:///./src/quiz/components/unsentReports/UnsentReports.tsx","webpack:///./src/quiz/components/user/Avatar.tsx","webpack:///./src/quiz/components/user/avatarStyles.ts","webpack:///./src/quiz/components/visitedOutets/VisitedOutlets.tsx","webpack:///./src/quiz/components/visitedOutets/visitedOutletStyles.ts","webpack:///./src/quiz/index.tsx","webpack:///./src/quiz/pages/QuizMainPage.tsx","webpack:///./src/quiz/pages/SupervisorMainPage.tsx","webpack:///./src/quiz/pages/acceptPrivacyPolicy/AcceptPrivacyPolicyPage.tsx","webpack:///./src/quiz/pages/feedback/QuizFeedbackPage.tsx","webpack:///./src/quiz/pages/filter/FilterPage.tsx","webpack:///./src/quiz/pages/forgotPasswordPage/ForgotPasswordPage.tsx","webpack:///./src/quiz/pages/forgotPasswordPage/forgotPasswordPageStyles.ts","webpack:///./src/quiz/pages/loginPage/LoginPage.tsx","webpack:///./src/quiz/pages/loginPage/loginPageStyles.ts","webpack:///./src/quiz/pages/logo.svg","webpack:///./src/quiz/pages/merchandiser/MerchandiserMainPage.tsx","webpack:///./src/quiz/pages/merchandiser/merchandiserMainPageStyles.ts","webpack:///./src/quiz/pages/pageNotFound/PageNotFound.tsx","webpack:///./src/quiz/pages/profile/Version.tsx","webpack:///./src/quiz/pages/profile/aboutPage/AboutPage.tsx","webpack:///./src/quiz/pages/profile/aboutPage/aboutPageStyles.ts","webpack:///./src/quiz/pages/profile/changePasswordPage/ChangePasswordPage.tsx","webpack:///./src/quiz/pages/profile/chooseLanguagePage/ChooseLanguagePage.tsx","webpack:///./src/quiz/pages/profile/profilePage/Profile.tsx","webpack:///./src/quiz/pages/profile/profilePage/profilePageStyles.ts","webpack:///./src/quiz/pages/questionnaire/QuestionnairePage.tsx","webpack:///./src/quiz/pages/questionnaire/VirtualDataManager.ts","webpack:///./src/quiz/pages/questionnaire/VisitManager.ts","webpack:///./src/quiz/pages/questionnaire/virtualDataManagerHook.ts","webpack:///./src/quiz/pages/questionnaire/visitManagerHook.ts","webpack:///./src/quiz/pages/quizOutletPage/QuizOutletPage.tsx","webpack:///./src/quiz/pages/quizOutletPage/quizOutletPageStyles.ts","webpack:///./src/quiz/pages/registrationPage/registrationPage.tsx","webpack:///./src/quiz/pages/registrationPage/registrationPageStyles.ts","webpack:///./src/quiz/pages/registrationSuccessPage/RegistrationSuccessPage.tsx","webpack:///./src/quiz/pages/search/SearchPage.tsx","webpack:///./src/quiz/pages/search/hints/Hints.tsx","webpack:///./src/quiz/pages/search/hints/hintsStyles.ts","webpack:///./src/quiz/pages/search/searchBar/SearchBar.tsx","webpack:///./src/quiz/pages/search/searchBar/getSearchBarStyles.ts","webpack:///./src/quiz/pages/search/searchFilter/SearchFilter.tsx","webpack:///./src/quiz/pages/search/searchFilter/searchFilterStyles.ts","webpack:///./src/quiz/pages/search/searchPageReducer.ts","webpack:///./src/quiz/pages/search/searchPageStyles.ts","webpack:///./src/quiz/pages/sendPasswordPage/SendPasswordPage.tsx","webpack:///./src/quiz/pages/sendPasswordPage/sendPasswordPageStyles.ts","webpack:///./src/quiz/pages/visit/ReportPage.tsx","webpack:///./src/quiz/pages/visit/UnsentReportPage.tsx","webpack:///./src/quiz/pages/visit/VisitPage.tsx","webpack:///./src/quiz/pages/visit/VisitReport.tsx","webpack:///./src/quiz/pages/visit/visitReportStyles.ts","webpack:///./src/quiz/pages/visit/visitSendError.ts","webpack:///./src/quiz/quizAppReducer.ts","webpack:///./src/quiz/services/CleaningService.ts","webpack:///./src/quiz/services/GeolocationError.ts","webpack:///./src/quiz/services/Logger.ts","webpack:///./src/quiz/services/OfflineService.ts","webpack:///./src/quiz/services/QuizAuthService.ts","webpack:///./src/quiz/services/QuizDataService.ts","webpack:///./src/quiz/services/QuizDraftService.ts","webpack:///./src/quiz/services/QuizLocalStorageService.ts","webpack:///./src/quiz/services/QuizMetricsService.ts","webpack:///./src/quiz/services/QuizNavigationManager.tsx","webpack:///./src/quiz/services/QuizQrService.ts","webpack:///./src/quiz/services/QuizUserService.ts","webpack:///./src/quiz/services/data/QuizCompareQstService.ts","webpack:///./src/quiz/services/data/QuizQstService.ts","webpack:///./src/quiz/services/extension/QuizExtensionService.ts","webpack:///./src/quiz/services/extension/UpdateManager.ts","webpack:///./src/quiz/services/extension/db/browserDb.ts","webpack:///./src/quiz/services/extension/scanner/browser/BrowserQrCodeScanner.tsx","webpack:///./src/quiz/services/extension/scanner/native/nativeQrScanner.ts","webpack:///./src/quiz/services/extension/statusBar/statusBar.ts","webpack:///./src/quiz/services/extension/uploadPhoto/CustomPhotoExtension.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/UploadPhotoExtension.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/camera/Camera.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/camera/cameraIconBar/CameraIconBar.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/camera/cameraIconBar/cameraIconBarStyles.ts","webpack:///./src/quiz/services/extension/uploadPhoto/camera/cameraNavbar/CameraNavbar.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/camera/cameraNavbar/cameraNavbarStyles.ts","webpack:///./src/quiz/services/extension/uploadPhoto/camera/switchCameraButton/SwitchCameraButton.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/camera/switchCameraButton/getSwitchCameraButtonStyles.ts","webpack:///./src/quiz/services/extension/uploadPhoto/camera/switchCameraButton/switchButton.svg","webpack:///./src/quiz/services/extension/uploadPhoto/camera/takePhotoButton/TakePhotoButton.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/camera/takePhotoButton/takePhotoButtonStyles.ts","webpack:///./src/quiz/services/extension/uploadPhoto/cameraPage/CameraPage.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/common/choosePhotoButton/ChosePhotoButton.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/common/choosePhotoButton/choosePhotoButtonStyles.ts","webpack:///./src/quiz/services/extension/uploadPhoto/common/uploadPhotoButton/UploadPhotoButton.tsx","webpack:///./src/quiz/services/extension/uploadPhoto/common/uploadPhotoButton/uploadPhotoButtonStyles.ts","webpack:///./src/quiz/services/models.ts","webpack:///./src/quiz/services/text/TextService.ts","webpack:///./src/theme/borders.ts","webpack:///./src/theme/breakpoints.ts","webpack:///./src/theme/colors.ts","webpack:///./src/theme/constants.ts","webpack:///./src/theme/shadows.ts","webpack:///./src/theme/sizing.ts","webpack:///./src/theme/theme.ts","webpack:///./src/theme/themeDefaults.ts","webpack:///./src/theme/themeTypes.ts","webpack:///./src/theme/transition.ts","webpack:///./src/theme/typography.ts","webpack:///./src/theme/zIndex.ts","webpack:///./src/themeContext/ThemeContext.tsx","webpack:///./src/themes/defaultTheme.ts","webpack:///./src/utils/UploadHelper.ts","webpack:///./src/utils/constants.ts","webpack:///./src/utils/cssHelpers.ts","webpack:///./src/utils/enum.ts","webpack:///./src/utils/geolocation.ts","webpack:///./src/utils/helpers.ts","webpack:///./src/utils/reactUtils.ts","webpack:///./src/wraps/component.ts","webpack:///./src/wraps/styleCreators.ts"],"names":[],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,GAAG;;QAEH;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA,MAAM;QACN;QACA;QACA,MAAM;QACN;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;QACJ;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA,6BAA6B;QAC7B,6BAA6B;QAC7B;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,qBAAqB,gBAAgB;QACrC;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,qBAAqB,gBAAgB;QACrC;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA,kBAAkB,8BAA8B;QAChD;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;QACJ;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,oBAAoB,2BAA2B;QAC/C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,OAAO;QACP;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,mBAAmB,cAAc;QACjC;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,gBAAgB,KAAK;QACrB;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA,gBAAgB,YAAY;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA,cAAc,4BAA4B;QAC1C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;;QAEJ;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,eAAe,4BAA4B;QAC3C;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA,eAAe,4BAA4B;QAC3C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,uCAAuC;QACxD;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,uCAAuC;QACxD;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,sBAAsB;QACvC;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA,UAAU;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,cAAc,wCAAwC;QACtD;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA;QACA;QACA,SAAS;QACT;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA,KAAK;QACL;;QAEA;QACA;QACA;QACA,IAAI;QACJ;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,eAAe;QACf;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD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","file":"main.bundle.js?1d5482a9","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = window[\"webpackHotUpdate\"];\n \twindow[\"webpackHotUpdate\"] = // eslint-disable-next-line no-unused-vars\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) {\n \t\thotAddUpdateChunk(chunkId, moreModules);\n \t\tif (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\n \t} ;\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar script = document.createElement(\"script\");\n \t\tscript.charset = \"utf-8\";\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\n \t\tif (null) script.crossOrigin = null;\n \t\tdocument.head.appendChild(script);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest(requestTimeout) {\n \t\trequestTimeout = requestTimeout || 10000;\n \t\treturn new Promise(function(resolve, reject) {\n \t\t\tif (typeof XMLHttpRequest === \"undefined\") {\n \t\t\t\treturn reject(new Error(\"No browser support\"));\n \t\t\t}\n \t\t\ttry {\n \t\t\t\tvar request = new XMLHttpRequest();\n \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\n \t\t\t\trequest.open(\"GET\", requestPath, true);\n \t\t\t\trequest.timeout = requestTimeout;\n \t\t\t\trequest.send(null);\n \t\t\t} catch (err) {\n \t\t\t\treturn reject(err);\n \t\t\t}\n \t\t\trequest.onreadystatechange = function() {\n \t\t\t\tif (request.readyState !== 4) return;\n \t\t\t\tif (request.status === 0) {\n \t\t\t\t\t// timeout\n \t\t\t\t\treject(\n \t\t\t\t\t\tnew Error(\"Manifest request to \" + requestPath + \" timed out.\")\n \t\t\t\t\t);\n \t\t\t\t} else if (request.status === 404) {\n \t\t\t\t\t// no update available\n \t\t\t\t\tresolve();\n \t\t\t\t} else if (request.status !== 200 && request.status !== 304) {\n \t\t\t\t\t// other failure\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\n \t\t\t\t} else {\n \t\t\t\t\t// success\n \t\t\t\t\ttry {\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\n \t\t\t\t\t} catch (e) {\n \t\t\t\t\t\treject(e);\n \t\t\t\t\t\treturn;\n \t\t\t\t\t}\n \t\t\t\t\tresolve(update);\n \t\t\t\t}\n \t\t\t};\n \t\t});\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentHash = \"1d5482a95df871bbaa1d\";\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParents = [];\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParentsTemp = [];\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1) {\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) {\n \t\t\t\t\tme.children.push(request);\n \t\t\t\t}\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\" &&\n \t\t\t\tname !== \"t\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\tfn.t = function(value, mode) {\n \t\t\tif (mode & 1) value = fn(value);\n \t\t\treturn __webpack_require__.t(value, mode & ~1);\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_selfInvalidated: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (dep === undefined) hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (dep === undefined) hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n \t\t\tinvalidate: function() {\n \t\t\t\tthis._selfInvalidated = true;\n \t\t\t\tswitch (hotStatus) {\n \t\t\t\t\tcase \"idle\":\n \t\t\t\t\t\thotUpdate = {};\n \t\t\t\t\t\thotUpdate[moduleId] = modules[moduleId];\n \t\t\t\t\t\thotSetStatus(\"ready\");\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"ready\":\n \t\t\t\t\t\thotApplyInvalidatedModule(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"prepare\":\n \t\t\t\t\tcase \"check\":\n \t\t\t\t\tcase \"dispose\":\n \t\t\t\t\tcase \"apply\":\n \t\t\t\t\t\t(hotQueuedInvalidatedModules =\n \t\t\t\t\t\t\thotQueuedInvalidatedModules || []).push(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\t// ignore requests in error states\n \t\t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash, hotQueuedInvalidatedModules;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\") {\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\t}\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(hotApplyInvalidatedModules() ? \"ready\" : \"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tfor(var chunkId in installedChunks)\n \t\t\t// eslint-disable-next-line no-lone-blocks\n \t\t\t{\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n \t\treturn hotApplyInternal(options);\n \t}\n\n \tfunction hotApplyInternal(options) {\n \t\thotApplyInvalidatedModules();\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (\n \t\t\t\t\t!module ||\n \t\t\t\t\t(module.hot._selfAccepted && !module.hot._selfInvalidated)\n \t\t\t\t)\n \t\t\t\t\tcontinue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted &&\n \t\t\t\t// removed self-accepted modules should not be required\n \t\t\t\tappliedUpdate[moduleId] !== warnUnexpectedRequire &&\n \t\t\t\t// when called invalidate self-accepting is not possible\n \t\t\t\t!installedModules[moduleId].hot._selfInvalidated\n \t\t\t) {\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\tparents: installedModules[moduleId].parents.slice(),\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\tif (hotUpdateNewHash !== undefined) {\n \t\t\thotCurrentHash = hotUpdateNewHash;\n \t\t\thotUpdateNewHash = undefined;\n \t\t}\n \t\thotUpdate = undefined;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = item.parents;\n \t\t\thotCurrentChildModule = moduleId;\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\treturn hotApplyInternal(options).then(function(list) {\n \t\t\t\toutdatedModules.forEach(function(moduleId) {\n \t\t\t\t\tif (list.indexOf(moduleId) < 0) list.push(moduleId);\n \t\t\t\t});\n \t\t\t\treturn list;\n \t\t\t});\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \tfunction hotApplyInvalidatedModules() {\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\tif (!hotUpdate) hotUpdate = {};\n \t\t\thotQueuedInvalidatedModules.forEach(hotApplyInvalidatedModule);\n \t\t\thotQueuedInvalidatedModules = undefined;\n \t\t\treturn true;\n \t\t}\n \t}\n\n \tfunction hotApplyInvalidatedModule(moduleId) {\n \t\tif (!Object.prototype.hasOwnProperty.call(hotUpdate, moduleId))\n \t\t\thotUpdate[moduleId] = modules[moduleId];\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/quiz/index.tsx\",\"vendors~main\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"body {\\r\\n\\theight: 100%;\\r\\n\\t-webkit-overflow-scrolling: touch;\\r\\n\\toverflow: auto;\\r\\n}\\r\\n\\r\\n.md .navbar a.link:before,\\r\\n.md .toolbar a.link:before,\\r\\n.md .subnavbar a.link:before,\\r\\n.md .data-table-rows-select a.link:before,\\r\\n.md .data-table-pagination a.link:before,\\r\\n.md .searchbar-disable-button:before,\\r\\n.md .searchbar .input-clear-button:before,\\r\\n.md .notification-close-button:before {\\r\\n\\tbackground-image: radial-gradient(circle at center, rgba(0, 0, 0, 0.1) 66%, rgba(255, 255, 255, 0) 66%);\\r\\n}\\r\\n\\r\\n.framework7-root {\\r\\n\\tbackground-color: var(--statusBarBackgroundColor);\\r\\n\\tpadding-top: var(--statusBarIndent);\\r\\n}\\r\\n.navbar-photo-browser {\\r\\n\\tpadding-top: var(--navbarPhotoBrowserIndent);\\r\\n}\\r\\n.app {\\r\\n\\tmargin-bottom: constant(safe-area-inset-bottom); /* iOS 11.0 */\\r\\n\\tmargin-bottom: env(safe-area-inset-bottom); /* iOS 11.2 */\\r\\n}\\r\\n\\r\\nbody {\\r\\n\\theight: 100vh;\\r\\n}\\r\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".md {\\r\\n\\t--f7-dialog-width: 304px;\\r\\n\\r\\n\\t--f7-dialog-inner-padding: 16px 24px 16px 24px;\\r\\n\\t--f7-dialog-text-align: center;\\r\\n\\t--f7-dialog-text-color: #345b6c;\\r\\n\\r\\n\\t--f7-dialog-title-font-size: 18px;\\r\\n\\t--f7-dialog-title-font-weight: bold;\\r\\n\\t--f7-dialog-title-line-height: 1;\\r\\n\\r\\n\\t--f7-dialog-button-font-size: 16px;\\r\\n\\t--f7-dialog-button-font-weight: normal;\\r\\n\\t--f7-dialog-button-text-transform: none;\\r\\n}\\r\\n\\r\\n.quiz-dialog .dialog-inner {\\r\\n\\tborder-bottom: 1px solid #e8f0f3;\\r\\n}\\r\\n\\r\\n.quiz-dialog .dialog-inner .dialog-title {\\r\\n\\tfont-weight: bold;\\r\\n}\\r\\n\\r\\n.quiz-dialog .dialog-inner .dialog-text {\\r\\n\\tmargin-top: 8px;\\r\\n\\tfont-size: 12px;\\r\\n}\\r\\n\\r\\n.quiz-dialog .dialog-buttons {\\r\\n\\tjustify-content: space-around;\\r\\n}\\r\\n\\r\\n.quiz-dialog .dialog-buttons .dialog-button {\\r\\n\\tcolor: #345b6c;\\r\\n}\\r\\n\", \"\"]);\n\n","import { MDTApiClient } from \"mdtApiClient/mdtApiClient\";\r\nimport { FeedbackFormData } from \"quiz/components/feedback/Feedback\";\r\n\r\ntype User = {\r\n\tid: string | number;\r\n\tlogin: string;\r\n\temail: string;\r\n\tfullName: string;\r\n};\r\n\r\nexport interface FeedbackData extends Pick<FeedbackFormData, \"type\" | \"comment\"> {\r\n\temail: string;\r\n\toriginUrl: string;\r\n\tuser: string;\r\n\tinstanceId?: number | string;\r\n\tversion: string;\r\n\tdebug?: string; //strinified object { userAgent: string }\r\n\r\n\t//todo\r\n\t//fileIds?: number[];\r\n}\r\n\r\nexport class FeedbackClient {\r\n\tconstructor(private apiClient: MDTApiClient) {}\r\n\r\n\tasync send(data: FeedbackData): Promise<Response> {\r\n\t\treturn this.apiClient.request(\"send\", { ...data });\r\n\t}\r\n\r\n\t//todo methods (download, upload, send)\r\n}\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\n\r\nconst opacityFadeInKeyframes = {\r\n\tfrom: {\r\n\t\topacity: 0\r\n\t},\r\n\r\n\tto: {\r\n\t\topacity: 1\r\n\t}\r\n};\r\n\r\nconst opacityFadeOutKeyframes = {\r\n\tfrom: {\r\n\t\topacity: 1\r\n\t},\r\n\r\n\tto: {\r\n\t\topacity: 0\r\n\t}\r\n};\r\n\r\nexport const getAnimationStyles = () => {\r\n\treturn {\r\n\t\tfadeIn: {\r\n\t\t\topacity: 0,\r\n\t\t\tanimationName: [opacityFadeInKeyframes],\r\n\t\t\tanimationDuration: \"500ms\",\r\n\t\t\tanimationIterationCount: 1,\r\n\t\t\tanimationTimingFunction: \"cubic-bezier(0.17, -0.67, 0.83, 0.67)\",\r\n\t\t\tanimationFillMode: \"forwards\"\r\n\t\t} as CSSProp,\r\n\t\tfadeOut: {\r\n\t\t\tanimationName: [opacityFadeOutKeyframes],\r\n\t\t\tanimationDuration: \"1s, 1200ms\",\r\n\t\t\tanimationIterationCount: 1,\r\n\t\t\tanimationTimingFunction: \"cubic-bezier(0.17, -0.67, 0.83, 0.67)\"\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const getAnimationDelay = (count: number) => ({ animationDelay: `${count * 60}ms` });\r\n","import { useStyles } from \"./useStyles\";\r\nimport { getAnimationStyles, getAnimationDelay } from \"hooks/animationStyles\";\r\n\r\nexport function useAnimation() {\r\n\tconst animation = useStyles(getAnimationStyles);\r\n\r\n\treturn { className: animation.fadeIn, animationDelay: (idx: number) => getAnimationDelay(idx) };\r\n}\r\n","import * as React from \"react\";\r\n\r\ntype PromiseResolveData = any;\r\n\r\ninterface Data<T> {\r\n\tonSuccess(x: T): void;\r\n\tonError?(err: any): void;\r\n\tdeps?: ReadonlyArray<unknown>;\r\n}\r\n\r\nexport function useCancellablePromise<T = PromiseResolveData>(\r\n\texec: (abortSignal: AbortSignal) => Promise<T> | null,\r\n\t{ deps, onSuccess, onError }: Data<T>\r\n): void {\r\n\tReact.useEffect(() => {\r\n\t\tlet active = true;\r\n\t\tconst abortCtrl = new AbortController();\r\n\r\n\t\tconst result = exec(abortCtrl.signal);\r\n\t\tif (result instanceof Promise)\r\n\t\t\tresult\r\n\t\t\t\t.then(x => active && onSuccess(x))\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tactive && onError && onError(err);\r\n\t\t\t\t\tif (!onError && active) {\r\n\t\t\t\t\t\tthrow err;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\treturn () => {\r\n\t\t\tactive = false;\r\n\t\t\tabortCtrl.abort();\r\n\t\t};\r\n\t}, deps || []);\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport function useForceUpdate() {\r\n\tlet update = useState<Object>()[1];\r\n\treturn () => update({});\r\n}\r\n","import React from \"react\";\r\nimport { t } from \"quiz/QuizApp\";\r\n\r\ninterface Groupable {\r\n\tgroup?: string;\r\n}\r\n\r\nexport function useGroupedAnswers<T extends Groupable>(items: T[] = []) {\r\n\tconst noCat = t(\"No category\");\r\n\tconst groups = React.useMemo(() => {\r\n\t\tconst groupArr: { [key: string]: T[] } = {};\r\n\t\titems.forEach(item => {\r\n\t\t\tconst groupCode = item.group || noCat;\r\n\t\t\tif (!groupArr[groupCode]) groupArr[groupCode] = [];\r\n\t\t\tgroupArr[groupCode].push(item);\r\n\t\t});\r\n\t\treturn groupArr;\r\n\t}, items);\r\n\treturn groups;\r\n}\r\n","import React from \"react\";\r\n\r\ntype HtmlElementType = HTMLInputElement | HTMLTextAreaElement;\r\n\r\nexport function useKeyboardEnter<T = HtmlElementType>() {\r\n\tconst onKeyDownHandler = (e: React.KeyboardEvent<T>) => {\r\n\t\tif (e.key === \"Enter\") (e.target as HtmlElementType).blur();\r\n\t};\r\n\r\n\treturn onKeyDownHandler;\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport function useLongTap(callback: () => void, ms = 300) {\r\n\tconst [startLongTap, setStartTap] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet timer: number;\r\n\t\tif (startLongTap) {\r\n\t\t\ttimer = window.setTimeout(callback, ms);\r\n\t\t} else {\r\n\t\t\tclearTimeout(timer);\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(timer);\r\n\t\t};\r\n\t}, [startLongTap]);\r\n\r\n\treturn {\r\n\t\tonTouchStart: () => setStartTap(true),\r\n\t\tonTouchEnd: () => setStartTap(false)\r\n\t};\r\n}\r\n","import React from \"react\";\r\n\r\nconst getOnLineStatus = () =>\r\n\ttypeof navigator !== \"undefined\" && typeof navigator.onLine === \"boolean\" ? navigator.onLine : true;\r\n\r\nexport const useNavigatorOnLine = () => {\r\n\tconst [status, setStatus] = React.useState(getOnLineStatus());\r\n\r\n\tconst setOnline = () => {\r\n\t\tsetStatus(true);\r\n\t};\r\n\tconst setOffline = () => {\r\n\t\tsetStatus(false);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\twindow.addEventListener(\"online\", setOnline);\r\n\t\twindow.addEventListener(\"offline\", setOffline);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"online\", setOnline);\r\n\t\t\twindow.removeEventListener(\"offline\", setOffline);\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn status;\r\n};\r\n","import * as React from \"react\";\r\nimport { GeolocationError } from \"quiz/services/GeolocationError\";\r\nimport { GeolocationErrorCodes } from \"quiz/components/errors/QuizGeolocationError\";\r\n\r\nexport type Coords = {\r\n\tlatitude: string;\r\n\tlongitude: string;\r\n};\r\n\r\nexport function usePosition(watch = false) {\r\n\tconst [position, setPosition] = React.useState({\r\n\t\tlatitude: \"\",\r\n\t\tlongitude: \"\"\r\n\t});\r\n\tconst [error, setError] = React.useState(null);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst geo = navigator.geolocation;\r\n\t\tif (!geo) {\r\n\t\t\tsetError(\r\n\t\t\t\tnew GeolocationError({\r\n\t\t\t\t\tcode: 4,\r\n\t\t\t\t\tmessage: `\"Navigator.geolocation\" is not available to determine the location of the device`,\r\n\t\t\t\t\tPERMISSION_DENIED: GeolocationErrorCodes.PERMISSION_DENIED,\r\n\t\t\t\t\tPOSITION_UNAVAILABLE: GeolocationErrorCodes.POSITION_UNAVAILABLE,\r\n\t\t\t\t\tTIMEOUT: GeolocationErrorCodes.TIMEOUT\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\treturn void 0;\r\n\t\t}\r\n\r\n\t\tlet active = true;\r\n\t\tconst onChange = ({ coords: { latitude, longitude } }) => active && setPosition({ latitude, longitude });\r\n\t\tconst onError = (error: PositionError) => active && setError(new GeolocationError(error));\r\n\r\n\t\tlet watcher;\r\n\t\tif (watch) {\r\n\t\t\twatcher = geo.watchPosition(onChange, onError);\r\n\t\t} else {\r\n\t\t\tgeo.getCurrentPosition(onChange, onError, { timeout: 5000 });\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tactive = false;\r\n\t\t\twatcher && geo.clearWatch(watcher);\r\n\t\t};\r\n\t}, []);\r\n\treturn { ...position, error };\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { StyleDeclaration, StyleDeclarationValues, styleSheet } from \"wraps/styleCreators\";\r\n\r\nexport type StyleCreatorFunction<A, S> = (theme: Theme, args?: A) => StyleDeclaration<S>;\r\n\r\nexport function useStyles<A, S>(getStyles: StyleCreatorFunction<A, S>, args?: A): StyleDeclarationValues<S> {\r\n\tconst theme = useContext(ThemeContext);\r\n\tconst styles = getStyles(theme, args);\r\n\treturn styleSheet(styles);\r\n}\r\n","export const FilterUserId = \"userId\";\r\n\r\nexport const FilterConstants = {\r\n\tcurrentLanguage: \"ID_CURRENT_LANGUAGE\"\r\n};\r\n\r\nexport interface IFilter {\r\n\top: string;\r\n\tp1?: string;\r\n\tp2?: any;\r\n\tnot?: boolean;\r\n\tgroups?: IFilter[];\r\n}\r\n\r\nexport class Filter {\r\n\tstatic empty = {};\r\n\tstatic and(...groups) {\r\n\t\treturn { op: \"and\", groups };\r\n\t}\r\n\tstatic or(...groups) {\r\n\t\treturn { op: \"or\", groups };\r\n\t}\r\n\tstatic eq(p1, p2) {\r\n\t\treturn { op: \"eq\", p1, p2 };\r\n\t}\r\n\tstatic ne(p1, p2) {\r\n\t\treturn { op: \"ne\", p1, p2 };\r\n\t}\r\n\tstatic gt(p1, p2) {\r\n\t\treturn { op: \"gt\", p1, p2 };\r\n\t}\r\n\tstatic ge(p1, p2) {\r\n\t\treturn { op: \"ge\", p1, p2 };\r\n\t}\r\n\tstatic lt(p1, p2) {\r\n\t\treturn { op: \"lt\", p1, p2 };\r\n\t}\r\n\tstatic le(p1, p2) {\r\n\t\treturn { op: \"le\", p1, p2 };\r\n\t}\r\n\tstatic startsWith(p1, p2) {\r\n\t\treturn { op: \"startsWith\", p1, p2 };\r\n\t}\r\n\tstatic endsWith(p1, p2) {\r\n\t\treturn { op: \"endsWith\", p1, p2 };\r\n\t}\r\n\tstatic contains(p1, p2) {\r\n\t\treturn { op: \"contains\", p1, p2 };\r\n\t}\r\n\tstatic fulltext(p1, p2) {\r\n\t\treturn { op: \"fulltext\", p1, p2 };\r\n\t}\r\n\tstatic not(f) {\r\n\t\tf.not = !f.not;\r\n\t\treturn f;\r\n\t}\r\n\tstatic in(p1, ar) {\r\n\t\treturn { op: \"in\", p1, p2: ar };\r\n\t}\r\n\tstatic queryIn(field, table, subField, filter, args?) {\r\n\t\treturn { op: \"in\", p1: field, p2: { table, field: subField, filter, args } };\r\n\t}\r\n\tstatic cast(filter, cast) {\r\n\t\tfilter[\"cast\"] = cast;\r\n\t\treturn filter;\r\n\t}\r\n\tstatic equalTemplate(p1, p2) {\r\n\t\treturn { op: \"equalTemplate\", p1, p2 };\r\n\t}\r\n}\r\n","import { IFilter, FilterUserId } from \"./filter\";\r\n\r\n//todo: copy-paste from mdt\r\n\r\nexport type QuerySorting = string | { path: string; asc?: boolean };\r\n\r\nexport interface Query {\r\n\tchildren?: Query[];\r\n\r\n\tselect?: string[];\r\n\tsorting?: QuerySorting[];\r\n\tfilter?: IFilter;\r\n\t// options?: QueryOptions;\r\n\tcount?: boolean;\r\n\ttop?: number;\r\n\tskip?: number;\r\n\tdistinct?: boolean;\r\n\tkey?: any;\r\n\tparams?: any;\r\n\tdependency?: { table: string; field: string };\r\n\taggregate?: boolean;\r\n\texport?: string;\r\n\tformat?: string;\r\n\thierarchy?: {\r\n\t\tparentPath: string;\r\n\t\tidPath: string;\r\n\t\tmode?: HierarchyMode;\r\n\t};\r\n\tplaceIn?: any;\r\n\tdate?: Date;\r\n\r\n\ttable?: string;\r\n\tparent?: Query;\r\n\tgroups?: GroupQuery;\r\n\r\n\tdisableDefaultSorting?: boolean;\r\n}\r\n\r\nexport enum HierarchyMode {\r\n\tup,\r\n\tdown,\r\n\tupDown\r\n}\r\n\r\nexport interface GroupQuery {\r\n\tgroups?: GroupItem[];\r\n\tallParents?: boolean;\r\n\torphans?: boolean;\r\n\ttoggledValues?: any[];\r\n}\r\n\r\nexport interface GroupItem {\r\n\tfieldPath: string;\r\n\tselect?: string[];\r\n\ttoggledValues?: any[];\r\n\twithEmpty?: boolean;\r\n\tcollapsed?: boolean;\r\n}\r\n\r\nexport class ApiUrlHelper {\r\n\tstatic query2Str(query: Query) {\r\n\t\tif (query.children && query.children.length) {\r\n\t\t\tvar batch = [query];\r\n\t\t\tquery.children.forEach(q => batch.push(q));\r\n\t\t\tdelete query.children;\r\n\t\t\treturn batch.map(q => ApiUrlHelper.query2Str(q));\r\n\t\t}\r\n\r\n\t\tvar request = <any>{};\r\n\t\tif (query.select && query.select.length) {\r\n\t\t\trequest.select = query.select.join(\",\"); //todo: alises - \"ID_TextKey/Code as $key, Value as $value\"\r\n\t\t}\r\n\t\tif (query.filter) {\r\n\t\t\tvar filter = ApiUrlHelper.filter2Str(query.filter, query.table, query.parent);\r\n\t\t\tif (filter) request.filter = filter;\r\n\t\t}\r\n\t\tif (query.date) request.date = (query.date as any).toISOString(true);\r\n\t\tif (query.sorting) request.orderby = ApiUrlHelper.sort2Str(query.sorting);\r\n\t\tif (query.skip) request.skip = query.skip;\r\n\t\tif (query.top != null) request.top = query.top;\r\n\t\tif (query.count) request.withCount = true;\r\n\t\tif (query.distinct) request.distinct = query.distinct;\r\n\t\tif (query.placeIn) request.placeIn = query.placeIn;\r\n\t\tif (query.hierarchy) {\r\n\t\t\tlet mode = this.hierarchyKeys[query.hierarchy.mode ?? HierarchyMode.upDown];\r\n\t\t\trequest.hierarchy = `${mode}${query.hierarchy.parentPath}:${query.hierarchy.idPath}`;\r\n\t\t}\r\n\t\tif (query.export) request.export = query.export;\r\n\t\tif (query.format) request.format = query.format;\r\n\t\tif (query.dependency) request.checkDependency = query.dependency.table + \"/\" + query.dependency.field;\r\n\t\tif (query.table) request.table = query.table;\r\n\t\tif (query.aggregate) request.aggregate = true;\r\n\t\tif (query.key) request.key = query.key;\r\n\t\tif (query.params) {\r\n\t\t\tif (typeof query.params == \"string\") {\r\n\t\t\t\trequest.params = query.params;\r\n\t\t\t} else {\r\n\t\t\t\tObject.keys(query.params).forEach(k => (request[k] = query.params[k]));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (query.groups) {\r\n\t\t\trequest.groups = JSON.stringify(query.groups);\r\n\t\t}\r\n\t\treturn request;\r\n\t}\r\n\r\n\tprivate static hierarchyKeys = {\r\n\t\t[HierarchyMode.up]: \"-\",\r\n\t\t[HierarchyMode.down]: \"+\",\r\n\t\t[HierarchyMode.upDown]: \"#\"\r\n\t};\r\n\r\n\tstatic prepareQueryParams(...params) {\r\n\t\treturn params.length ? \"[\" + params.map(p => JSON.stringify(p)).join(\",\") + \"]\" : \"\";\r\n\t}\r\n\r\n\tstatic negationFilterAliases = {\r\n\t\tnotStartsWith: \"startsWith\",\r\n\t\tnotContains: \"contains\",\r\n\t\tnotEndsWith: \"endsWith\"\r\n\t};\r\n\r\n\tstatic filter2Str(f, table?: string, parent?) {\r\n\t\tif (!f) return null;\r\n\t\tif (f.groups && f.groups.length) {\r\n\t\t\tvar result = f.groups\r\n\t\t\t\t.map(x => ApiUrlHelper.filter2Str(x, table, parent))\r\n\t\t\t\t.filter(x => !!x)\r\n\t\t\t\t.join(\" \" + f.op + \" \");\r\n\t\t\treturn result ? (f.not ? \"not\" : \"\") + \"(\" + result + \")\" : \"\";\r\n\t\t} else if (f.p1 && f.p2 !== undefined) {\r\n\t\t\tlet op = ApiUrlHelper.prepareOp(f.op);\r\n\t\t\tlet not = f.not;\r\n\t\t\tif (f.op == \"null\" || f.op == \"notNull\") {\r\n\t\t\t\top = f.op == \"null\" ? \"eq\" : \"ne\";\r\n\t\t\t\tf.p2 = null;\r\n\t\t\t} else if (ApiUrlHelper.negationFilterAliases[f.op]) {\r\n\t\t\t\top = ApiUrlHelper.negationFilterAliases[f.op];\r\n\t\t\t\tnot = true;\r\n\t\t\t}\r\n\r\n\t\t\tvar arg1 = ApiUrlHelper.arg2Str(f.p1, true, op),\r\n\t\t\t\targ2 = ApiUrlHelper.arg2Str(f.p2, false, op, parent);\r\n\r\n\t\t\t// if (f.op == FilterUserId) [op, arg2] = [\"eq\", _(SecurityManager).user().$id];\r\n\r\n\t\t\tif (f.cast) {\r\n\t\t\t\targ1 = f.cast + \"(\" + arg1 + \")\";\r\n\t\t\t\tif (f.cast == \"date\") {\r\n\t\t\t\t\tif (f.p2 instanceof Date) arg2 = '\"' + f.p2.toISOString(true) + '\"';\r\n\t\t\t\t\telse if (Array.isArray(f.p2) && f.p2.every(x => x instanceof Date)) {\r\n\t\t\t\t\t\targ2 = f.p2.map(x => '\"' + x.toISOString(true) + '\"').join(\",\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else arg1 = \"[\" + arg1 + \"]\";\r\n\r\n\t\t\t// if (table) {\r\n\t\t\t// \tlet tbl = _(SchemaManager)._table(table);\r\n\t\t\t// \tlet field = _(SchemaManager).field(tbl, f.p1, true);\r\n\t\t\t// \tif (field) {\r\n\t\t\t// \t\tif (field.type == \"date\" && f.p2 instanceof Date) {\r\n\t\t\t// \t\t\targ2 = '\"' + f.p2.toISOString(true) + '\"';\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t\tif (f.p2 instanceof Date) {\r\n\t\t\t\targ2 = '\"' + f.p2.toISOString(true) + '\"';\r\n\t\t\t}\r\n\r\n\t\t\tvar wrap = [\"startsWith\", \"endsWith\", \"contains\", \"in\", \"fulltext\", \"equalTemplate\"].indexOf(op) >= 0;\r\n\t\t\tvar r = arg1 + \" \" + op + (wrap ? \"(\" + arg2 + \")\" : \" \" + arg2);\r\n\t\t\tif (not) r = \"not(\" + r + \")\";\r\n\t\t\treturn r;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static prepareOp(op) {\r\n\t\tlet tbl = {\r\n\t\t\tqueryIn: \"in\"\r\n\t\t};\r\n\t\treturn tbl[op] || op;\r\n\t}\r\n\r\n\tprivate static arg2Str(arg, isFirst?, op?, parent?) {\r\n\t\t/*\r\n\t\tSchemaManager.isField(arg)\r\n\t\t\t? arg.code\r\n\t\t\t:\r\n\t\t*/\r\n\t\treturn isFirst\r\n\t\t\t? arg\r\n\t\t\t: arg instanceof Array\r\n\t\t\t? JSON.stringify(arg).match(/^.(.*).$/)[1]\r\n\t\t\t: ApiUrlHelper.value2Str(arg, parent, op);\r\n\t}\r\n\r\n\tpublic static prepareValue(arg) {\r\n\t\tvar result = ApiUrlHelper.value2Str(arg);\r\n\t\treturn arg instanceof Date || typeof arg == \"string\" ? result.match(/^.(.*).$/)[1] : result;\r\n\t}\r\n\r\n\tprivate static value2Str(arg, parent?, op?) {\r\n\t\tif (arg && arg.table) {\r\n\t\t\tvar tres = arg.table + \":\" + arg.field;\r\n\t\t\tif (arg.filter !== undefined || arg.args !== undefined)\r\n\t\t\t\ttres += \", \" + (arg.filter ? ApiUrlHelper.filter2Str(arg.filter, arg.table) : \"null\");\r\n\t\t\tif (arg.args !== undefined) tres += \", \" + \"(\" + (arg.args ? ApiUrlHelper.arg2Str(arg.args) : \"\") + \")\";\r\n\t\t\treturn tres;\r\n\t\t}\r\n\r\n\t\tvar res =\r\n\t\t\ttypeof arg === \"string\" && arg.charAt(0) === \"#\" && op == \"in\"\r\n\t\t\t\t? parent\r\n\t\t\t\t\t? \"#\" + parent + (arg.indexOf(\"/\") > 0 ? arg.substring(arg.indexOf(\"/\")) : \"\")\r\n\t\t\t\t\t: arg\r\n\t\t\t\t: JSON.stringify(arg);\r\n\t\treturn res == null ? \"null\" : res;\r\n\t}\r\n\r\n\tprivate static filterQuery2Str(arg) {\r\n\t\treturn arg.table + \":\" + arg.field + (arg.filter ? \", \" + ApiUrlHelper.filter2Str(arg.filter, arg.table) : \"\");\r\n\t}\r\n\r\n\tprivate static sort2Str(sorting: QuerySorting[]) {\r\n\t\treturn sorting\r\n\t\t\t.map(x => (typeof x === \"string\" ? x : x.path + \" \" + (x.asc !== false ? \"asc\" : \"desc\")))\r\n\t\t\t.join(\",\");\r\n\t}\r\n\r\n\tstatic getQueryString(obj: Object) {\r\n\t\tvar a = Object.keys(obj || {})\r\n\t\t\t.map(k => (obj[k] == null ? null : encodeURIComponent(k) + \"=\" + encodeURIComponent(obj[k])))\r\n\t\t\t.filter(x => x);\r\n\t\treturn !a.length ? \"\" : \"?\" + a.join(\"&\");\r\n\t}\r\n}\r\n","import { ApiUrlHelper, Query } from \"./helpers/urlHelper\";\r\nimport { ApiClientAuth } from \"./modules/auth/auth\";\r\nimport { ApiClientOAuth } from \"./modules/auth/oauth\";\r\nimport { ApiClientPassword } from \"./modules/auth/password\";\r\nimport { appIsOnline } from \"utils/helpers\";\r\nimport { OfflineError } from \"quiz/services/OfflineService\";\r\nimport { docsApiUrl } from \"utils/constants\";\r\nimport { VisitAnswerFile } from \"quiz/services/models\";\r\nimport { uploadHelper } from \"quiz/QuizApp\";\r\nimport { APIFile } from \"quiz/services/data/QuizQstService\";\r\n\r\nexport type MDTRecordId = number | string;\r\n\r\nexport type MDTRecord = {\r\n\t$table: string;\r\n\t$id?: MDTRecordId;\r\n\r\n\t$params?: any; //todo: what for? Examples: formId, StatusComment\r\n};\r\n\r\nexport interface MDTRequestSettings {\r\n\tcamel?: boolean;\r\n}\r\n\r\nexport interface MDTModules {\r\n\toauth?: boolean;\r\n\tpassword?: boolean;\r\n}\r\n\r\nexport type FileUploadRes = {\r\n\tID: number;\r\n\tName: string;\r\n\tShortUid: string;\r\n\tSize: number;\r\n\tUID: string;\r\n};\r\n\r\nexport type FileRecord = {\r\n\tid?: MDTRecordId;\r\n\tuid?: string;\r\n};\r\n\r\nexport type DependentTable = {\r\n\t[key: string]: {\r\n\t\t$table: string;\r\n\t\t[key: string]: any;\r\n\t};\r\n};\r\n\r\nexport type SaveParams = Object;\r\n\r\ninterface MDTApiClientOptions {\r\n\tonRequestError?: (err, url, data) => Promise<void>;\r\n\tappUrl?: string;\r\n}\r\n\r\nexport class MDTApiClient {\r\n\tmodules: MDTModules = {};\r\n\tauth = new ApiClientAuth(this);\r\n\toauth: ApiClientOAuth;\r\n\tpassword: ApiClientPassword;\r\n\r\n\tapiUrl: string;\r\n\tappUrl: string;\r\n\tapiVersion: string;\r\n\r\n\tconstructor(apiUrl: string, apiVersion: string, modules?: MDTModules, private options?: MDTApiClientOptions) {\r\n\t\tthis.apiUrl = apiUrl.replace(/\\/$/, \"\");\r\n\t\tthis.appUrl = options && options.appUrl;\r\n\t\tthis.apiVersion = apiVersion;\r\n\t\tthis.modules = modules || {\r\n\t\t\tpassword: true,\r\n\t\t\toauth: true\r\n\t\t};\r\n\r\n\t\tif (this.modules.password) this.password = new ApiClientPassword(this);\r\n\t\tif (this.modules.oauth) this.oauth = new ApiClientOAuth(this);\r\n\t}\r\n\r\n\tasync request(\r\n\t\turl: string,\r\n\t\tdata?: Object | [],\r\n\t\tsettings: MDTRequestSettings = {},\r\n\t\trequestOptions: RequestInit = {}\r\n\t) {\r\n\t\tconst options: RequestInit = {\r\n\t\t\tcredentials: \"include\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (data) options.body = JSON.stringify(data);\r\n\t\tif (settings.camel) url += \"?camel=true\";\r\n\t\treturn fetch(`${this.apiUrl}/${url}`, { ...options, ...requestOptions })\r\n\t\t\t.then(MDTApiClient.handleAPIError)\r\n\t\t\t.catch(async err => {\r\n\t\t\t\tif (!appIsOnline()) {\r\n\t\t\t\t\tthrow new OfflineError();\r\n\t\t\t\t}\r\n\t\t\t\tawait this.options?.onRequestError?.(err, url, data);\r\n\t\t\t\tthrow err;\r\n\t\t\t});\r\n\t}\r\n\r\n\tfetch<T = any>(\r\n\t\tquery: Query,\r\n\t\ttable?: string,\r\n\t\tsettings?: MDTRequestSettings,\r\n\t\trequestOptions?: RequestInit\r\n\t): Promise<PreparedFetchResult<T>>;\r\n\r\n\t//todo: typing multiple types\r\n\tfetch<T = any>(\r\n\t\tquery: Query[],\r\n\t\ttable?: string,\r\n\t\tsettings?: MDTRequestSettings,\r\n\t\trequestOptions?: RequestInit\r\n\t): Promise<PreparedFetchResult<T>[]>;\r\n\r\n\tasync fetch<T = any>(\r\n\t\tquery: Query | Query[],\r\n\t\ttable?: string,\r\n\t\tsettings: MDTRequestSettings = {},\r\n\t\trequestOptions: RequestInit = {}\r\n\t): Promise<PreparedFetchResult<T> | PreparedFetchResult<T>[]> {\r\n\t\tlet t = table || (!Array.isArray(query) && query.table);\r\n\t\tlet url = \"fetch\" + (t ? \"/\" + t : \"\");\r\n\r\n\t\tlet data = Array.isArray(query) ? query.map(q => ApiUrlHelper.query2Str(q)) : ApiUrlHelper.query2Str(query);\r\n\r\n\t\treturn this.request(url, data, settings, requestOptions)\r\n\t\t\t.then(result => result.json())\r\n\t\t\t.then((data: FetchResult[]) =>\r\n\t\t\t\tdata.length == 1 ? this.prepareFetchResult(data[0]) : data.map(d => this.prepareFetchResult(d))\r\n\t\t\t);\r\n\t}\r\n\r\n\tprivate prepareFetchResult<T>(data: FetchResult<T>): PreparedFetchResult<T> {\r\n\t\tlet d: Partial<FetchResult> = {};\r\n\t\tObject.keys(data).forEach(k => (d[k.toLowerCase()] = data[k]));\r\n\t\tlet result: PreparedFetchResult<T> = { records: d.rows, count: d.count };\r\n\t\tlet groups = d.items && d.items[0] && d.items[0].groups;\r\n\t\tif (groups) result.groups = groups;\r\n\t\treturn result;\r\n\t}\r\n\r\n\tasync save(data: MDTRecord | MDTRecord[], params?: SaveParams | SaveParams[]): Promise<ModificationResult> {\r\n\t\tlet url = \"save/\" + (Array.isArray(data) ? data[0].$table : data.$table);\r\n\t\tlet r = Array.isArray(data) ? data : [data];\r\n\t\tif (params) {\r\n\t\t\tArray.isArray(params)\r\n\t\t\t\t? r.forEach((d, idx) => params[idx] && (d.$params = params[idx]))\r\n\t\t\t\t: r.forEach(d => (d.$params = params));\r\n\t\t}\r\n\t\treturn this.request(url, r).then(r => r.json());\r\n\t}\r\n\r\n\tasync saveWithPhoto(\r\n\t\tfile: VisitAnswerFile,\r\n\t\tphotoName: string,\r\n\t\tdepTable: DependentTable,\r\n\t\tfileFK: string\r\n\t): Promise<any> {\r\n\t\tconst depTableKey = Object.keys(depTable)[0];\r\n\t\tif (this.apiVersion == \"new\") {\r\n\t\t\tconst xhr = new XMLHttpRequest();\r\n\t\t\txhr.withCredentials = true;\r\n\t\t\txhr.responseType = \"json\";\r\n\t\t\txhr.open(\"POST\", this.apiUrl + \"/file/upload\");\r\n\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append(\"file\", file.data.full, photoName);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst res: FileUploadRes = await new Promise((resolve, reject) => {\r\n\t\t\t\t\txhr.onerror = () => reject(\"XMLHttpRequest error\");\r\n\t\t\t\t\txhr.onload = () => {\r\n\t\t\t\t\t\tif (xhr.status == 200) {\r\n\t\t\t\t\t\t\tresolve(xhr.response);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treject(`Status ${xhr.status}: ${xhr.response}`);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\txhr.send(formData);\r\n\t\t\t\t});\r\n\t\t\t\tvar photoId = res.ID;\r\n\r\n\t\t\t\treturn this.save({\r\n\t\t\t\t\t...depTable[depTableKey],\r\n\t\t\t\t\t[fileFK]: photoId\r\n\t\t\t\t} as any);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tif (photoId) {\r\n\t\t\t\t\tawait this.destroy([photoId], \"mdt.File\");\r\n\t\t\t\t}\r\n\t\t\t\treturn err;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst base64Data = await uploadHelper.prepareImage(file.data.full);\r\n\t\treturn this.save({\r\n\t\t\t$table: \"mdt.File\",\r\n\t\t\tdata: base64Data.replace(/^data:((image|application)\\/)?.*;base64,/, \"\"),\r\n\t\t\tmdt_dateCreate: new Date(),\r\n\t\t\tname: \"VisitItemPhoto\", //todo: photo name\r\n\t\t\ttype: \"image/jpeg\",\r\n\t\t\t[depTableKey]: [\r\n\t\t\t\t{\r\n\t\t\t\t\t...depTable[depTableKey]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t} as APIFile);\r\n\t}\r\n\r\n\tasync destroy(ids: MDTRecordId[], table: string): Promise<ModificationResult> {\r\n\t\treturn this.request(\"save\", { tableName: table, idList: ids }, void 0, { method: \"DELETE\" }).then(r =>\r\n\t\t\tr.json()\r\n\t\t);\r\n\t}\r\n\r\n\tasync fetchImage(imgUrl: string, requestOptions?: RequestInit) {\r\n\t\treturn this.request(imgUrl, {}, {}, requestOptions).then(res => res.blob());\r\n\t}\r\n\r\n\tasync fetchHTML(url: string, requestOptions?: RequestInit): Promise<string> {\r\n\t\treturn fetch(`${docsApiUrl}${url}`, requestOptions)\r\n\t\t\t.then(async res => {\r\n\t\t\t\tconst text = await res.text();\r\n\t\t\t\tif (res.status > 400) throw new Error(text);\r\n\t\t\t\treturn text;\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tif (!appIsOnline()) throw new OfflineError();\r\n\t\t\t\tthrow err;\r\n\t\t\t});\r\n\t}\r\n\r\n\t/** Обрабатывает ответ с сервера и отлавливает ошибку MDT API */\r\n\tstatic handleAPIError = async (r: Response): Promise<Response> => {\r\n\t\tif (r.status > 400) {\r\n\t\t\treturn r.json().then(data => {\r\n\t\t\t\tif (MDTApiClient.isAPIError(data)) throw new MDTApiError(data);\r\n\t\t\t\treturn r;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn r;\r\n\t};\r\n\r\n\tprivate static isAPIError(data: any): boolean {\r\n\t\treturn data.Message != null;\r\n\t}\r\n\r\n\t// FILES & IMAGES\r\n\timageUrl(file: FileRecord, options: ImageFetchOptions = {}): string {\r\n\t\tconst param = this.apiVersion == \"new\" ? `uid=${file.uid}` : `id=${file.id}`;\r\n\t\tlet url = `${this.apiUrl}/file/image?${param}`;\r\n\t\tif (options.height && options.width) url += `&size=${options.width}x${options.height}`;\r\n\t\tif (options.mode) url += `&mode=${options.mode}`;\r\n\t\tif (options.hash) url += `&hash=${options.hash}`;\r\n\t\treturn url;\r\n\t}\r\n}\r\n\r\n// FETCH\r\nexport interface FetchResult<T = any> {\r\n\tcustom: boolean;\r\n\tdebug?: {\r\n\t\tsql: string;\r\n\t\ttime: number;\r\n\t};\r\n\titems?: { groups?: Group[] }[];\r\n\tcount?: number;\r\n\trows: T[];\r\n}\r\n\r\nexport interface PreparedFetchResult<T = any> {\r\n\trecords: T[];\r\n\tcount: number;\r\n\tgroups?: Group[];\r\n}\r\n\r\ninterface Group {\r\n\tcount: number;\r\n\tobject: Object;\r\n\tgroups?: Group[];\r\n\tvalue?: string;\r\n}\r\n\r\n// SAVE+DELETE\r\nexport interface ModificationResult {\r\n\t$: string;\r\n\ttype: string;\r\n\titems: {\r\n\t\tstats: {\r\n\t\t\tinserted: number;\r\n\t\t\tupdated: number;\r\n\t\t\tdeleted: number;\r\n\t\t};\r\n\t\tids?: MDTRecordId[];\r\n\t\textIds?: {\r\n\t\t\tID: MDTRecordId;\r\n\t\t\tTable: string;\r\n\t\t}[];\r\n\t}[];\r\n}\r\n\r\n// ERROR\r\nexport class MDTApiError extends Error {\r\n\tname = \"MDT API Error\";\r\n\tmessage: string;\r\n\tcode: string;\r\n\targs: Object;\r\n\r\n\tconstructor(public data: MDTApiErrorData) {\r\n\t\tsuper();\r\n\t\tthis.message = data.Message;\r\n\t\tthis.code = data.Code;\r\n\t\tthis.args = data.Args;\r\n\t\tObject.setPrototypeOf(this, MDTApiError.prototype);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `${this.name}: ${this.message}`;\r\n\t}\r\n}\r\n\r\nexport interface MDTApiErrorData {\r\n\tArgs: Object;\r\n\tCode: string;\r\n\tDebug: {\r\n\t\tData: Object;\r\n\t\tHResult: number;\r\n\t\tMessage: string;\r\n\t\tSource: string;\r\n\t\tStackTrace: string;\r\n\t\tTargetSite: {\r\n\t\t\tName: string;\r\n\t\t\tAssemblyName: string;\r\n\t\t\tClassName: string;\r\n\t\t\tGenericArguments?: string;\r\n\t\t\tMemberType: number;\r\n\t\t\tSignature: string;\r\n\t\t\tSignature2: string;\r\n\t\t};\r\n\t};\r\n\tMessage: string;\r\n}\r\n\r\n// FILE & IMAGE\r\nexport interface ImageFetchOptions {\r\n\theight?: number;\r\n\twidth?: number;\r\n\tmode?: \"fit\" | \"fill\";\r\n\thash?: string;\r\n}\r\n","import { MDTApiClient, MDTRecordId, MDTRequestSettings } from \"mdtApiClient/mdtApiClient\";\r\n\r\nexport class ApiClientUser {\r\n\tid: MDTRecordId;\r\n\tpermissions: { [permission: string]: number | Object };\r\n\tfullName: string;\r\n\temail: string;\r\n\tidentityName: string;\r\n\tisAdmin: boolean;\r\n\tisAnonymous: boolean;\r\n\troles: string[];\r\n\tlanguageId: number;\r\n\r\n\tisImpersonated: boolean;\r\n}\r\n\r\nexport class ApiClientAuth {\r\n\tconstructor(private apiClient: MDTApiClient) {}\r\n\r\n\tprivate request(url: string, data?: Object, settings: MDTRequestSettings = {}, requestOptions: RequestInit = {}) {\r\n\t\treturn this.apiClient.request(url, data, settings, requestOptions);\r\n\t}\r\n\r\n\tasync signIn(login: string, password: string, rememberMe?: boolean) {\r\n\t\treturn this.request(\"security/signin\", { login, password, rememberMe });\r\n\t}\r\n\r\n\tasync signOut() {\r\n\t\treturn this.request(\"security/signout\");\r\n\t}\r\n\r\n\tasync changePassword(data: { oldPassword: string; newPassword: string }) {\r\n\t\treturn this.request(\"security/ChangePassword\", data);\r\n\t}\r\n\r\n\tasync resetPassword(data: { userId: number; newPassword: string }) {\r\n\t\treturn this.request(\"security/ResetPassword\", data);\r\n\t}\r\n\r\n\tasync impersonate(id?: number) {\r\n\t\treturn this.request(\"security/impersonate\", { id });\r\n\t}\r\n\r\n\tasync user(): Promise<ApiClientUser> {\r\n\t\treturn this.request(\"mdt/user\", void 0, { camel: true }).then(r => r.json());\r\n\t}\r\n}\r\n","import { ApiUrlHelper } from \"mdtApiClient/helpers/urlHelper\";\r\nimport { MDTApiClient } from \"mdtApiClient/mdtApiClient\";\r\n\r\nexport interface OAuthService {\r\n\tid: number;\r\n\tcode: string;\r\n\ticon: string;\r\n\ttitle: string;\r\n}\r\n\r\nexport class ApiClientOAuth {\r\n\tconstructor(private apiClient: MDTApiClient) {}\r\n\r\n\tasync list(): Promise<OAuthService[]> {\r\n\t\treturn this.apiClient.request(\"oauth/list\", void 0, { camel: true }).then(r => r.json());\r\n\t}\r\n\r\n\tauthenticate(code: string) {\r\n\t\tlocation.href = `${this.apiClient.apiUrl}/oauth/${code}${ApiUrlHelper.getQueryString({\r\n\t\t\treferrer: location.href\r\n\t\t})}`;\r\n\t}\r\n}\r\n","import { MDTApiClient, MDTRequestSettings } from \"mdtApiClient/mdtApiClient\";\r\nimport { getUrlParams } from \"utils/helpers\";\r\n\r\nexport type setPasswordData = {\r\n\tpassword: string;\r\n\tconfirmPassword: string;\r\n\tkey: string;\r\n};\r\n\r\nexport type changePasswordData = {\r\n\toldPassword: string;\r\n\tnewPassword: string;\r\n};\r\n\r\nexport class ApiClientPassword {\r\n\tpublic PasswordUrl = \"/password/:key\";\r\n\r\n\tconstructor(private apiClient: MDTApiClient) {}\r\n\r\n\tprivate request(url: string, data?: Object, settings: MDTRequestSettings = {}, requestOptions: RequestInit = {}) {\r\n\t\treturn this.apiClient.request(url, data, settings, requestOptions);\r\n\t}\r\n\r\n\tasync checkSystemCanLogin() {\r\n\t\treturn this.request(\"password/checksystemcanlogin\");\r\n\t}\r\n\r\n\tasync checkRegistration(): Promise<{ enabled: boolean }> {\r\n\t\treturn this.request(\"password/checkregistration\", void 0, { camel: true }).then(r => r.json());\r\n\t}\r\n\r\n\tasync register(user: { Code: string; Title: string; Email: string }) {\r\n\t\tlet data = { User: user, Url: this.getPasswordUrl() };\r\n\t\treturn this.request(\"password/register\", data);\r\n\t}\r\n\r\n\tasync checkPasswordExpired(): Promise<{ days?: number; expired?: boolean; date?: string }> {\r\n\t\treturn this.request(\"password/checkpasswordexpired\", void 0, { camel: true }).then(\r\n\t\t\tr => r.json().catch(() => ({})) //todo: catch error\r\n\t\t);\r\n\t}\r\n\r\n\tasync sendInvitation(login: string) {\r\n\t\tvar data = { Login: login, Url: this.getPasswordUrl() };\r\n\t\treturn this.request(\"password/sendinvitation\", data);\r\n\t}\r\n\r\n\tasync sendForgotPassword(login: string) {\r\n\t\tvar data = { Login: login, Url: this.getPasswordUrl() };\r\n\t\treturn this.request(\"password/sendforgotpassword\", data);\r\n\t}\r\n\r\n\tasync sendInvitations(ids: number[]) {\r\n\t\tvar data = { UserIds: ids, Url: this.getPasswordUrl() };\r\n\t\treturn this.request(\"password/sendinvitations\", data);\r\n\t}\r\n\r\n\tasync checkInvitationKey(key: string) {\r\n\t\treturn this.request(\"password/checkinvitationkey\", { key });\r\n\t}\r\n\r\n\tasync setPassword(data: setPasswordData) {\r\n\t\treturn this.request(\"password/setpassword\", {\r\n\t\t\tPassword: data.password,\r\n\t\t\tPassword2: data.confirmPassword,\r\n\t\t\tKey: data.key\r\n\t\t});\r\n\t}\r\n\r\n\tasync changePassword(data: changePasswordData, reset: boolean) {\r\n\t\tconst method = reset ? \"ResetPassword\" : \"ChangePassword\";\r\n\t\tconst params = getUrlParams(data);\r\n\t\treturn this.request(`security/${method}?${params}`);\r\n\t}\r\n\r\n\tprivate getPasswordUrl() {\r\n\t\t// return location.href.replace(location.hash, \"#!\" + this.PasswordUrl); //toDo ?\r\n\t\treturn this.apiClient.appUrl + \"/#!\" + this.PasswordUrl;\r\n\t}\r\n}\r\n","export class MobileAppFacade {\r\n\tconstructor(private initialized = false) {}\r\n\r\n\tpublic ready(): boolean {\r\n\t\treturn this.initialized;\r\n\t}\r\n\r\n\tpublic statusbar(o: { height: number }): void {\r\n\t\twindow.alert(`statusbar method called, height is: ${o.height}px`);\r\n\t}\r\n\r\n\tpublic startQr(): void {\r\n\t\tconst w = window as any;\r\n\t\tw.nativeAppFacade && w.nativeAppFacade.startQr();\r\n\t}\r\n\r\n\tpublic resultQr(o: { result: string; error: string }): string {\r\n\t\treturn !o.error && o.result;\r\n\t}\r\n\r\n\tpublic startShare(o: { title: string; url: string }): void {\r\n\t\tconst w = window as any;\r\n\t\tw.nativeAppFacade && w.nativeAppFacade.startShare(o.title, o.url);\r\n\t}\r\n}\r\n","import { App } from \"quiz/components/app/App\";\r\nimport { MDTApiClient, MDTApiError } from \"mdtApiClient/mdtApiClient\";\r\nimport * as React from \"react\";\r\nimport { routes } from \"./QuizAppRoutes\";\r\nimport { QuizAuthService, QuizUser } from \"./services/QuizAuthService\";\r\nimport { QuizDataService } from \"./services/QuizDataService\";\r\nimport { TextService } from \"./services/text/TextService\";\r\nimport { setupIcons } from \"quiz/components/icon/setup\";\r\nimport { f7 } from \"framework7-react\";\r\nimport { Router } from \"framework7/modules/router/router\";\r\nimport { QuizQstService } from \"./services/data/QuizQstService\";\r\nimport { QuizDraftService } from \"./services/QuizDraftService\";\r\nimport { ErrorBoundary } from \"./components/errorBoundary/ErrorBoundary\";\r\nimport { FeedbackClient } from \"feedbackApiClient/feedbackApiClient\";\r\nimport { QuizNavigationManager } from \"./services/QuizNavigationManager\";\r\nimport { GlobalErrorHandler } from \"./components/globalErrorHandler/GlobalErrorHandler\";\r\nimport { SplashScreen } from \"./components/splashScreen/SplashScreen\";\r\nimport { Logger, LogType } from \"./services/Logger\";\r\nimport { QuizMetricsService } from \"./services/QuizMetricsService\";\r\nimport { QuizExtensionService } from \"./services/extension/QuizExtensionService\";\r\n//Icons\r\nimport { faAngleDown } from \"@fortawesome/pro-regular-svg-icons/faAngleDown\";\r\nimport { faTimes as farTimes } from \"@fortawesome/pro-regular-svg-icons/faTimes\";\r\nimport { faTimes as fasTimes } from \"@fortawesome/pro-solid-svg-icons/faTimes\";\r\nimport { faSpinner } from \"@fortawesome/pro-solid-svg-icons/faSpinner\";\r\nimport { faEllipsisV } from \"@fortawesome/pro-regular-svg-icons/faEllipsisV\";\r\nimport { faCalendarAlt } from \"@fortawesome/pro-regular-svg-icons/faCalendarAlt\";\r\nimport { faCommentAlt } from \"@fortawesome/pro-solid-svg-icons/faCommentAlt\";\r\nimport { faSignOutAlt } from \"@fortawesome/pro-solid-svg-icons/faSignOutAlt\";\r\nimport { faInfoCircle as farInfoCircle } from \"@fortawesome/pro-regular-svg-icons/faInfoCircle\";\r\nimport { faInfoCircle as fasInfoCircle } from \"@fortawesome/pro-solid-svg-icons/faInfoCircle\";\r\nimport { faCamera } from \"@fortawesome/pro-regular-svg-icons/faCamera\";\r\nimport { faQrcode as farQrCode } from \"@fortawesome/pro-regular-svg-icons/faQrcode\";\r\nimport { faCog as fasCog } from \"@fortawesome/pro-solid-svg-icons/faCog\";\r\nimport { faCog as farCog } from \"@fortawesome/pro-regular-svg-icons/faCog\";\r\nimport { faPaperPlane } from \"@fortawesome/pro-solid-svg-icons/faPaperPlane\";\r\nimport { faCheck as fasCheck } from \"@fortawesome/pro-solid-svg-icons/faCheck\";\r\nimport { faStore as farStore } from \"@fortawesome/pro-regular-svg-icons/faStore\";\r\nimport { faClinicMedical as farClinicMedical } from \"@fortawesome/pro-regular-svg-icons/faClinicMedical\";\r\nimport { faSearch as farSearch } from \"@fortawesome/pro-regular-svg-icons/faSearch\";\r\nimport { faAngleLeft as farAngleLeft } from \"@fortawesome/pro-regular-svg-icons/faAngleLeft\";\r\nimport { faHistory } from \"@fortawesome/pro-regular-svg-icons/faHistory\";\r\nimport { faAngleRight } from \"@fortawesome/pro-regular-svg-icons/faAngleRight\";\r\nimport { faFileChartLine } from \"@fortawesome/pro-regular-svg-icons/faFileChartLine\";\r\nimport { faArrowRight } from \"@fortawesome/pro-regular-svg-icons/faArrowRight\";\r\nimport { faArrowLeft } from \"@fortawesome/pro-regular-svg-icons/faArrowLeft\";\r\nimport { faFileAlt } from \"@fortawesome/pro-regular-svg-icons/faFileAlt\";\r\nimport { faCommentAlt as ProFaCommentAlt } from \"@fortawesome/pro-regular-svg-icons/faCommentAlt\";\r\nimport { faCalculatorAlt } from \"@fortawesome/pro-regular-svg-icons/faCalculatorAlt\";\r\nimport { faListAlt as farListAlt } from \"@fortawesome/pro-regular-svg-icons/faListAlt\";\r\nimport { faClipboardListCheck as farClipboardListCheck } from \"@fortawesome/pro-regular-svg-icons/faClipboardListCheck\";\r\nimport { faTimesCircle as fasTimesCircle } from \"@fortawesome/pro-solid-svg-icons/faTimesCircle\";\r\nimport { faSync } from \"@fortawesome/pro-regular-svg-icons/faSync\";\r\nimport { faKey } from \"@fortawesome/pro-regular-svg-icons/faKey\";\r\nimport { faUnlock } from \"@fortawesome/pro-regular-svg-icons/faUnlock\";\r\nimport { faSignOutAlt as regFaSignOutAlt } from \"@fortawesome/pro-regular-svg-icons/faSignOutAlt\";\r\nimport { faFileCertificate } from \"@fortawesome/pro-regular-svg-icons/faFileCertificate\";\r\nimport { faUserSecret } from \"@fortawesome/pro-regular-svg-icons/faUserSecret\";\r\nimport { faCheck as farCheck } from \"@fortawesome/pro-regular-svg-icons\";\r\nimport { faExclamationTriangle as fasExclamationTriangle } from \"@fortawesome/pro-solid-svg-icons/faExclamationTriangle\";\r\nimport { faCommentAltLines as farCommentAltLines } from \"@fortawesome/pro-regular-svg-icons/faCommentAltLines\";\r\nimport { faTimesCircle as farTimesCircle } from \"@fortawesome/pro-regular-svg-icons/faTimesCircle\";\r\nimport { faBadgeCheck as fasBadgeCheck } from \"@fortawesome/pro-solid-svg-icons/faBadgeCheck\";\r\nimport { faSiren as fasSiren } from \"@fortawesome/pro-solid-svg-icons/faSiren\";\r\nimport { faAsterisk as fasAsteriks } from \"@fortawesome/pro-solid-svg-icons/faAsterisk\";\r\nimport { faTrashAlt as farTrashAlt } from \"@fortawesome/pro-regular-svg-icons/faTrashAlt\";\r\nimport { faBan as farBan } from \"@fortawesome/pro-regular-svg-icons/faBan\";\r\nimport { faImages } from \"@fortawesome/pro-regular-svg-icons/faImages\";\r\nimport { faBackspace } from \"@fortawesome/pro-regular-svg-icons/faBackspace\";\r\nimport { faChartPieAlt } from \"@fortawesome/pro-solid-svg-icons/faChartPieAlt\";\r\nimport { faLanguage } from \"@fortawesome/pro-regular-svg-icons/faLanguage\";\r\nimport { faExclamationTriangle as farExclamationTriangle } from \"@fortawesome/pro-regular-svg-icons/faExclamationTriangle\";\r\nimport { faLockAlt as farLockAlt } from \"@fortawesome/pro-regular-svg-icons/faLockAlt\";\r\nimport { faUserShield } from \"@fortawesome/pro-regular-svg-icons/faUserShield\";\r\nimport { faLifeRing } from \"@fortawesome/pro-regular-svg-icons/faLifeRing\";\r\nimport { faSignature } from \"@fortawesome/pro-regular-svg-icons/faSignature\";\r\nimport { faEdit } from \"@fortawesome/pro-regular-svg-icons/faEdit\";\r\nimport { faEraser } from \"@fortawesome/pro-regular-svg-icons/faEraser\";\r\nimport { faLocationSlash } from \"@fortawesome/pro-regular-svg-icons/faLocationSlash\";\r\nimport { faLocation } from \"@fortawesome/pro-regular-svg-icons/faLocation\";\r\nimport { faEnvelope as farEnvelope } from \"@fortawesome/pro-regular-svg-icons/faEnvelope\";\r\nimport { faUser as farUser } from \"@fortawesome/pro-regular-svg-icons/faUser\";\r\nimport { faUserPlus as farUserPlus } from \"@fortawesome/pro-regular-svg-icons/faUserPlus\";\r\nimport { faSignIn as farSignIn } from \"@fortawesome/pro-regular-svg-icons/faSignIn\";\r\n//Services\r\nimport { QuizCompareQstService } from \"./services/data/QuizCompareQstService\";\r\nimport { QuizQrService } from \"./services/QuizQrService\";\r\nimport { UpdateManager } from \"./services/extension/UpdateManager\";\r\nimport { UploadHelper } from \"utils/UploadHelper\";\r\nimport { QuizLocalStorageService } from \"./services/QuizLocalStorageService\";\r\nimport { shortString, fixClicks } from \"utils/helpers\";\r\nimport { QuizUserService } from \"./services/QuizUserService\";\r\nimport { QuizAppState, quizAppReducer, initialQuizAppState, quizAppActions } from \"./quizAppReducer\";\r\nimport { CleaningService } from \"./services/CleaningService\";\r\nimport { MobileAppFacade } from \"./MobileAppFacade\";\r\n\r\nsetupIcons(\r\n\tfarTimes,\r\n\tfasTimes,\r\n\tfaSpinner,\r\n\tfaEllipsisV,\r\n\tfaCalendarAlt,\r\n\tfaCommentAlt,\r\n\tfaSignOutAlt,\r\n\tfarInfoCircle,\r\n\tfasInfoCircle,\r\n\tfasCog,\r\n\tfarCog,\r\n\tfaCamera,\r\n\tfarQrCode,\r\n\tfaPaperPlane,\r\n\tfasCheck,\r\n\tfarSearch,\r\n\tfarAngleLeft,\r\n\tfarStore,\r\n\tfarClinicMedical,\r\n\tfaHistory,\r\n\tfaAngleRight,\r\n\tfaFileChartLine,\r\n\tfaAngleDown,\r\n\tfaArrowLeft,\r\n\tfaArrowRight,\r\n\tfaFileAlt,\r\n\tProFaCommentAlt,\r\n\tfaCalculatorAlt,\r\n\tfaSync,\r\n\tfaKey,\r\n\tfarListAlt,\r\n\tfarClipboardListCheck,\r\n\tfasTimesCircle,\r\n\tfaUnlock,\r\n\tregFaSignOutAlt,\r\n\tfaFileCertificate,\r\n\tfaUserSecret,\r\n\tfarCheck,\r\n\tfasExclamationTriangle,\r\n\tfarCommentAltLines,\r\n\tfarTimesCircle,\r\n\tfasBadgeCheck,\r\n\tfasSiren,\r\n\tfasAsteriks,\r\n\tfarTrashAlt,\r\n\tfarBan,\r\n\tfaImages,\r\n\tfaBackspace,\r\n\tfaChartPieAlt,\r\n\tfaLanguage,\r\n\tfarExclamationTriangle,\r\n\tfarLockAlt,\r\n\tfaUserShield,\r\n\tfaLifeRing,\r\n\tfaSignature,\r\n\tfaEdit,\r\n\tfaEraser,\r\n\tfaLocation,\r\n\tfaLocationSlash,\r\n\tfarEnvelope,\r\n\tfarUser,\r\n\tfarUserPlus,\r\n\tfarSignIn\r\n);\r\n\r\nexport const logo = require(\"./pages/logo.svg\");\r\n\r\n// определяется с помощью WebpackDefinePlugin\r\ndeclare const EXT_CONFIG;\r\nconst config = typeof EXT_CONFIG == \"undefined\" ? {} : EXT_CONFIG;\r\n\r\nexport const CONFIG = {\r\n\tapiUrl: config.apiUrl || \"https://stage.ics-it.ru/rb/test/api\",\r\n\tapiVersion: \"new\",\r\n\tappUrl: config.appUrl || \"https://stage.ics-it.ru/rb/test/quiz2\",\r\n\tappMode: config.appMode || \"test\",\r\n\tappName: config.appName || \"Quiz\",\r\n\tversion: config.version || shortString(window.location.href, 50),\r\n\tfeedbackUrl: config.feedbackUrl || \"https://ics.ics-it.ru/api/feedback\",\r\n\timageCompressQuality: config.imageCompressQuality || 0.2,\r\n\trevision: config.revision\r\n};\r\n\r\nexport const logger = new Logger();\r\nexport const uploadHelper = new UploadHelper();\r\nexport const quizExtensionService = new QuizExtensionService();\r\nexport const cleaningService = new CleaningService(quizExtensionService.db);\r\nexport const quizQrService = new QuizQrService();\r\nexport const apiClient = new MDTApiClient(CONFIG.apiUrl, CONFIG.apiVersion, null, {\r\n\tappUrl: CONFIG.appUrl,\r\n\tonRequestError: (err, url, data) => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst isMdtApiError = err instanceof MDTApiError;\r\n\t\t\tlogger.log(\r\n\t\t\t\t\"Request error\",\r\n\t\t\t\t{\r\n\t\t\t\t\terror: err,\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tdata\r\n\t\t\t\t},\r\n\t\t\t\tLogType.error\r\n\t\t\t);\r\n\r\n\t\t\tif (isMdtApiError) {\r\n\t\t\t\tswitch ((err as MDTApiError).code) {\r\n\t\t\t\t\tcase \"SecurityTableAccess\":\r\n\t\t\t\t\t\tif (err?.args?.User == \"Anonymous\") location.reload();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\tthrow err;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treject(err);\r\n\t\t});\r\n\t}\r\n});\r\nexport const quizDataService = new QuizDataService(apiClient);\r\nexport const quizLocalStorageService = new QuizLocalStorageService();\r\nexport const quizDraftService = new QuizDraftService({\r\n\tevents: { modified: [(instance: QuizDraftService) => instance.$data.changes++] },\r\n\t$initialData: { changes: 0 }\r\n});\r\nexport const quizCompareQstService = new QuizCompareQstService();\r\nexport const quizQstService = new QuizQstService(apiClient, quizDraftService);\r\nexport const textService = new TextService(apiClient);\r\nexport const quizAuthService = new QuizAuthService(apiClient, {\r\n\tinitDependency: user => {\r\n\t\tif (user.isAnonymous) return new Promise(resolve => resolve());\r\n\t\treturn quizQstService.init();\r\n\t}\r\n});\r\nexport const quizUserService = new QuizUserService(apiClient, textService, quizAuthService);\r\n\r\nexport const t = (text: string, args?: Record<string, string | number>): string => textService.t(text, args);\r\nexport const feedbackClient = new FeedbackClient(new MDTApiClient(CONFIG.feedbackUrl, CONFIG.apiVersion));\r\nexport const nav = new QuizNavigationManager();\r\nexport const navigate = (url: string, options?: Router.RouteOptions): Router.Router =>\r\n\tf7.views.main.router.navigate(url, options);\r\nexport const quizMetricsService = new QuizMetricsService();\r\nexport const updateManager = new UpdateManager();\r\n\r\ntype QuizAppProps = {\r\n\tonInit?(): void;\r\n};\r\n\r\nconst appDepsReady = (state: QuizAppState) => {\r\n\tconst deps = state.deps;\r\n\tconst ready = Object.keys(deps).every(dep => deps[dep] === true);\r\n\treturn ready;\r\n};\r\n\r\nexport const QuizApp: React.FC<QuizAppProps> = props => {\r\n\tconst [state, dispatch] = React.useReducer(quizAppReducer, initialQuizAppState);\r\n\tconst [userLanguageId, setUserLanguageId] = React.useState<number>();\r\n\tlocalStorage.removeItem(\"currentTab\");\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst quizUserReady = quizUserService.init();\r\n\t\tPromise.all([quizUserReady])\r\n\t\t\t.then(() => {\r\n\t\t\t\treturn dispatch({ type: quizAppActions.USER_READY });\r\n\t\t\t})\r\n\t\t\t.catch(e => dispatch({ type: quizAppActions.ERROR, payload: e }));\r\n\t}, [userLanguageId]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst removeInvalidCache = cleaningService.removeAllInvalidOutletCache();\r\n\t\tconst removeInvalidFiles = cleaningService.removeInvalidFiles();\r\n\t\tPromise.all([removeInvalidCache, removeInvalidFiles])\r\n\t\t\t.then(() => dispatch({ type: quizAppActions.DATA_READY }))\r\n\t\t\t.catch(e => dispatch({ type: quizAppActions.ERROR, payload: e }));\r\n\t}, []);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst logVisibility = () => logger.log(\"app-visibility-change\", { visibilityState: document.visibilityState });\r\n\t\tdocument.addEventListener(\"visibilitychange\", logVisibility);\r\n\t\treturn () => document.removeEventListener(\"visibilitychange\", logVisibility);\r\n\t}, []);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst userServiceUnsub = quizUserService.subscribe(\"languagechanged\", id => setUserLanguageId(id));\r\n\t\treturn () => userServiceUnsub();\r\n\t}, []);\r\n\r\n\tif (appDepsReady(state) && !state.ready) {\r\n\t\tdispatch({ type: quizAppActions.APP_READY });\r\n\t}\r\n\r\n\treturn state.ready ? (\r\n\t\t<ErrorBoundary>\r\n\t\t\t<GlobalErrorHandler />\r\n\t\t\t<App\r\n\t\t\t\troutes={routes(state.error)}\r\n\t\t\t\tappParams={{\r\n\t\t\t\t\tname: CONFIG.appName,\r\n\t\t\t\t\ton: {\r\n\t\t\t\t\t\tinit: () => {\r\n\t\t\t\t\t\t\tprops.onInit && props.onInit();\r\n\t\t\t\t\t\t\t(window as any).mobileAppFacade = new MobileAppFacade(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttouch: {\r\n\t\t\t\t\t\ttapHold: true,\r\n\t\t\t\t\t\ttouchClicksDistanceThreshold: 25\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tCONFIG={CONFIG}\r\n\t\t\t></App>\r\n\t\t</ErrorBoundary>\r\n\t) : (\r\n\t\t<SplashScreen />\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { QuizPage } from \"./components/quizPage/QuizPage\";\r\nimport { ForgotPasswordPage } from \"./pages/forgotPasswordPage/ForgotPasswordPage\";\r\nimport { SendPasswordPage } from \"./pages/sendPasswordPage/SendPasswordPage\";\r\nimport { LoginPage } from \"./pages/loginPage/LoginPage\";\r\nimport { RegistrationPage } from \"./pages/registrationPage/registrationPage\";\r\nimport { nav, quizAuthService, logger, t, quizUserService } from \"./QuizApp\";\r\nimport { FullscreenErrorPage } from \"./components/infoBlock/fullscreenInfoBlock/FullscreenErrorPage\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { QuizFeedbackPage } from \"./pages/feedback/QuizFeedbackPage\";\r\nimport { FeedbackTypeEnum } from \"quiz/components/feedback/Feedback\";\r\nimport { MDTApiError } from \"mdtApiClient/mdtApiClient\";\r\nimport { QuizError } from \"./components/errors/QuizError\";\r\nimport { AcceptPrivacyPolicyPage } from \"./pages/acceptPrivacyPolicy/AcceptPrivacyPolicyPage\";\r\nimport { serverErrorIcon } from \"./components/infoScreenIcons/serverErrorIcon\";\r\nimport { FullscreenInfoProps } from \"./components/infoBlock/fullscreenInfoBlock/FullscreenInfo\";\r\nimport { parseErrorMessage } from \"utils/helpers\";\r\nimport { f7 } from \"framework7-react\";\r\nimport { RegistrationSuccessPage } from \"./pages/registrationSuccessPage/RegistrationSuccessPage\";\r\n\r\nexport interface QuizPageComponentProps {\r\n\tsetTitle(title: string): void;\r\n\tsetSubtitle(subtitle: string): void;\r\n\tsetActions(actions: React.ReactNode): void;\r\n\tsetSearch(active: boolean): void;\r\n\tcontext: any; //todo typing context?\r\n}\r\n\r\nexport const routes = (error: Error | MDTApiError) => [\r\n\t{\r\n\t\tpath: \"/password/:passwordKey\", //todo: from ApiClientPassword\r\n\t\tcomponent: SendPasswordPage\r\n\t},\r\n\t{\r\n\t\tpath: \"/registration/\",\r\n\t\tcomponent: RegistrationPage\r\n\t},\r\n\t{\r\n\t\tpath: \"/registration-success/\",\r\n\t\tcomponent: RegistrationSuccessPage\r\n\t},\r\n\t{\r\n\t\tpath: \"/forgot-password/\",\r\n\t\tcomponent: ForgotPasswordPage\r\n\t},\r\n\t{\r\n\t\tpath: \"/feedback/\",\r\n\t\tcomponent: QuizFeedbackPage\r\n\t},\r\n\t{\r\n\t\tpath: \"(.*)\",\r\n\t\tasync(routeTo, routeFrom, resolve) {\r\n\t\t\tlogger.log(\"navigation\", {\r\n\t\t\t\tpathTo: routeTo.url,\r\n\t\t\t\tpathFrom: routeFrom.url\r\n\t\t\t});\r\n\r\n\t\t\tif (error) {\r\n\t\t\t\tconst props: FullscreenInfoProps = {\r\n\t\t\t\t\tcolorType: ColorTypes.danger,\r\n\t\t\t\t\ttitle: t(\"Critical App Error\"),\r\n\t\t\t\t\tmessage: parseErrorMessage(error),\r\n\t\t\t\t\ticon: serverErrorIcon,\r\n\t\t\t\t\tprimaryButton: {\r\n\t\t\t\t\t\ttitle: t(\"Refresh\"),\r\n\t\t\t\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\t\t\t\tcommand: () => f7.views.main.router.refreshPage()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsecondaryButton: {\r\n\t\t\t\t\t\ttitle: t(\"Complain\"),\r\n\t\t\t\t\t\ticon: [\"far\", \"comment-alt-lines\"],\r\n\t\t\t\t\t\tcommand: () => nav.toFeedback({ type: FeedbackTypeEnum.Problem, value: error.message })\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn resolve({ component: FullscreenErrorPage }, { props });\r\n\t\t\t}\r\n\t\t\tif (!quizAuthService.isLoggedIn()) {\r\n\t\t\t\treturn resolve({ component: LoginPage }, {});\r\n\t\t\t}\r\n\t\t\tif (!quizUserService.privacyPolicyIsAccepted()) {\r\n\t\t\t\treturn resolve({ component: AcceptPrivacyPolicyPage }, {});\r\n\t\t\t}\r\n\t\t\tconst { component, wrapProps, componentProps, pageEvents } = nav.getNavData(routeTo.url, routeTo.context);\r\n\t\t\tconst props = {\r\n\t\t\t\tcomponent,\r\n\t\t\t\tcomponentProps,\r\n\t\t\t\tbackLink: true\r\n\t\t\t};\r\n\t\t\treturn resolve({ component: QuizPage }, { props: { ...props, ...wrapProps, pageEvents } });\r\n\t\t}\r\n\t}\r\n];\r\n","import * as keycode from \"keycode\";\r\nimport * as React from \"react\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { v, vd } from \"utils/helpers\";\r\nimport { IconProp, IconProps } from \"../icon/Icon\";\r\nimport { UISettings } from \"utils/constants\";\r\n\r\nexport interface ActionItem {\r\n\ttitle?: string;\r\n\ticon?: IconProp;\r\n\tcolorType?: ColorTypes;\r\n\r\n\tcommand?: (action: ActionItem) => void | Promise<void>;\r\n\tenabled?: (action: ActionItem) => boolean;\r\n\tvisible?: (action: ActionItem) => boolean;\r\n}\r\n\r\nconst enum ActionWaitState {\r\n\twaiting,\r\n\tok,\r\n\terror\r\n}\r\n\r\nconst StateIcons: { [key: string]: IconProp } = {\r\n\t[ActionWaitState.waiting]: \"spinner\",\r\n\t[ActionWaitState.ok]: \"check\",\r\n\t[ActionWaitState.error]: \"times\"\r\n};\r\n\r\nconst StateColorTypes: { [key: string]: ColorTypes } = {\r\n\t[ActionWaitState.ok]: ColorTypes.success,\r\n\t[ActionWaitState.error]: ColorTypes.danger\r\n};\r\n\r\nexport function useActionItem(actionItem: ActionItem) {\r\n\tlet [waitingState, setWaitingState] = React.useState<ActionWaitState>();\r\n\tlet waitingStateTimeout = React.useRef<number>();\r\n\tlet mounted = React.useRef<boolean>();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tmounted.current = true;\r\n\t\treturn () => {\r\n\t\t\tmounted.current = false;\r\n\t\t\tclearTimeout(waitingStateTimeout.current);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst icon = () => {\r\n\t\tif (waitingState != null) return StateIcons[waitingState];\r\n\t\treturn actionItem.icon;\r\n\t};\r\n\r\n\tconst iconProps = () => (waitingState == ActionWaitState.waiting ? ({ pulse: true } as IconProps) : null);\r\n\r\n\tconst colorType = () => StateColorTypes[waitingState] || actionItem.colorType;\r\n\r\n\tconst enabled = () => vd(actionItem.enabled, true, actionItem);\r\n\r\n\tconst visible = () => vd(actionItem.visible, true, actionItem);\r\n\r\n\tconst setResultState = (state: ActionWaitState) => {\r\n\t\tif (!mounted.current) return;\r\n\t\tsetWaitingState(state);\r\n\t\tclearTimeout(waitingStateTimeout.current);\r\n\t\tif (state == ActionWaitState.ok || state == ActionWaitState.error) {\r\n\t\t\twaitingStateTimeout.current = window.setTimeout(\r\n\t\t\t\t() => mounted.current && setWaitingState(null),\r\n\t\t\t\tUISettings.userTimeouts.button\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst command = () => {\r\n\t\tif (!enabled() || waitingState != null) return;\r\n\t\tlet res = v(actionItem.command, actionItem);\r\n\t\tif (res instanceof Promise) {\r\n\t\t\tsetResultState(ActionWaitState.waiting);\r\n\t\t\tres.then(\r\n\t\t\t\t() => setResultState(ActionWaitState.ok),\r\n\t\t\t\t() => setResultState(ActionWaitState.error)\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn {\r\n\t\ticon,\r\n\t\ticonProps,\r\n\t\ttitle: actionItem.title,\r\n\t\tenabled,\r\n\t\tvisible,\r\n\t\tcolorType,\r\n\t\tkeyboardHandler: e => {\r\n\t\t\tlet k = keycode(e);\r\n\t\t\tif (k === \"enter\" || k === \"space\") {\r\n\t\t\t\tif (actionItem.command) {\r\n\t\t\t\t\tcommand();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tclickHandler: () => command()\r\n\t};\r\n}\r\n","import React from \"react\";\r\nimport { IconProp, Icon } from \"quiz/components/icon/Icon\";\r\nimport { ActionsButton } from \"quiz/components/actions/Actions\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getActionSheetItemStyles } from \"./actionSheetItemStyles\";\r\nimport { css, StyleDeclarationValue } from \"wraps/styleCreators\";\r\nimport { ColorTypes } from \"theme/colors\";\r\n\r\nexport type ActionSheetItemProps = {\r\n\ticon?: IconProp;\r\n\ticonStyles?: StyleDeclarationValue;\r\n\ttext: string;\r\n\trenderIcon?: () => React.ReactElement;\r\n\tcolorType?: ColorTypes;\r\n\tonClick?: () => void;\r\n};\r\n\r\nexport const ActionSheetItem: React.FC<ActionSheetItemProps> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst styles = useStyles(getActionSheetItemStyles);\r\n\r\n\treturn (\r\n\t\t<ActionsButton onClick={props.onClick} className={css(styles.actionButton)}>\r\n\t\t\t<div className={css(styles.wrap)}>\r\n\t\t\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t\t\t{props.icon && !props.renderIcon && (\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\ticon={props.icon}\r\n\t\t\t\t\t\t\tcolor={theme.colors[props.colorType || ColorTypes.primary].main}\r\n\t\t\t\t\t\t\tstyles={props.iconStyles}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{props.renderIcon && !props.icon && props.renderIcon()}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Text colorType={props.colorType}>{props.text}</Text>\r\n\t\t\t</div>\r\n\t\t</ActionsButton>\r\n\t);\r\n};\r\nActionSheetItem.displayName = \"ActionSheetItem\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getActionSheetItemStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tactionButton: {\r\n\t\t\theight: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\twrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: \"100%\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\talignItems: \"center\",\r\n\t\t\tmarginRight: theme.sizing.sizes.md,\r\n\t\t\tpadding: `${theme.sizing.sizes.md} 0`\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { RefObject } from \"react\";\r\nimport { Actions as ActionsF7, ActionsGroup, ActionsLabel, ActionsButton, F7Actions } from \"framework7-react\";\r\n\r\nexport type TActions = F7Actions;\r\n\r\nexport interface ActionsProps extends F7Actions.Props {}\r\n\r\nexport const Actions = React.forwardRef<TActions, React.PropsWithChildren<ActionsProps>>(\r\n\t(props, ref: RefObject<TActions>) => {\r\n\t\treturn (\r\n\t\t\t<ActionsF7\r\n\t\t\t\t{...props}\r\n\t\t\t\tonActionsOpen={() => {\r\n\t\t\t\t\twindow.onpopstate = () => {\r\n\t\t\t\t\t\tref.current && ref.current.close(false);\r\n\t\t\t\t\t};\r\n\t\t\t\t}}\r\n\t\t\t\tonActionsClose={() => {\r\n\t\t\t\t\twindow.onpopstate = null;\r\n\t\t\t\t}}\r\n\t\t\t\tref={ref}\r\n\t\t\t>\r\n\t\t\t\t{props.children}\r\n\t\t\t</ActionsF7>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nActions.displayName = \"f7-actions\";\r\n\r\nexport { ActionsGroup, ActionsLabel, ActionsButton };\r\n","import { ActionsGroup, TActions, Actions } from \"quiz/components/actions/Actions\";\r\nimport { ActionSheetItem } from \"../actionSheetItem/ActionSheetItem\";\r\nimport React, { RefObject } from \"react\";\r\nimport { nav, t, quizAuthService } from \"quiz/QuizApp\";\r\nimport { f7 } from \"framework7-react\";\r\nimport { ColorTypes } from \"theme/colors\";\r\n\r\ntype QuizActionsProps = {\r\n\textend?: boolean;\r\n\tactions?: () => React.ReactElement;\r\n};\r\n\r\nexport const QuizActions = React.forwardRef<TActions, React.PropsWithChildren<QuizActionsProps>>(\r\n\t(props, ref: RefObject<TActions>) => {\r\n\t\treturn (\r\n\t\t\t<Actions ref={ref}>\r\n\t\t\t\t{props.extend != null && (\r\n\t\t\t\t\t<ActionsGroup>\r\n\t\t\t\t\t\t<ActionSheetItem\r\n\t\t\t\t\t\t\tonClick={() => nav.toFeedback()}\r\n\t\t\t\t\t\t\ticon={[\"far\", \"comment-alt-lines\"]}\r\n\t\t\t\t\t\t\ttext={t(\"Feedback\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ActionSheetItem\r\n\t\t\t\t\t\t\tonClick={() => nav.toAbout()}\r\n\t\t\t\t\t\t\ticon={[\"far\", \"info-circle\"]}\r\n\t\t\t\t\t\t\ttext={t(\"About App\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ActionsGroup>\r\n\t\t\t\t)}\r\n\t\t\t\t{props.actions != null && <ActionsGroup>{props.actions()}</ActionsGroup>}\r\n\t\t\t\t<ActionsGroup>\r\n\t\t\t\t\t<ActionSheetItem icon={[\"far\", \"times\"]} text={t(\"Close\")} />\r\n\t\t\t\t</ActionsGroup>\r\n\t\t\t</Actions>\r\n\t\t);\r\n\t}\r\n);\r\nQuizActions.displayName = \"QuizActions\";\r\n","import Framework7React, { App as FWApp, F7App, View } from \"framework7-react\";\r\nimport { Framework7Params } from \"framework7/components/app/app-class\";\r\nimport \"framework7/css/framework7.bundle.css\";\r\nimport Framework7 from \"framework7/framework7.esm.bundle.js\";\r\nimport * as React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { theme } from \"themes/defaultTheme\";\r\nimport { createThemeApplier } from \"wraps/component\";\r\nimport \"inobounce\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport { InstanceBar } from \"quiz/components/instanceBar/InstanceBar\";\r\n\r\nimport \"./bugFix.css\"; //for ripple effect safari fix\r\n\r\nFramework7.use(Framework7React);\r\n\r\nconst f7params: Framework7Params = {\r\n\ttheme: \"md\",\r\n\tview: {\r\n\t\tpushState: true,\r\n\t\tpushStateRoot: location.pathname == \"/\" ? null : location.pathname\r\n\t},\r\n\tstatusbar: {\r\n\t\tenabled: true,\r\n\t\tiosOverlaysWebView: true,\r\n\t\tandroidOverlaysWebView: true,\r\n\t\tscrollTopOnClick: false\r\n\t},\r\n\tswipeout: {\r\n\t\tremoveElements: false,\r\n\t\tnoFollow: true\r\n\t}\r\n};\r\n\r\nconst applyTheme = createThemeApplier((theme: Theme) => {\r\n\treturn {\r\n\t\t\"f7-font-family\": theme.typography.fonts.base,\r\n\t\t\"f7-text-color\": theme.colors.base.text,\r\n\t\t\"f7-line-height\": theme.sizing.lineHeights.body,\r\n\t\t\"f7-font-size\": theme.sizing.fontSizes.body,\r\n\t\t\"f7-theme-color\": theme.colors.primary.main,\r\n\t\t\"f7-button-letter-spacing\": \"normal\",\r\n\r\n\t\t//Page\r\n\t\t\"f7-page-bg-color\": theme.colors.base.background,\r\n\r\n\t\t//Button\r\n\t\t\"f7-button-large-font-size\": theme.sizing.fontSizes.body,\r\n\t\t\"f7-button-large-font-weight\": theme.sizing.fontWeights.medium,\r\n\t\t\"f7-button-large-height\": theme.sizing.sizes.xxl,\r\n\t\t\"f7-button-text-transform\": \"none\",\r\n\r\n\t\t//List\r\n\t\t\"f7-list-margin-vertical\": 0,\r\n\t\t\"f7-list-border-color\": theme.colors.base.background,\r\n\t\t\"f7-list-in-list-padding-left\": \"0px\",\r\n\r\n\t\t//ListItem\r\n\t\t\"f7-list-item-border-color\": theme.colors.base.background,\r\n\t\t\"f7-list-item-padding-horizontal\": theme.constants.gridPadding,\r\n\t\t\"f7-list-item-padding-vertical\": scale(theme.sizing.sizes.lg, ScaleEnum.Half),\r\n\t\t\"f7-list-chevron-icon-color\": theme.colors.primary.main,\r\n\t\t\"f7-list-chevron-icon-font-size\": theme.sizing.fontSizes.body,\r\n\t\t\"f7-checkbox-inactive-color\": theme.colors.primary.main,\r\n\t\t\"f7-radio-inactive-color\": theme.colors.primary.main,\r\n\t\t\"f7-checkbox-size\": theme.sizing.sizes.md,\r\n\t\t\"f7-radio-size\": theme.sizing.sizes.md,\r\n\r\n\t\t//Swipeout\r\n\t\t\"f7-swipeout-delete-button-bg-color\": theme.colors.danger.main,\r\n\r\n\t\t//Skeleton\r\n\t\t\"f7-skeleton-color\": theme.colors.base.disabled,\r\n\r\n\t\t//Preloader\r\n\t\t\"f7-preloader-modal-bg-color\": \"white\",\r\n\t\t\"f7-preloader-color\": theme.colors.primary.main,\r\n\r\n\t\t//Dialogs\r\n\t\t\"f7-dialog-title-text-color\": theme.colors.base.text,\r\n\t\t\"f7-dialog-title-font-size\": theme.sizing.fontSizes.bodyMax,\r\n\t\t\"f7-dialog-title-font-weight\": theme.sizing.fontWeights.medium,\r\n\r\n\t\t\"f7-link-highlight-color\": \"rgba(0, 0, 0, 0.1)\",\r\n\r\n\t\t//Notification\r\n\t\t\"f7-notification-padding\": scale(theme.sizing.sizes.lg, ScaleEnum.Half),\r\n\t\t\"f7-notification-box-shadow\": \"none\",\r\n\t\t\"f7-notification-bg-color\": \"transparent\",\r\n\r\n\t\t//Toast\r\n\t\t\"f7-toast-font-size\": theme.sizing.fontSizes.caption,\r\n\t\t\"f7-toast-border-radius\": theme.sizing.sizes.xl,\r\n\t\t\"f7-toast-padding-vertical\": theme.sizing.sizes.sm,\r\n\t\t\"f7-toast-padding-horizontal\": theme.sizing.sizes.md,\r\n\r\n\t\t//Navbar\r\n\t\t\"f7-navbar-bg-color\": theme.colors.primary.background,\r\n\t\t\"f7-navbar-height\": scale(theme.sizing.sizes.lg, ScaleEnum.Double),\r\n\t\t\"f7-navbar-text-color\": theme.colors.base.text,\r\n\t\t\"f7-navbar-title-font-size\": theme.sizing.fontSizes.body,\r\n\t\t\"f7-navbar-link-color\": theme.colors.primary.main,\r\n\t\t\"f7-navbar-subtitle-font-size\": theme.sizing.fontSizes.caption,\r\n\t\t\"f7-navbar-shadow-image\": \"none\",\r\n\t\t\"f7-navbar-title-margin-left\": \"0\",\r\n\r\n\t\t//Actions\r\n\t\t\"f7-actions-button-text-color\": theme.colors.base.text,\r\n\t\t\"f7-actions-group-border-color\": theme.colors.base.border,\r\n\t\t\"f7-actions-button-height\": theme.sizing.sizes.xxl,\r\n\t\t\"f7-actions-button-height-landscape\": theme.sizing.sizes.xxl,\r\n\t\t\"f7-actions-button-padding\": `0 ${theme.constants.gridPadding}`,\r\n\r\n\t\t//Photbrowser\r\n\t\t\"f7-photobrowser-dark-bars-bg-color\": \"#000000\" //toDO: найти куда черный положить в теме\r\n\t};\r\n});\r\n\r\nexport interface AppProps extends Pick<F7App.Props, \"routes\"> {\r\n\tappParams: Framework7Params;\r\n\tCONFIG: any;\r\n}\r\n\r\nexport const App: React.FunctionComponent<AppProps> = props => {\r\n\tuseEffect(() => {\r\n\t\tapplyTheme(theme);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<FWApp params={{ ...f7params, ...props.appParams }} routes={props.routes}>\r\n\t\t\t<View stackPages main>\r\n\t\t\t\t{props.children}\r\n\t\t\t\t{props.CONFIG.appMode !== \"prod\" && (\r\n\t\t\t\t\t<InstanceBar\r\n\t\t\t\t\t\tappMode={props.CONFIG.appMode}\r\n\t\t\t\t\t\ttext={`${props.CONFIG.version}:${props.CONFIG.revision} — ${props.CONFIG.apiUrl} — ${props.CONFIG.appMode}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\t\t</FWApp>\r\n\t);\r\n};\r\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./bugFix.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../../node_modules/css-loader/dist/cjs.js!./bugFix.css\",\n      function () {\n        content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./bugFix.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { getBlockStyles, getBlockHeaderStyles, getBlockTitleStyles, getBlockDescriptionStyles } from \"./blockStyles\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { StyleDeclarationValue, css } from \"wraps/styleCreators\";\r\nimport { ColorTypes } from \"theme/colors\";\r\n\r\nexport interface BlockProps {\r\n\tstyles?: StyleDeclarationValue;\r\n\tsecondary?: boolean;\r\n}\r\n\r\nexport const Block: React.FC<BlockProps> = React.memo(props => {\r\n\tconst styles = useStyles(getBlockStyles, props);\r\n\treturn <div className={css(styles.block, props.styles && props.styles)}>{props.children}</div>;\r\n});\r\nBlock.displayName = \"Block\";\r\n\r\nexport const BlockHeader: React.FC = function BlockHeader(props) {\r\n\tconst styles = useStyles(getBlockHeaderStyles);\r\n\treturn (\r\n\t\t<div className={css(styles.blockHeader)}>\r\n\t\t\t<Text styles={styles.blockHeaderText} size={TextSizeType.bodyMax}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</Text>\r\n\t\t</div>\r\n\t);\r\n};\r\nBlockHeader.displayName = \"BlockHeader\";\r\n\r\ntype BlockTitleProps = {\r\n\ttitle: string;\r\n\tcounter?: number; //toDO: rename\r\n};\r\n\r\nexport const BlockTitle: React.FC<BlockTitleProps> = props => {\r\n\tconst styles = useStyles(getBlockTitleStyles);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Block styles={styles.blockTitle}>\r\n\t\t\t\t<Text styles={styles.title}>{props.title}</Text>\r\n\t\t\t\t<Text styles={styles.title}>{props.counter}</Text>\r\n\t\t\t</Block>\r\n\t\t</div>\r\n\t);\r\n};\r\nBlockTitle.displayName = \"BlockTitle\";\r\n\r\ninterface BlockDescriptionProps extends Pick<BlockProps, \"styles\"> {\r\n\ttext: string;\r\n\tcolorType?: ColorTypes;\r\n\tmuted?: boolean;\r\n}\r\n\r\nexport const BlockDescription: React.FC<BlockDescriptionProps> = ({ text, colorType, muted = true, styles }) => {\r\n\tconst s = useStyles(getBlockDescriptionStyles);\r\n\treturn (\r\n\t\t<Block>\r\n\t\t\t<Text muted={muted} styles={[s.description, styles]} tag=\"p\" colorType={colorType}>\r\n\t\t\t\t{text}\r\n\t\t\t</Text>\r\n\t\t</Block>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { BlockProps } from \"./Block\";\r\n\r\nexport const getBlockStyles = (theme: Theme, props: BlockProps) => {\r\n\tconst backgroundColor = props.secondary ? theme.colors.primary.background : \"transparent\";\r\n\treturn {\r\n\t\tblock: {\r\n\t\t\tbackgroundColor,\r\n\t\t\twidth: \"100%\",\r\n\t\t\tpadding: `0 ${theme.constants.gridPadding}`,\r\n\t\t\tboxSizing: \"border-box\",\r\n\t\t\toverflow: \"hidden\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const getBlockHeaderStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tblockHeader: {\r\n\t\t\tmarginTop: theme.sizing.sizes.md,\r\n\t\t\tmarginBottom: theme.sizing.sizes.sm,\r\n\t\t\tlineHeight: theme.sizing.sizes.xxs\r\n\t\t} as CSSProp,\r\n\t\tblockHeaderText: {\r\n\t\t\tlineHeight: theme.sizing.sizes.lg\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const getBlockTitleStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tblockTitle: {\r\n\t\t\tpaddingTop: theme.sizing.sizes.md,\r\n\t\t\tmarginBottom: theme.sizing.sizes.sm,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tlineHeight: \"1em\"\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\tcolor: theme.colors.base.hover,\r\n\t\t\tlineHeight: theme.sizing.sizes.md\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const getBlockDescriptionStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tdescription: {\r\n\t\t\tlineHeight: theme.sizing.lineHeights.bodyMin,\r\n\t\t\tfontSize: theme.sizing.fontSizes.caption,\r\n\t\t\tmargin: `${theme.sizing.sizes.sm} 0 ${theme.sizing.sizes.md} 0`\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Text } from \"quiz/components/text/Text\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { KeyboardEventHandler, MouseEventHandler } from \"react\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { filterProps } from \"utils/helpers\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { Icon, IconProp, IconProps } from \"../icon/Icon\";\r\nimport { getButtonStyles } from \"./buttonStyles\";\r\n\r\nexport enum ButtonTag {\r\n\ta = \"a\",\r\n\tbutton = \"button\"\r\n}\r\n\r\nexport enum ButtonType {\r\n\tnormal = \"normal\",\r\n\tlink = \"link\",\r\n\tdanger = \"danger\",\r\n\ttransparent = \"transparent\"\r\n}\r\nexport enum ButtonSize {\r\n\tnormal = \"normal\",\r\n\tlarge = \"large\"\r\n}\r\n\r\nexport interface ButtonProps {\r\n\ttype?: ButtonType;\r\n\tsize?: ButtonSize;\r\n\tcolorType?: ColorTypes;\r\n\t/** Icon name */\r\n\ticon?: IconProp;\r\n\ticonRight?: IconProp;\r\n\t/** Icon props */\r\n\ticonProps?: IconProps;\r\n\tfullWidth?: boolean;\r\n\r\n\t/** `true` by default */\r\n\tenabled?: boolean;\r\n\t/** `button` by default */\r\n\ttag?: ButtonTag;\r\n\r\n\tonClick: MouseEventHandler<HTMLButtonElement | HTMLAnchorElement>;\r\n\tonKeyDown?: KeyboardEventHandler<HTMLButtonElement | HTMLAnchorElement>;\r\n}\r\n\r\nexport const Button: React.FunctionComponent<ButtonProps> = function Button(props) {\r\n\tconst styles = useStyles(getButtonStyles, props);\r\n\r\n\tconst Tag = props.tag || \"button\";\r\n\r\n\tconst elProps = filterProps(props, [\"onClick\", \"onKeyDown\"]);\r\n\r\n\treturn (\r\n\t\t<Tag className={css(styles.button)} {...elProps} tabIndex={0}>\r\n\t\t\t<span className={css(styles.innerWrap)}>\r\n\t\t\t\t{props.icon && (\r\n\t\t\t\t\t<span className={css(styles.iconLeft)}>\r\n\t\t\t\t\t\t<Icon icon={props.icon} styles={styles.icon} {...props.iconProps} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\t\t\t\t<span className={css(styles.textWrap)}>\r\n\t\t\t\t\t<Text styles={styles.text}>{props.children}</Text>\r\n\t\t\t\t</span>\r\n\t\t\t\t{props.iconRight && (\r\n\t\t\t\t\t<span className={css(styles.iconRight)}>\r\n\t\t\t\t\t\t<Icon icon={props.iconRight} styles={styles.icon} {...props.iconProps} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\t\t\t</span>\r\n\t\t</Tag>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { ActionItem, useActionItem } from \"quiz/components/actionItem/actionItem\";\r\nimport { MobileButton, MobileButtonProps, F7ButtonPartialProps } from \"./MobileButton\";\r\nimport { filterProps } from \"utils/helpers\";\r\n\r\nconst restrictedButtonProps = [\"icon\", \"iconProps\", \"onClick\", \"enabled\", \"colorType\", \"command\", \"title\"] as const;\r\n\r\nexport interface MobileActionButtonProps\r\n\textends ActionItem,\r\n\t\tOmit<MobileButtonProps, typeof restrictedButtonProps[number]> {}\r\n\r\nexport const MobileActionButton: React.FunctionComponent<MobileActionButtonProps> = function MobileActionButton(props) {\r\n\tconst action = useActionItem(props);\r\n\tconst btnProps = filterProps(props, restrictedButtonProps, false);\r\n\r\n\treturn (\r\n\t\taction.visible() && (\r\n\t\t\t<MobileButton\r\n\t\t\t\ticon={action.icon()}\r\n\t\t\t\ticonProps={action.iconProps()}\r\n\t\t\t\tonClick={action.clickHandler}\r\n\t\t\t\tenabled={action.enabled()}\r\n\t\t\t\tcolorType={action.colorType()}\r\n\t\t\t\t{...btnProps}\r\n\t\t\t>\r\n\t\t\t\t{action.title || props.children}\r\n\t\t\t</MobileButton>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nMobileActionButton.displayName = \"MobileActionButton\";\r\n","import { Button as F7Button } from \"framework7-react\";\r\nimport React, { MouseEventHandler } from \"react\";\r\nimport { Icon, IconProp, IconProps } from \"quiz/components/icon/Icon\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css, CSSProp } from \"wraps/styleCreators\";\r\nimport { ButtonType, ButtonSize } from \"quiz/components/button/Button\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { getMobileButtonStyles } from \"./mobileButtonStyles\";\r\nimport { filterProps } from \"utils/helpers\";\r\n\r\nexport const Button = F7Button;\r\n\r\nexport type F7ButtonPartialProps = Omit<\r\n\tF7Button.Props,\r\n\t\"icon\" | \"color\" | \"onClick\" | \"type\" | \"fill\" | \"size\" | \"large\" | \"disabled\" | \"text\"\r\n>;\r\n\r\nexport interface MobileButtonProps extends F7ButtonPartialProps {\r\n\tonClick: MouseEventHandler<HTMLButtonElement | HTMLAnchorElement>;\r\n\ttype?: ButtonType;\r\n\tsize?: ButtonSize;\r\n\tfontSize?: React.ReactText;\r\n\tcolorType?: ColorTypes;\r\n\ticon?: IconProp;\r\n\ticonProps?: IconProps;\r\n\tfullWidth?: boolean;\r\n\tfullHeight?: boolean;\r\n\tenabled?: boolean;\r\n\tchildrenExists?: boolean;\r\n}\r\n\r\nconst allowedMobileButtonProps = [\"type\", \"size\", \"colorType\", \"icon\", \"iconProps\", \"fullWidth\", \"enabled\", \"onClick\"];\r\n\r\nexport const MobileButton: React.FC<MobileButtonProps> = props => {\r\n\tconst { children, ...btnProps } = props;\r\n\tconst styles = useStyles(getMobileButtonStyles, {\r\n\t\t...props,\r\n\t\tchildrenExists: !!children\r\n\t});\r\n\tconst f7BtnProps = filterProps(btnProps, allowedMobileButtonProps, false);\r\n\r\n\treturn (\r\n\t\t<F7Button\r\n\t\t\t{...f7BtnProps}\r\n\t\t\tlarge={props.size == ButtonSize.large}\r\n\t\t\tfill={props.type == ButtonType.normal}\r\n\t\t\tdisabled={!props.enabled}\r\n\t\t\tclassName={css(styles.button)}\r\n\t\t\tonClick={props.onClick}\r\n\t\t>\r\n\t\t\t<span className={css(styles.innerWrap)}>\r\n\t\t\t\t{props.icon && (\r\n\t\t\t\t\t<span className={css(styles.iconWrap)}>\r\n\t\t\t\t\t\t<Icon icon={props.icon} styles={styles.icon} {...props.iconProps} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\t\t\t\t<span className={css(styles.textWrap)}>\r\n\t\t\t\t\t<span className={css(styles.text)}>{children}</span>\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t</F7Button>\r\n\t);\r\n};\r\n\r\nMobileButton.displayName = \"MobileButton\";\r\n","import { useNavigatorOnLine } from \"hooks/useNavigatorOnline\";\r\nimport React from \"react\";\r\nimport { ActionItem } from \"../actionItem/actionItem\";\r\nimport { MobileActionButton, MobileActionButtonProps } from \"./MobileActionButton\";\r\nimport { WrappedMobileActionButton } from \"./WrappedMobileActionButton\";\r\n\r\ninterface ServerInteractionButtonProps extends MobileActionButtonProps {\r\n\twrap?: boolean;\r\n}\r\n\r\nexport const ServerInteractionButton: React.FC<ServerInteractionButtonProps> = props => {\r\n\tconst { wrap, ...btnProps } = props;\r\n\tconst online = useNavigatorOnLine();\r\n\tconst ButtonComponent = wrap ? WrappedMobileActionButton : MobileActionButton;\r\n\r\n\tconst enabled = React.useCallback(\r\n\t\t(action: ActionItem) => {\r\n\t\t\tconst isEnabled = props.enabled instanceof Function ? props.enabled(action) : enabled;\r\n\t\t\treturn isEnabled && online;\r\n\t\t},\r\n\t\t[props.enabled, online]\r\n\t);\r\n\r\n\treturn <ButtonComponent {...btnProps} enabled={enabled}></ButtonComponent>;\r\n};\r\n","import * as React from \"react\";\r\nimport { MobileActionButtonProps, MobileActionButton } from \"./MobileActionButton\";\r\nimport { Block } from \"../../../quiz/components/block/Block\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getWrappedMobileActionButtonStyle } from \"./mobileButtonStyles\";\r\n\r\nexport const WrappedMobileActionButton: React.FC<MobileActionButtonProps> = props => {\r\n\tconst styles = useStyles(getWrappedMobileActionButtonStyle);\r\n\r\n\treturn (\r\n\t\t<Block styles={styles.wrap}>\r\n\t\t\t<MobileActionButton {...props} />\r\n\t\t</Block>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { ButtonProps, ButtonSize, ButtonType } from \"./Button\";\r\n\r\nexport function getButtonStyles(theme: Theme, props: ButtonProps) {\r\n\tconst colors = theme.colors[props.colorType] || theme.colors.primary;\r\n\tconst vars = {\r\n\t\tbutton: {\r\n\t\t\twidth: \"fit-content\",\r\n\t\t\tcursor: \"pointer\",\r\n\t\t\tfontSize: theme.sizing.fontSizes.body,\r\n\t\t\tlineHeight: theme.sizing.fontSizes.body,\r\n\t\t\tborderRadius: theme.sizing.sizes.xs,\r\n\t\t\tbackground: colors.main,\r\n\t\t\tcolor: colors.texts.contrast,\r\n\t\t\tpadding: `${theme.sizing.sizes.xs} ${theme.sizing.sizes.xs}`,\r\n\t\t\t\":hover\": {\r\n\t\t\t\tbackground: colors.hover,\r\n\t\t\t\tcolor: colors.texts.contrast\r\n\t\t\t},\r\n\t\t\t\":focus\": {\r\n\t\t\t\tbackground: colors.focus,\r\n\t\t\t\tcolor: colors.texts.contrast\r\n\t\t\t},\r\n\t\t\t\":active\": {\r\n\t\t\t\tbackground: colors.active,\r\n\t\t\t\tcolor: colors.texts.contrast\r\n\t\t\t}\r\n\t\t},\r\n\t\tinnerWrap: {\r\n\t\t\theight: theme.sizing.sizes.lg\r\n\t\t},\r\n\t\ttextWrap: {\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\tmargin: `0 ${theme.sizing.sizes.xs}`\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tcolor: \"inherit\"\r\n\t\t},\r\n\t\ticonWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\theight: theme.sizing.sizes.lg\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tcolor: \"inherit\",\r\n\t\t\tfontSize: theme.sizing.sizes.md\r\n\t\t}\r\n\t};\r\n\r\n\tif (props.size == ButtonSize.large) {\r\n\t\tvars.button.padding = `${theme.sizing.sizes.sm} ${theme.sizing.sizes.md}`;\r\n\t}\r\n\tif (props.type == ButtonType.link) {\r\n\t\tvars.button.padding = \"0\";\r\n\t\tconst textColor = props.colorType ? colors : theme.colors.base;\r\n\t\tvars.button.background = \"transparent\";\r\n\t\tvars.button.color = textColor.text;\r\n\t\tvars.button[\":hover\"] = {\r\n\t\t\tbackground: \"transparent\",\r\n\t\t\tcolor: textColor.hover\r\n\t\t};\r\n\t\tvars.button[\":focus\"] = {\r\n\t\t\tbackground: \"transparent\",\r\n\t\t\tcolor: textColor.focus\r\n\t\t};\r\n\t\tvars.button[\":active\"] = {\r\n\t\t\tbackground: \"transparent\",\r\n\t\t\tcolor: textColor.active\r\n\t\t};\r\n\t}\r\n\tif (props.enabled === false) {\r\n\t\tconst textColor = theme.colors.base.texts.muted;\r\n\t\tconst bgColor = props.type == ButtonType.link ? \"transparent\" : colors.disabled;\r\n\t\tvars.button.cursor = \"not-allowed\";\r\n\t\tvars.button.background = bgColor;\r\n\t\tvars.button.color = textColor;\r\n\t\tvars.button[\":hover\"] = {\r\n\t\t\tbackground: bgColor,\r\n\t\t\tcolor: textColor\r\n\t\t};\r\n\t\tvars.button[\":focus\"] = {\r\n\t\t\tbackground: bgColor,\r\n\t\t\tcolor: textColor\r\n\t\t};\r\n\t\tvars.button[\":active\"] = {\r\n\t\t\tbackground: bgColor,\r\n\t\t\tcolor: textColor\r\n\t\t};\r\n\t}\r\n\tif (props.fullWidth) {\r\n\t\tvars.button.width = \"100%\";\r\n\t}\r\n\r\n\treturn {\r\n\t\tbutton: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tborder: \"none\",\r\n\t\t\toutline: \"none\",\r\n\t\t\t...vars.button\r\n\t\t} as CSSProp,\r\n\t\tinnerWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\t...vars.innerWrap\r\n\t\t} as CSSProp,\r\n\t\ttextWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\t...vars.textWrap\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\t...vars.text\r\n\t\t},\r\n\t\ticonLeft: {\r\n\t\t\tjustifyContent: \"flex-start\",\r\n\t\t\t...vars.iconWrap\r\n\t\t} as CSSProp,\r\n\t\ticonRight: {\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\t...vars.iconWrap\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\t...vars.icon\r\n\t\t}\r\n\t};\r\n}\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { ButtonSize, ButtonType } from \"quiz/components/button/Button\";\r\nimport { MobileButtonProps } from \"./MobileButton\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport Color from \"color\";\r\nimport { ColorTypes } from \"theme/colors\";\r\n\r\nexport function getMobileButtonStyles(theme: Theme, props: MobileButtonProps) {\r\n\tconst colors = theme.colors[props.colorType] || theme.colors.primary;\r\n\tconst vars = {\r\n\t\tbutton: {\r\n\t\t\twidth: \"fit-content\",\r\n\t\t\tfontSize: props.fontSize || theme.sizing.fontSizes.body,\r\n\t\t\tlineHeight: theme.sizing.fontSizes.body,\r\n\t\t\tbackground: colors.main,\r\n\t\t\tcolor: colors.texts.contrast,\r\n\t\t\tpadding: `${theme.sizing.sizes.xs} ${theme.sizing.sizes.xs}`,\r\n\t\t\theight: props.fullHeight ? \"100%\" : \"auto\",\r\n\t\t\tborderRadius: props.fullHeight ? 0 : theme.sizing.sizes.xs,\r\n\t\t\tborder: \"none\",\r\n\t\t\t\":active\": {\r\n\t\t\t\tbackground: colors.active,\r\n\t\t\t\tcolor: colors.texts.contrast\r\n\t\t\t}\r\n\t\t},\r\n\t\tinnerWrap: {\r\n\t\t\theight: \"100%\"\r\n\t\t},\r\n\t\ttextWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tmargin: props.childrenExists ? `0 ${theme.sizing.sizes.xs}` : \"0\"\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\tcolor: \"inherit\",\r\n\t\t\tfontWeight: theme.sizing.fontWeights.medium\r\n\t\t},\r\n\t\ticonWrap: {\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\theight: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\tcolor: \"inherit\",\r\n\t\t\tfontSize: theme.sizing.sizes.md\r\n\t\t}\r\n\t};\r\n\r\n\tif (props.size == ButtonSize.large) {\r\n\t\tvars.button.padding = `${scale(theme.sizing.sizes.xs, ScaleEnum.Triple)} ${theme.sizing.sizes.md}`;\r\n\t}\r\n\tif (props.type == ButtonType.link) {\r\n\t\tvars.button.padding = \"0\";\r\n\t\tconst textColor = props.colorType ? colors : theme.colors.base;\r\n\t\tvars.button.background = \"transparent\";\r\n\t\tvars.button.color = textColor.text;\r\n\t\tvars.button[\":active\"] = {\r\n\t\t\tbackground: \"transparent\",\r\n\t\t\tcolor: textColor.active\r\n\t\t};\r\n\t}\r\n\tif (props.type == ButtonType.transparent) {\r\n\t\tvars.button.padding = \"0\";\r\n\t\tconst textColor = props.colorType == ColorTypes.danger ? colors : theme.colors.base;\r\n\t\tvars.button.background = \"transparent\";\r\n\t\tvars.button.color = textColor.text;\r\n\t\tvars.button[\":active\"] = {\r\n\t\t\tbackground: \"transparent\",\r\n\t\t\tcolor: textColor.active\r\n\t\t};\r\n\t\tvars.icon.color = colors.main;\r\n\t}\r\n\tif (props.type == ButtonType.danger) {\r\n\t\tvars.button.padding = `${theme.sizing.sizes.sm} ${theme.sizing.sizes.sm}`;\r\n\t\tconst textColor = props.colorType ? colors : theme.colors.base;\r\n\t\tvars.button.background = \"transparent\";\r\n\t\tvars.button.color = textColor.text;\r\n\t\tvars.button.border = `1px solid ${theme.colors.danger.main}`;\r\n\t\tvars.button[\":active\"] = {\r\n\t\t\tbackground: \"transparent\",\r\n\t\t\tcolor: textColor.active\r\n\t\t};\r\n\t}\r\n\tif (props.fullWidth) {\r\n\t\tvars.button.width = \"100%\";\r\n\t}\r\n\treturn {\r\n\t\tbutton: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\toutline: \"none\",\r\n\t\t\t...vars.button\r\n\t\t} as CSSProp,\r\n\t\tinnerWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\t...vars.innerWrap\r\n\t\t} as CSSProp,\r\n\t\ttextWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\t...vars.textWrap\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\t...vars.text,\r\n\t\t\ttextTransform: \"none\"\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\t...vars.iconWrap\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\t...vars.icon\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport const getWrappedMobileActionButtonStyle = (theme: Theme) => ({\r\n\twrap: {\r\n\t\tmarginTop: theme.sizing.sizes.md,\r\n\t\tmarginBottom: theme.sizing.sizes.xxl\r\n\t}\r\n});\r\n","import { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { ReactNode, useRef, useState } from \"react\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { replaceClass } from \"utils/cssHelpers\";\r\nimport { v } from \"utils/helpers\";\r\nimport { css, StyleDeclarationValue } from \"wraps/styleCreators\";\r\nimport { Icon } from \"../icon/Icon\";\r\nimport { getControlLayoutStyles } from \"./controlLayoutStyles\";\r\n\r\nexport type ControlValue = string;\r\n\r\ninterface ControlProps<T> {\r\n\ttabIndex: number;\r\n\tvalue: T;\r\n\tonChange(v: T): void;\r\n\tonFocus(): void;\r\n\tonBlur(): void;\r\n}\r\n\r\ntype CustomControlProps<T = ControlValue> = Omit<ControlProps<T>, \"onChange\"> & { onChange: (e) => void };\r\n\r\nexport interface ControlLayoutProps<T = ControlValue> {\r\n\tcolorType?: ColorTypes;\r\n\tvalue: T;\r\n\tonChange?: (v: T) => void;\r\n\r\n\tcustomControl?: (controlProps: CustomControlProps<T>, styles: StyleDeclarationValue) => ReactNode;\r\n\r\n\trightZone?: ReactNode;\r\n\tleftZone?: ReactNode;\r\n\treadOnly?: boolean;\r\n\tonClearClick?: () => void;\r\n}\r\n\r\nexport const ControlLayout: React.FunctionComponent<ControlLayoutProps> = React.memo(props => {\r\n\tconst styles = useStyles(getControlLayoutStyles, props);\r\n\tconst wrapRefEl = useRef(null);\r\n\r\n\tconst value = props.value;\r\n\r\n\tconst wrapClass = css(styles.wrap);\r\n\tconst wrapActiveClass = css(styles.wrap, styles.wrapActive);\r\n\r\n\tconst controlProps = {\r\n\t\ttabIndex: 0,\r\n\t\tvalue: value,\r\n\t\tonChange: e => v(props.onChange, e.target.value),\r\n\t\tonFocus: () => replaceClass(wrapRefEl.current, wrapClass, wrapActiveClass),\r\n\t\tonBlur: () => replaceClass(wrapRefEl.current, wrapActiveClass, wrapClass)\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={wrapClass} ref={wrapRefEl}>\r\n\t\t\t{props.leftZone != null && <div className={css(styles.left)}>{props.leftZone}</div>}\r\n\t\t\t<div className={css(styles.center)}>\r\n\t\t\t\t{props.customControl ? (\r\n\t\t\t\t\tprops.customControl(controlProps, styles.control)\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<input className={css(styles.control)} {...controlProps} />\r\n\t\t\t\t)}\r\n\t\t\t\t{props.value != null && !props.readOnly && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={css(styles.clearWrap)}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tprops.onChange && props.onChange(null);\r\n\t\t\t\t\t\t\tprops.onClearClick && props.onClearClick();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon icon={[\"far\", \"times\"]} styles={styles.icon} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t{props.rightZone != null && <div className={css(styles.right)}>{props.rightZone}</div>}\r\n\t\t</div>\r\n\t);\r\n});\r\nControlLayout.displayName = \"ControlLayout\";\r\n\r\nexport const StatedControlLayout: React.FC = props => {\r\n\tconst [v, setValue] = useState(\"\");\r\n\treturn <ControlLayout {...props} value={v} onChange={v => setValue(v)} />;\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { ControlLayoutProps } from \"./ControlLayout\";\r\n\r\nexport function getControlLayoutStyles(theme: Theme, props: ControlLayoutProps) {\r\n\tconst vars = {\r\n\t\ttransition: theme.transitions.base,\r\n\t\tpadding: theme.sizing.sizes.xxs,\r\n\t\tinputFontSize: theme.sizing.fontSizes.body,\r\n\t\tinputLineHeight: theme.sizing.lineHeights.body,\r\n\t\tinputFontFamily: theme.typography.fonts.base,\r\n\t\tinputColor: theme.colors.base.text,\r\n\t\tborderWidth: theme.borders.borderWidth,\r\n\t\tborderColor: props.colorType ? theme.colors[props.colorType].main : theme.colors.base.texts.muted,\r\n\t\tborderColorActive: props.colorType ? theme.colors[props.colorType].active : theme.colors.info.main,\r\n\t\tclearIconWrapSize: theme.sizing.sizes.lg,\r\n\t\tclearIconSize: theme.sizing.sizes.md,\r\n\t\tclearIconColor: theme.colors.base.texts.muted,\r\n\t\tclearIconColorHover: theme.colors.info.main\r\n\t};\r\n\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tborderBottom: `${vars.borderWidth} solid ${vars.borderColor}`,\r\n\t\t\ttransition: vars.transition\r\n\t\t} as CSSProp,\r\n\t\twrapActive: {\r\n\t\t\tborderBottom: `${vars.borderWidth} solid ${vars.borderColorActive}`\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tpaddingTop: vars.padding,\r\n\t\t\tpaddingBottom: vars.padding\r\n\t\t},\r\n\t\tright: {\r\n\t\t\tpaddingTop: vars.padding,\r\n\t\t\tpaddingBottom: vars.padding\r\n\t\t},\r\n\t\tcenter: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: vars.padding,\r\n\t\t\tpaddingBottom: vars.padding\r\n\t\t} as CSSProp,\r\n\t\tcontrol: {\r\n\t\t\tfontSize: vars.inputFontSize,\r\n\t\t\tlineHeight: vars.inputLineHeight,\r\n\t\t\tfontFamily: vars.inputFontFamily,\r\n\t\t\twidth: \"100%\",\r\n\t\t\toutline: \"none\",\r\n\t\t\tborder: \"none\",\r\n\t\t\tpadding: 0,\r\n\t\t\tbackground: \"transparent\",\r\n\t\t\tcolor: vars.inputColor\r\n\t\t} as CSSProp,\r\n\t\tclearWrap: {\r\n\t\t\theight: vars.clearIconWrapSize,\r\n\t\t\twidth: vars.clearIconWrapSize,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tcursor: \"pointer\"\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\tcolor: vars.clearIconColor,\r\n\t\t\ttransition: vars.transition,\r\n\t\t\t\":hover\": {\r\n\t\t\t\tcolor: vars.clearIconColorHover\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n","import { Button, ButtonType } from \"quiz/components/button/Button\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { Calendar } from \"framework7/components/calendar/calendar\";\r\nimport * as React from \"react\";\r\nimport { useRef, useState } from \"react\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { getTodayOrFormatDateTime } from \"utils/helpers\";\r\nimport { applyTheme, datePickerStyles, DatePickerButtonStyles } from \"./datePickerStyles\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { quizUserService, textService } from \"quiz/QuizApp\";\r\n\r\nexport interface MobileDatepickerProps {\r\n\tcalendar?: Calendar.Parameters;\r\n\tdate?: Date;\r\n\tonClick: (calendarDate: Date) => void;\r\n\tonInit?: (getCalendar: (params?: Calendar.Parameters) => Calendar.Calendar) => void;\r\n}\r\n\r\ninterface DatePickerState {\r\n\tdate: Date;\r\n}\r\n\r\nexport class DatePicker extends React.Component<MobileDatepickerProps, DatePickerState> {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { date: new Date() };\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tapplyTheme(this.context);\r\n\t\tthis.$f7ready(() => {\r\n\t\t\tthis.props.onInit((params = {}) => {\r\n\t\t\t\treturn this.$f7.calendar.create({\r\n\t\t\t\t\tlocale:\r\n\t\t\t\t\t\ttextService.availableLangs.find(lang => lang.ID == quizUserService.user.languageId).Code ||\r\n\t\t\t\t\t\t\"ru\",\r\n\t\t\t\t\topenIn: \"auto\",\r\n\t\t\t\t\troutableModals: false,\r\n\t\t\t\t\tcloseByOutsideClick: true,\r\n\t\t\t\t\tbackdrop: true,\r\n\t\t\t\t\tcloseByBackdropClick: true,\r\n\t\t\t\t\tcloseOnSelect: true,\r\n\t\t\t\t\tfirstDay: 1,\r\n\t\t\t\t\tvalue: this.props.date ? [this.props.date] : [new Date()],\r\n\t\t\t\t\ton: {\r\n\t\t\t\t\t\tdayClick: (calendar, dayEl, year, month, day) => {\r\n\t\t\t\t\t\t\tconst date = new Date(year, month, day);\r\n\t\t\t\t\t\t\tthis.props.onClick(date);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...params\r\n\t\t\t\t} as Calendar.Parameters);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<style>{datePickerStyles()}</style>\r\n\t\t\t\t<div id=\"date-time-picker\"></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nDatePicker.contextType = ThemeContext;\r\n\r\nexport interface DatePickerButtonProps {\r\n\ttitle?: string;\r\n\tresetButton?: boolean;\r\n\tresetButtonTitle?: string;\r\n\tonResetButtonClick?: () => void;\r\n\tonDateClick?: (date: Date) => void;\r\n\tenabled?: boolean;\r\n}\r\n\r\nexport const DatePickerButton: React.FC<DatePickerButtonProps> = (props: DatePickerButtonProps) => {\r\n\tconst { title, resetButton, resetButtonTitle, onResetButtonClick, onDateClick, enabled = true } = props;\r\n\tconst [date, setDate] = useState<Date>();\r\n\tconst calendar = useRef<() => Calendar.Calendar>();\r\n\tconst styles = useStyles(DatePickerButtonStyles);\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t<div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tconst c = calendar.current();\r\n\t\t\t\t\t\tc.open();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...(!enabled ? { enabled: false, onClick: () => null } : {})}\r\n\t\t\t\t\tonKeyDown={() => void 0}\r\n\t\t\t\t\ttype={ButtonType.link}\r\n\t\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\t\ticon={[\"far\", \"calendar-alt\"]}\r\n\t\t\t\t\ticonRight={[\"far\", \"angle-down\"]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<T size={TextSizeType.bodyMin}>{date ? getTodayOrFormatDateTime(date) : title || \"Today\"}</T>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tonInit={x => (calendar.current = x)}\r\n\t\t\t\t\tonClick={date => {\r\n\t\t\t\t\t\tsetDate(date);\r\n\t\t\t\t\t\tonDateClick && onDateClick(date);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdate={date}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t{resetButton && (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetDate(null);\r\n\t\t\t\t\t\tonResetButtonClick?.();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype={ButtonType.link}\r\n\t\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\t\ticonRight={[\"far\", \"backspace\"]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Text size={TextSizeType.bodyMin}>{resetButtonTitle}</Text>\r\n\t\t\t\t</Button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\nDatePickerButton.displayName = \"DatePickerButton\";\r\n","import { createThemeApplier } from \"wraps/component\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { MobileDatepickerProps } from \"./DatePicker\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const applyTheme = createThemeApplier((theme: Theme) => {\r\n\treturn {\r\n\t\t\"f7-toolbar-bg-color\": theme.colors.primary.background,\r\n\t\t\"f7-calendar-week-header-bg-color\": theme.colors.info.texts.contrast,\r\n\t\t\"f7-calendar-week-header-text-color\": theme.colors.base.texts.muted,\r\n\t\t\"f7-calendar-week-header-font-size\": theme.sizing.fontSizes.bodyMin,\r\n\t\t\"f7-calendar-day-text-color\": theme.colors.base.texts.accent,\r\n\t\t\"f7-calendar-prev-next-text-color\": theme.colors.secondary.border,\r\n\t\t\"f7-toolbar-text-color\": theme.colors.base.texts.accent,\r\n\t\t\"f7-toolbar-font-size\": theme.sizing.fontSizes.body,\r\n\t\t\"f7-calendar-today-bg-color\": theme.colors.primary.background\r\n\t};\r\n});\r\n\r\nexport const getMobileDatePickerStyles = (props: MobileDatepickerProps, theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tposition: \"relative\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const datePickerStyles = () =>\r\n\t`\r\n\t.calendar-day .calendar-day-number {\r\n\t\tborder-radius: 0 !important;\r\n\t}\r\n\t.calendar-week-day {\r\n\t\ttext-transform: uppercase\r\n\t}\r\n`.trim();\r\n\r\nexport const DatePickerButtonStyles = () => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { getDividerStyles } from \"./dividerStyles\";\r\nimport { css, StyleDeclarationValue } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\n\r\nexport interface DividerProps {\r\n\tdash?: boolean;\r\n\tdanger?: boolean;\r\n\tstyles?: StyleDeclarationValue;\r\n}\r\n\r\nexport const Divider: React.FC<DividerProps> = React.memo(props => {\r\n\tconst styles = useStyles(getDividerStyles, props);\r\n\treturn <div className={css(props.dash ? styles.dash : styles.divider, props.styles)}></div>;\r\n});\r\nDivider.displayName = \"Divider\";\r\n","import * as React from \"react\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { CSSProp, css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\n\r\nconst getStyles = (theme: Theme, height) => {\r\n\treturn {\r\n\t\tquestionDivider: {\r\n\t\t\tbackgroundColor: theme.colors.base.background,\r\n\t\t\theight: height || theme.sizing.sizes.md\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport type EmptyDividerProps = {\r\n\theight?: React.ReactText;\r\n};\r\n\r\nexport const EmptyDivider: React.FC<EmptyDividerProps> = props => {\r\n\tconst styles = useStyles(getStyles, props.height);\r\n\r\n\treturn <div className={css(styles.questionDivider)} />;\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { DividerProps } from \"./Divider\";\r\n\r\nexport const getDividerStyles = (theme: Theme, props: DividerProps) => {\r\n\tconst vars = {\r\n\t\topacity: 0.6\r\n\t};\r\n\treturn {\r\n\t\tdivider: {\r\n\t\t\tborderTop: `1px solid ${props.danger ? theme.colors.danger.main : theme.colors.base.background}`,\r\n\t\t\t...vars\r\n\t\t} as CSSProp,\r\n\t\tdash: {\r\n\t\t\tborderTop: `1px dashed ${props.danger ? theme.colors.danger.main : theme.colors.base.border}`,\r\n\t\t\t...vars\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { QuizList } from \"../quizList/QuizList\";\r\nimport { Visit } from \"quiz/services/models\";\r\nimport { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { OutletSkeleton } from \"../quizSkeleton/skeletons/OutletSkeleton\";\r\nimport { OutletItem } from \"quiz/components/outletItem/OutletItem\";\r\nimport { BlockTitle } from \"quiz/components/block/Block\";\r\nimport { t } from \"quiz/QuizApp\";\r\n\r\ntype DraftCb = (draft: { outletId: MDTRecordId; qstId: MDTRecordId }) => void;\r\n\r\ntype DraftProps = {\r\n\tdrafts: Visit[];\r\n\tonDraftClick: DraftCb;\r\n\tonDeleteSwipeout?: DraftCb;\r\n};\r\n\r\nexport const Draft: React.FC<DraftProps> = props => {\r\n\tif (!props.drafts?.length) return null;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<BlockTitle title={t(\"Incomplete visits\")} counter={props.drafts.length} />\r\n\t\t\t<QuizList\r\n\t\t\t\tisLoading={!props.drafts[0].outlet}\r\n\t\t\t\tisEmpty={false}\r\n\t\t\t\terrors={[]}\r\n\t\t\t\tloading={() => <OutletSkeleton totalBlocks={1} />}\r\n\t\t\t>\r\n\t\t\t\t{props.drafts.map((d: Visit) => (\r\n\t\t\t\t\t<OutletItem\r\n\t\t\t\t\t\tkey={`${d.outletId}-${d.questionnaireId}`}\r\n\t\t\t\t\t\tonDeleteSwipeout={() =>\r\n\t\t\t\t\t\t\tprops.onDeleteSwipeout({ outletId: d.outletId, qstId: d.questionnaireId })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonClick={() => props.onDraftClick({ outletId: d.outlet.id, qstId: d.questionnaire.id })}\r\n\t\t\t\t\t\toutlet={{\r\n\t\t\t\t\t\t\t...d.outlet,\r\n\t\t\t\t\t\t\toutletChain: d.outlet.outletChain,\r\n\t\t\t\t\t\t\ttype: null,\r\n\t\t\t\t\t\t\tquestionnaireName: d.questionnaire.name,\r\n\t\t\t\t\t\t\ttime: d.dateBegin\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</QuizList>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { RenderErrorType, RenderError } from \"../renderError/RenderError\";\r\n\r\ninterface ErrorBoundaryState extends RenderErrorType {\r\n\thasError: boolean;\r\n}\r\n\r\ninterface ErrorBoundaryProps {\r\n\tseparateBlock?: boolean;\r\n}\r\n\r\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\thasError: false,\r\n\t\t\terror: null,\r\n\t\t\terrorInfo: null\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n\t\tthis.setState({\r\n\t\t\thasError: true,\r\n\t\t\terror: error,\r\n\t\t\terrorInfo: errorInfo\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.state.hasError ? (\r\n\t\t\t<RenderError {...this.state} separateBlock={this.props.separateBlock} />\r\n\t\t) : (\r\n\t\t\tthis.props.children\r\n\t\t);\r\n\t}\r\n}\r\n","import * as React from \"react\";\r\nimport { Sheet } from \"framework7-react\";\r\nimport { T } from \"../text/T\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { CSSProp, css } from \"wraps/styleCreators\";\r\n\r\nconst getStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tsheet: {\r\n\t\t\tbackground: theme.colors.danger.main,\r\n\t\t\tcolor: theme.colors.danger.texts.contrast,\r\n\t\t\theight: \"auto\",\r\n\t\t\tpadding: `${theme.sizing.sizes.md} ${theme.constants.gridPadding}`\r\n\t\t} as CSSProp,\r\n\t\theader: {\r\n\t\t\tfontSize: theme.sizing.fontSizes.bodyMax,\r\n\t\t\tcolor: theme.colors.danger.texts.contrast,\r\n\t\t\tdisplay: \"block\",\r\n\t\t\tfontWeight: \"bold\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\tdisplay: \"inline-block\",\r\n\t\t\tcolor: theme.colors.danger.texts.contrast,\r\n\t\t\tfontSize: theme.sizing.fontSizes.caption,\r\n\t\t\tlineHeight: theme.sizing.lineHeights.caption,\r\n\t\t\tmarginBottom: theme.sizing.sizes.lg\r\n\t\t} as CSSProp,\r\n\t\tbuttonsWrap: {\r\n\t\t\tdisplay: \"flex\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\ntype ErrorUnexpectedProps = {\r\n\ttitle: string;\r\n\terrorText: string;\r\n\tisOpen: boolean;\r\n\tbuttons?(): React.ReactElement;\r\n\tonClose?(): void;\r\n};\r\n\r\nexport const ErrorUnexpected: React.FC<ErrorUnexpectedProps> = props => {\r\n\tconst styles = useStyles(getStyles);\r\n\r\n\treturn (\r\n\t\t<Sheet className={css(styles.sheet)} opened={props.isOpen} onSheetClosed={props.onClose}>\r\n\t\t\t<div>\r\n\t\t\t\t<T styles={styles.header}>{props.title}</T>\r\n\t\t\t\t<T styles={styles.text}>{props.errorText}</T>\r\n\t\t\t\t<div className={css(styles.buttonsWrap)}>{props.buttons && props.buttons()}</div>\r\n\t\t\t</div>\r\n\t\t</Sheet>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { QuizOfflineError } from \"./QuizOfflineError\";\r\nimport { QuizServerError } from \"./QuizServerError\";\r\nimport { QuizUnexpectedError } from \"./QuizUnexpectedError\";\r\nimport { QuizGeolocationError } from \"./QuizGeolocationError\";\r\n\r\nexport enum CustomErrorName {\r\n\tMdtApiError = \"MDT API Error\",\r\n\tOfflineError = \"Offline Error\",\r\n\tGeolocationError = \"Geolocation Error\"\r\n}\r\n\r\nexport type QuizErrorProps = {\r\n\terror: any;\r\n\tseparateBlock?: boolean;\r\n\tfullScreen?: boolean;\r\n\tfullHeight?: boolean;\r\n};\r\n\r\nconst MapErrorName2QuizError = {\r\n\t[CustomErrorName.OfflineError]: QuizOfflineError,\r\n\t[CustomErrorName.MdtApiError]: QuizServerError,\r\n\t[CustomErrorName.GeolocationError]: QuizGeolocationError\r\n};\r\n\r\nexport const InfoBlockContext = React.createContext({\r\n\tseparateBlock: false,\r\n\tfullScreen: false,\r\n\tfullHeight: true\r\n});\r\n\r\nexport const QuizError: React.FC<QuizErrorProps> = ({\r\n\terror,\r\n\tseparateBlock = false,\r\n\tfullScreen = false,\r\n\tfullHeight = true\r\n}) => {\r\n\tconst ErrorComponent = MapErrorName2QuizError[error.name] || QuizUnexpectedError;\r\n\r\n\treturn (\r\n\t\t<InfoBlockContext.Provider value={{ separateBlock, fullScreen, fullHeight }}>\r\n\t\t\t<ErrorComponent error={error} />\r\n\t\t</InfoBlockContext.Provider>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { GeolocationError } from \"quiz/services/GeolocationError\";\r\nimport { InfoBlock } from \"../infoBlock/InfoBlock\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { InfoBlockActionButton } from \"../infoBlock/contextInfoBlock/ContextInfoBlock\";\r\nimport { f7 } from \"framework7-react\";\r\n\r\nexport type QuizGeolocationError = {\r\n\terror: GeolocationError;\r\n};\r\n\r\nexport enum GeolocationErrorCodes {\r\n\tPERMISSION_DENIED = 1,\r\n\tPOSITION_UNAVAILABLE = 2,\r\n\tTIMEOUT = 3\r\n}\r\n\r\nconst GeoErrorMessages = {\r\n\t[GeolocationErrorCodes.PERMISSION_DENIED]: \"Allow geolocation in app settings to determine location\",\r\n\t[GeolocationErrorCodes.POSITION_UNAVAILABLE]:\r\n\t\t\"Device location not available. Check your geolocation settings on device\",\r\n\t[GeolocationErrorCodes.TIMEOUT]: \"Failed to get location. Check your geolocation settings on device\"\r\n};\r\n\r\nexport const QuizGeolocationError: React.FC<QuizGeolocationError> = ({ error }) => {\r\n\tconst { message: errMessage, code } = error;\r\n\tconst message = GeoErrorMessages[code] || errMessage;\r\n\r\n\tconst buttons: { [key: string]: InfoBlockActionButton } = {\r\n\t\tprimaryButton: {\r\n\t\t\ttitle: t(\"Refresh\"),\r\n\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\tcommand: () => f7.views.main.router.refreshPage()\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<InfoBlock\r\n\t\t\ticon={[\"far\", \"location-slash\"]}\r\n\t\t\ttitle={t(\"Failed to determine location\")}\r\n\t\t\tmessage={t(message)}\r\n\t\t\t{...buttons}\r\n\t\t\tcolorType={ColorTypes.danger}\r\n\t\t/>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { cloudOffIcon } from \"../infoScreenIcons/cloudOffIcon\";\r\nimport { OfflineError } from \"quiz/services/OfflineService\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { InfoBlock } from \"../infoBlock/InfoBlock\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { f7 } from \"framework7-react\";\r\n\r\nexport type QuizOfflineErrorProps = {\r\n\terror: OfflineError;\r\n};\r\n\r\nexport const QuizOfflineError: React.FC<QuizOfflineErrorProps> = ({ error }) => {\r\n\treturn (\r\n\t\t<InfoBlock\r\n\t\t\ticon={cloudOffIcon}\r\n\t\t\ttitle={t(\"No internet connection\")}\r\n\t\t\tmessage={t(error.message)}\r\n\t\t\tprimaryButton={{\r\n\t\t\t\ttitle: t(\"Refresh\"),\r\n\t\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\t\tcommand: () => f7.views.main.router.refreshPage()\r\n\t\t\t}}\r\n\t\t\tcolorType={ColorTypes.warning}\r\n\t\t/>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { nav, t } from \"quiz/QuizApp\";\r\nimport { FeedbackTypeEnum } from \"quiz/components/feedback/Feedback\";\r\nimport { MDTApiError } from \"mdtApiClient/mdtApiClient\";\r\nimport { serverErrorIcon } from \"../infoScreenIcons/serverErrorIcon\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { InfoBlock } from \"../infoBlock/InfoBlock\";\r\nimport { parseErrorMessage } from \"utils/helpers\";\r\nimport { f7 } from \"framework7-react\";\r\n\r\nexport const errorsDictionary = {\r\n\tTimeout: \"The allowed timeout for the request from the server has been exceeded\"\r\n};\r\n\r\nexport type QuizServerErrorProps = {\r\n\terror: MDTApiError;\r\n};\r\n\r\nexport const QuizServerError: React.FC<QuizServerErrorProps> = ({ error }) => {\r\n\tconst message = parseErrorMessage(error);\r\n\r\n\treturn (\r\n\t\t<InfoBlock\r\n\t\t\ticon={serverErrorIcon}\r\n\t\t\ttitle={t(\"Data retrieval error\")}\r\n\t\t\tmessage={t(message, error.args as any)}\r\n\t\t\tprimaryButton={{\r\n\t\t\t\ttitle: t(\"Complain\"),\r\n\t\t\t\ticon: [\"far\", \"comment-alt-lines\"],\r\n\t\t\t\tcommand: () => nav.toFeedback({ type: FeedbackTypeEnum.Problem, value: error.message })\r\n\t\t\t}}\r\n\t\t\tsecondaryButton={{\r\n\t\t\t\ttitle: t(\"Refresh\"),\r\n\t\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\t\tcommand: () => f7.views.main.router.refreshPage()\r\n\t\t\t}}\r\n\t\t\tcolorType={ColorTypes.danger}\r\n\t\t/>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { QuizErrorProps } from \"./QuizError\";\r\nimport { nav, t } from \"quiz/QuizApp\";\r\nimport { FeedbackTypeEnum } from \"quiz/components/feedback/Feedback\";\r\nimport { unexpectedIcon } from \"../infoScreenIcons/unexpectedErrorIcon\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { InfoBlock } from \"../infoBlock/InfoBlock\";\r\nimport { f7 } from \"framework7-react\";\r\n\r\nexport const QuizUnexpectedError: React.FC<QuizErrorProps> = ({ error }) => {\r\n\treturn (\r\n\t\t<InfoBlock\r\n\t\t\ticon={unexpectedIcon}\r\n\t\t\ttitle={t(\"Unexpected error\")}\r\n\t\t\tmessage={error.message}\r\n\t\t\tprimaryButton={{\r\n\t\t\t\ttitle: t(\"Complain\"),\r\n\t\t\t\ticon: [\"far\", \"comment-alt-lines\"],\r\n\t\t\t\tcommand: () => nav.toFeedback({ type: FeedbackTypeEnum.Problem, value: error.message })\r\n\t\t\t}}\r\n\t\t\tsecondaryButton={{\r\n\t\t\t\ttitle: t(\"Refresh\"),\r\n\t\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\t\tcommand: () => f7.views.main.router.refreshPage()\r\n\t\t\t}}\r\n\t\t\tcolorType={ColorTypes.danger}\r\n\t\t/>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nconst getExtendableNavbarBlockStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tblock: {\r\n\t\t\theight: scale(theme.sizing.sizes.lg, ScaleEnum.Double),\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const ExtendableNavbarBlock: React.FC = props => {\r\n\tconst styles = useStyles(getExtendableNavbarBlockStyles);\r\n\r\n\treturn (\r\n\t\t<Block secondary styles={styles.block}>\r\n\t\t\t{props.children}\r\n\t\t</Block>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getExtendableNavbarStyles } from \"./extendableNavbarPageStyles\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\n\r\nexport type ExtendableNavbarProps = {\r\n\tnavbarContent: () => JSX.Element;\r\n\textendableContent?: () => JSX.Element;\r\n\twrap?: boolean;\r\n\thasError?: boolean;\r\n};\r\n\r\nconst pageClassName = \"extendable-navbar-page\";\r\n\r\nexport const ExtendableNavbarPage: React.FC<ExtendableNavbarProps> = React.memo(props => {\r\n\tconst { navbarContent, extendableContent, hasError, children } = props;\r\n\tconst styles = useStyles(getExtendableNavbarStyles, props);\r\n\tconst extendableWrapRef = React.useRef<HTMLDivElement>(null);\r\n\tconst [navbarHeight, setNavbarHeight] = React.useState(0);\r\n\r\n\tReact.useEffect(() => setNavbarHeight(extendableWrapRef.current?.getBoundingClientRect()?.height), [\r\n\t\tnavbarHeight,\r\n\t\thasError\r\n\t]);\r\n\r\n\tconst pageStyles = React.useMemo(\r\n\t\t() =>\r\n\t\t\t`.${pageClassName} .page-content {\r\n\t\t\t\t\tpadding-top: ${hasError ? 0 : navbarHeight}px;\r\n\t\t\t\t}`.trim(),\r\n\t\t[navbarHeight, hasError]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div ref={extendableWrapRef} className={css(styles.extendableWrap)}>\r\n\t\t\t\t{navbarContent && <div className={css(styles.navbarContentWrap)}>{navbarContent()}</div>}\r\n\t\t\t\t{!hasError && extendableContent && extendableContent()}\r\n\t\t\t</div>\r\n\t\t\t{children && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<style>{pageStyles}</style>\r\n\t\t\t\t\t<Page className={pageClassName}>\r\n\t\t\t\t\t\t<div className={css(styles.innerContent)}>{children}</div>\r\n\t\t\t\t\t</Page>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n});\r\n\r\nExtendableNavbarPage.displayName = \"ExtendableNavbarPage\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { ExtendableNavbarProps } from \"./ExtendableNavbarPage\";\r\n\r\nexport const getExtendableNavbarStyles = (theme: Theme, props: ExtendableNavbarProps) => {\r\n\tconst { wrap, hasError } = props;\r\n\treturn {\r\n\t\textendableWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\theight: \"fit-content\",\r\n\t\t\tboxShadow: theme.shadows.normal,\r\n\t\t\tposition: \"relative\",\r\n\t\t\tzIndex: 500\r\n\t\t} as CSSProp,\r\n\t\tnavbarContentWrap: {\r\n\t\t\tborderBottom: `1px solid ${theme.colors.base.disabled}`\r\n\t\t} as CSSProp,\r\n\t\tinnerContent: {\r\n\t\t\tmarginBottom: !hasError && wrap ? \"56px\" : \"unset\" //56px высота нижних управляющих баров\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getQuizFadeStyles, customFadeStyles } from \"./quizFadeStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\ntype FadeProps = {\r\n\tanimationKey: string;\r\n};\r\n\r\nexport const QuizFade: React.FC<FadeProps> = props => {\r\n\tconst transitionProps = {\r\n\t\tappear: props.animationKey === \"loading\",\r\n\t\tin: props.animationKey === \"ready\"\r\n\t};\r\n\tconst styles = useStyles(getQuizFadeStyles);\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.fadeWrap)}>\r\n\t\t\t<style>{customFadeStyles}</style>\r\n\t\t\t<TransitionGroup>\r\n\t\t\t\t<CSSTransition {...transitionProps} key={props.animationKey} classNames=\"custom-fade\" timeout={1000}>\r\n\t\t\t\t\t<div>{props.children}</div>\r\n\t\t\t\t</CSSTransition>\r\n\t\t\t</TransitionGroup>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQuizFadeStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tfadeWrap: {\r\n\t\t\tposition: \"relative\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const customFadeStyles = `\r\n\t.custom-fade-enter {\r\n\t\topacity: 0;\r\n\t}\r\n\t.custom-fade-enter-active {\r\n\t\topacity: 1;\r\n\t\ttransition: 500ms ease;\r\n\t}\r\n\t.custom-fade-exit {\r\n\t\topacity: 1;\r\n\t\ttransition: 1000ms ease;\r\n\t}\r\n\t.custom-fade-exit-active {\r\n\t\topacity: 0;\r\n\t\ttransition: 1000ms;\r\n\t\tposition: absolute !important;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t}\r\n\t.custom-fade-exit-done: {\r\n\t\topacity: 0;\r\n\t}`.trim();\r\n","import * as React from \"react\";\r\nimport { ActionButtonProps } from \"quiz/components/actionButton/ActionButton\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getFeedbackStyles } from \"./feedbackStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { TextareaControl } from \"../textarea/TextareaControl\";\r\nimport { SelectControl } from \"../select/SelectControl\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { BlockTitle, Block, BlockDescription } from \"quiz/components/block/Block\";\r\nimport { useKeyboardEnter } from \"hooks/useKeyboardEnter\";\r\nimport { FAQListItem } from \"quiz/pages/profile/profilePage/Profile\";\r\nimport { List } from \"quiz/components/listView/ListView\";\r\nimport { ServerInteractionButton } from \"../button/ServerInteractionButton\";\r\n\r\nexport enum FeedbackTypeEnum {\r\n\tProblem = \"Problem\",\r\n\tIdea = \"Idea\",\r\n\tComment = \"Comment\"\r\n}\r\n\r\nexport type FeedbackTypeTranslate = {\r\n\t[key in FeedbackTypeEnum]: string;\r\n};\r\n\r\ntype FeedbackState = {\r\n\tvalue: FeedbackTypeEnum | string;\r\n\tcolor: ColorTypes;\r\n};\r\n\r\nexport type FeedbackFormData = {\r\n\tcomment: string;\r\n\ttype: string;\r\n};\r\n\r\nexport type FeedbackContext = {\r\n\ttype: FeedbackTypeEnum;\r\n\tvalue: string;\r\n\terrorContext?: any;\r\n};\r\n\r\nexport type FeedbackProps = {\r\n\ttitle: string;\r\n\tfeedbackTypeLabel: string;\r\n\tinputLabel: string;\r\n\tsendButton: Pick<ActionButtonProps, \"icon\" | \"title\" | \"fullWidth\" | \"size\">;\r\n\tonSubmit: (value: FeedbackFormData) => void | Promise<void>;\r\n\ttypes: FeedbackTypeTranslate;\r\n\tdescription: string;\r\n\tcontext?: FeedbackContext;\r\n};\r\n\r\nexport const Feedback: React.FC<FeedbackProps> = props => {\r\n\tconst styles = useStyles(getFeedbackStyles);\r\n\tconst enter = useKeyboardEnter();\r\n\r\n\tconst [type, setType] = React.useState<FeedbackState>({ value: null, color: null });\r\n\tconst [comment, setComment] = React.useState<FeedbackState>({ value: null, color: null });\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (props.context) {\r\n\t\t\tsetType({ value: props.context.type, color: null });\r\n\t\t\tsetComment({ value: props.context.value, color: null });\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={css(styles.wrap)}>\r\n\t\t\t\t<div className={css(styles.faqLinkWrap)}>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<FAQListItem />\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</div>\r\n\t\t\t\t<BlockTitle title={props.title} />\r\n\t\t\t\t<Block secondary>\r\n\t\t\t\t\t<div className={css(styles.select)}>\r\n\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\tlabel={props.feedbackTypeLabel}\r\n\t\t\t\t\t\t\tcolorType={type.color}\r\n\t\t\t\t\t\t\tvalue={type.value}\r\n\t\t\t\t\t\t\tonChange={type => setType({ value: type, color: null })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option key={0} hidden></option>\r\n\t\t\t\t\t\t\t{Object.keys(props.types).map((type, idx) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<option key={idx + 1} value={type}>\r\n\t\t\t\t\t\t\t\t\t\t{props.types[type]}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</SelectControl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={css(styles.feedback)}>\r\n\t\t\t\t\t\t<TextareaControl\r\n\t\t\t\t\t\t\tlabel={props.inputLabel}\r\n\t\t\t\t\t\t\tcolorType={comment.color}\r\n\t\t\t\t\t\t\tvalue={comment.value}\r\n\t\t\t\t\t\t\tonChange={comment => setComment({ value: comment, color: null })}\r\n\t\t\t\t\t\t\tonKeyDown={enter}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Block>\r\n\t\t\t\t<BlockDescription text={props.description} />\r\n\t\t\t</div>\r\n\t\t\t<ServerInteractionButton\r\n\t\t\t\t{...props.sendButton}\r\n\t\t\t\twrap\r\n\t\t\t\tcommand={() => {\r\n\t\t\t\t\tif (!comment.value) setComment({ ...comment, color: ColorTypes.danger });\r\n\t\t\t\t\tif (!type.value) setType({ ...type, color: ColorTypes.danger });\r\n\r\n\t\t\t\t\treturn comment.value && type.value && props.onSubmit({ comment: comment.value, type: type.value });\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nFeedback.displayName = \"Feedback\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport function getFeedbackStyles(theme: Theme) {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\"\r\n\t\t} as CSSProp,\r\n\t\tfooter: {\r\n\t\t\tbackgroundColor: theme.colors.base.background,\r\n\t\t\tpadding: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\tfeedback: {\r\n\t\t\tmarginTop: theme.sizing.sizes.md,\r\n\t\t\tmarginBottom: theme.sizing.sizes.md\r\n\t\t},\r\n\t\tselect: {\r\n\t\t\tmarginTop: theme.sizing.sizes.md\r\n\t\t},\r\n\t\tfaqLinkWrap: {\r\n\t\t\tmarginTop: theme.sizing.sizes.md\r\n\t\t}\r\n\t};\r\n}\r\n","import { css } from \"aphrodite\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { filterProps } from \"utils/helpers\";\r\nimport { ControlLayout, ControlLayoutProps, ControlValue } from \"../controlLayout/ControlLayout\";\r\nimport { Text } from \"../text/Text\";\r\nimport { getFieldControlLayoutStyles } from \"./fieldControlLayoutStyles\";\r\n\r\nconst controlLayoutInheritProps = [\"value\", \"onChange\", \"customControl\", \"readOnly\", \"onClearClick\"] as const;\r\n\r\nexport interface FieldControlLayoutProps<T = ControlValue>\r\n\textends Pick<ControlLayoutProps<T>, typeof controlLayoutInheritProps[number]> {\r\n\t//content\r\n\tlabel?: string;\r\n\tlabelSecondary?: string;\r\n\tdescription?: string;\r\n\r\n\t//options\r\n\tcolorType?: ColorTypes;\r\n\tdescriptionColorType?: ColorTypes;\r\n}\r\n\r\nexport const FieldControlLayout: React.FunctionComponent<FieldControlLayoutProps> = React.memo(props => {\r\n\tconst styles = useStyles(getFieldControlLayoutStyles, props);\r\n\r\n\tconst clProps = filterProps(props, controlLayoutInheritProps);\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t<div className={css(styles.top)}>\r\n\t\t\t\t<div className={css(styles.label)}>\r\n\t\t\t\t\t<Text\r\n\t\t\t\t\t\tsize={TextSizeType.caption}\r\n\t\t\t\t\t\tstyles={[styles.labelText, props.value == null && styles.labelTextEmptyValue]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{props.label}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</div>\r\n\t\t\t\t{props.labelSecondary != null && (\r\n\t\t\t\t\t<div className={css(styles.labelSecondary)}>\r\n\t\t\t\t\t\t<Text size={TextSizeType.caption} styles={styles.labelSecondaryText}>\r\n\t\t\t\t\t\t\t{props.labelSecondary}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<ControlLayout value={props.value} {...clProps} />\r\n\t\t\t{props.description != null && (\r\n\t\t\t\t<div className={css(styles.bottom)}>\r\n\t\t\t\t\t<Text size={TextSizeType.caption} styles={styles.description}>\r\n\t\t\t\t\t\t{props.description}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n});\r\nFieldControlLayout.displayName = \"FieldControlLayout\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { FieldControlLayoutProps } from \"./FieldControlLayout\";\r\nimport { getCSSSizeValue } from \"utils/cssHelpers\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport function getFieldControlLayoutStyles(theme: Theme, props: FieldControlLayoutProps) {\r\n\tconst vars = {\r\n\t\tlabelColor: props.colorType ? theme.colors[props.colorType].text : theme.colors.base.texts.muted,\r\n\t\tlabelFontSize: theme.sizing.fontSizes.caption,\r\n\t\tlabelLineHeight: theme.sizing.fontSizes.caption,\r\n\t\tlabelEmptyValueFontSize: theme.sizing.fontSizes.body,\r\n\t\tlabelEmptyValueLineHeight: theme.sizing.lineHeights.body,\r\n\t\tlabelTransition: theme.transitions.base,\r\n\t\tlabelSecondaryColor: theme.colors.base.texts.muted,\r\n\t\tinputPadding: theme.sizing.sizes.xxs,\r\n\t\tdescriptionColor: props.descriptionColorType\r\n\t\t\t? theme.colors[props.descriptionColorType].text\r\n\t\t\t: theme.colors.base.texts.muted\r\n\t};\r\n\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\toverflow: \"hidden\"\r\n\t\t} as CSSProp,\r\n\t\ttop: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\"\r\n\t\t} as CSSProp,\r\n\t\tlabel: {\r\n\t\t\theight: vars.labelLineHeight,\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\tlineHeight: vars.labelLineHeight\r\n\t\t} as CSSProp,\r\n\t\tlabelText: {\r\n\t\t\tcolor: vars.labelColor,\r\n\t\t\ttransition: vars.labelTransition,\r\n\t\t\tposition: \"absolute\",\r\n\t\t\ttop: 0,\r\n\t\t\tlineHeight: vars.labelLineHeight\r\n\t\t} as CSSProp,\r\n\t\tlabelTextEmptyValue: {\r\n\t\t\tpointerEvents: \"none\",\r\n\t\t\t//base label height + inner padding\r\n\t\t\ttop: getCSSSizeValue(vars.labelLineHeight as string) + getCSSSizeValue(vars.inputPadding),\r\n\t\t\tfontSize: vars.labelEmptyValueFontSize,\r\n\t\t\tlineHeight: vars.labelEmptyValueLineHeight\r\n\t\t} as CSSProp,\r\n\t\tlabelSecondary: {\r\n\t\t\theight: vars.labelLineHeight,\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\tlineHeight: vars.labelLineHeight\r\n\t\t} as CSSProp,\r\n\t\tlabelSecondaryText: {\r\n\t\t\tcolor: vars.labelSecondaryColor,\r\n\t\t\tposition: \"absolute\",\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tlineHeight: vars.labelLineHeight\r\n\t\t} as CSSProp,\r\n\t\tbottom: {},\r\n\t\tdescription: {\r\n\t\t\tcolor: vars.descriptionColor\r\n\t\t}\r\n\t};\r\n}\r\n","import { Text } from \"quiz/components/text/Text\";\r\nimport { Image } from \"quiz/components/image/Image\";\r\nimport { PhotoBrowser, PhotoBrowserActions } from \"quiz/components/photobrowser/PhotoBrowser\";\r\nimport { Swiper, SwiperSlide } from \"framework7-react\";\r\nimport { useLongTap } from \"hooks/useLongTap\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { GallerySettings, MobileSettings, SwiperSettings } from \"utils/constants\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getGalleryStyles } from \"./galleryStyles\";\r\nimport { getCSSSizeValue } from \"utils/cssHelpers\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\n\r\nexport type GalleryImage = {\r\n\tthumbUrl?: string;\r\n\turl: string;\r\n\tid?: string | number;\r\n\ttitle?: string;\r\n};\r\n\r\nexport interface GalleryProps {\r\n\timages: GalleryImage[];\r\n\treadonly?: boolean;\r\n\tslidesOnScreen?: number;\r\n\tspaceBetweenSlidesPx?: number;\r\n\ttitle?: string;\r\n\tpopupCloseLinkText?: string;\r\n\tonChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n\tonImageClick?: (index: number) => void;\r\n\tonLongTap?: (index: number) => void;\r\n}\r\n\r\nexport const Gallery: React.FunctionComponent<GalleryProps> = React.memo(props => {\r\n\tconst styles = useStyles(getGalleryStyles);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\tconst photoBrowserRef = React.useRef<PhotoBrowserActions>();\r\n\tconst tapIdxRef = React.useRef<number>();\r\n\tconst isLongTapRef = React.useRef(true);\r\n\tconst readonly = props.readonly || false;\r\n\r\n\tconst longTap = useLongTap(() => {\r\n\t\tisLongTapRef.current = false;\r\n\t\t!readonly && props.onLongTap && props.onLongTap(tapIdxRef.current);\r\n\t}, MobileSettings.longTouchSpeedMs);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{props.title && (\r\n\t\t\t\t<div className={css(styles.title)}>\r\n\t\t\t\t\t<Text size={TextSizeType.bodyMax}>{props.title}</Text>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{props.images.length ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Swiper\r\n\t\t\t\t\t\tparams={{\r\n\t\t\t\t\t\t\tspaceBetween: props.spaceBetweenSlidesPx || SwiperSettings.spaceBetweenPx,\r\n\t\t\t\t\t\t\tslidesPerView: props.slidesOnScreen || GallerySettings.slidesOnScreenMultiple,\r\n\t\t\t\t\t\t\tobserver: true,\r\n\t\t\t\t\t\t\tnested: true,\r\n\t\t\t\t\t\t\tpassiveListeners: false,\r\n\t\t\t\t\t\t\tslidesOffsetBefore: getCSSSizeValue(theme.constants.gridPadding),\r\n\t\t\t\t\t\t\tslidesOffsetAfter: getCSSSizeValue(theme.constants.gridPadding)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{props.images.map((image, idx) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<SwiperSlide key={image.id || image.thumbUrl || image.url}>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={css(styles.container)}\r\n\t\t\t\t\t\t\t\t\t\tonTouchStart={() => {\r\n\t\t\t\t\t\t\t\t\t\t\ttapIdxRef.current = idx;\r\n\t\t\t\t\t\t\t\t\t\t\t!readonly && longTap.onTouchStart();\r\n\t\t\t\t\t\t\t\t\t\t\tisLongTapRef.current = true;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonTouchEnd={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t!readonly && longTap.onTouchEnd();\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\tisLongTapRef.current && photoBrowserRef.current.open(tapIdxRef.current);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className={css(styles.wrapper)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={css(styles.content)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Image src={image.thumbUrl || image.url} styles={styles.image} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Swiper>\r\n\t\t\t\t\t<PhotoBrowser\r\n\t\t\t\t\t\tkey={props.images.length}\r\n\t\t\t\t\t\tphotos={props.images.map(image => ({ caption: image.title, url: image.url }))}\r\n\t\t\t\t\t\tref={photoBrowserRef}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n});\r\nGallery.displayName = \"Gallery\";\r\n","import * as React from \"react\";\r\nimport { css, StyleDeclarationValue } from \"wraps/styleCreators\";\r\nimport { TActions } from \"quiz/components/actions/Actions\";\r\nimport { Gallery, GalleryProps } from \"./Gallery\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { ActionSheetItem } from \"quiz/components/actionSheetItem/ActionSheetItem\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { QuizActions } from \"quiz/components/actions/QuizActions\";\r\n\r\nexport interface GalleryControlProps extends Omit<GalleryProps, \"onLongTap\"> {\r\n\tstyles?: StyleDeclarationValue;\r\n}\r\n\r\nexport const GalleryControl: React.FunctionComponent<GalleryControlProps> = React.memo(props => {\r\n\tconst actionsRef = React.useRef<TActions>();\r\n\tconst imgIdx = React.useRef<number>();\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{props.images != null && (\r\n\t\t\t\t<div className={css(props.styles)}>\r\n\t\t\t\t\t<Gallery\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tonLongTap={idx => {\r\n\t\t\t\t\t\t\timgIdx.current = idx;\r\n\t\t\t\t\t\t\tactionsRef.current && actionsRef.current.open();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{!props.readonly && props.children}\r\n\t\t\t{!props.readonly && (\r\n\t\t\t\t<QuizActions\r\n\t\t\t\t\tref={actionsRef}\r\n\t\t\t\t\tactions={() => (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<ActionSheetItem\r\n\t\t\t\t\t\t\t\ttext={t(\"Delete\")}\r\n\t\t\t\t\t\t\t\ticon={[\"far\", \"trash-alt\"]}\r\n\t\t\t\t\t\t\t\tcolorType={ColorTypes.danger}\r\n\t\t\t\t\t\t\t\tonClick={() => props.onImageClick && props.onImageClick(imgIdx.current)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n});\r\nGalleryControl.displayName = \"GalleryControl\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getGalleryStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\timage: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tobjectFit: \"cover\",\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\tobjectPosition: \"center\",\r\n\t\t\t\"-moz-user-select\": \"none\",\r\n\t\t\t\"-webkit-user-select\": \"none\",\r\n\t\t\t\"user-select\": \"none\"\r\n\t\t} as CSSProp,\r\n\t\twrapper: {\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\tposition: \"relative\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tpaddingBottom: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\twidth: \"100%\",\r\n\t\t\theight: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tcontainer: {\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\tmargin: `${theme.sizing.sizes.md} 0`\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { useEffect } from \"react\";\r\nimport * as React from \"react\";\r\nimport { t, logger, nav } from \"quiz/QuizApp\";\r\nimport { LogType } from \"quiz/services/Logger\";\r\nimport { ErrorUnexpected } from \"../errorUnexpected/errorUnexpected\";\r\nimport { FeedbackTypeEnum } from \"quiz/components/feedback/Feedback\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { T } from \"../text/T\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getGlobalErrorHandlerStyles } from \"./globalErrorHandlerStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getApiErrorForT } from \"utils/helpers\";\r\nimport { Button } from \"../button/MobileButton\";\r\n\r\ntype WindowError = {\r\n\ttitle: string;\r\n\ttext: string;\r\n\tcontext?: any;\r\n};\r\n\r\nexport function setupErrorHandling(setError: (error: WindowError) => void): void {\r\n\twindow.onerror = (message, file, line, col, error) => {\r\n\t\tlogger.log(\"unhandled-error\", { error, message, file, line, col }, LogType.error);\r\n\t\tconst context = (error as any).context || null;\r\n\t\tsetError({\r\n\t\t\ttitle: message?.toString() || error.toString(),\r\n\t\t\ttext: `\r\nFile: ${file}.\r\nLn: ${line}, Col: ${col}.\r\n${error.stack}`.trim(),\r\n\t\t\tcontext\r\n\t\t});\r\n\t};\r\n\r\n\twindow.addEventListener(\"unhandledrejection\", function(e) {\r\n\t\tlogger.log(\"unhandled-rejection\", { error: e }, LogType.error);\r\n\t\tconst context = e.reason?.context || null;\r\n\t\tconst [error, args] = getApiErrorForT(e);\r\n\t\tsetError({ title: t(\"Promise unhandled rejection\"), text: t(error, args), context });\r\n\t});\r\n}\r\n\r\nexport const GlobalErrorHandler: React.FC = () => {\r\n\tconst styles = useStyles(getGlobalErrorHandlerStyles);\r\n\tconst [error, setError] = React.useState<WindowError>();\r\n\tconst [errorOpened, setErrorOpened] = React.useState<boolean>(!!error);\r\n\tuseEffect(\r\n\t\t() =>\r\n\t\t\tsetupErrorHandling((error: WindowError) => {\r\n\t\t\t\tsetError(error);\r\n\t\t\t\tsetErrorOpened(true);\r\n\t\t\t}),\r\n\t\t[]\r\n\t);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{error && (\r\n\t\t\t\t<ErrorUnexpected\r\n\t\t\t\t\tisOpen={errorOpened}\r\n\t\t\t\t\ttitle={error.title}\r\n\t\t\t\t\terrorText={error.text}\r\n\t\t\t\t\tonClose={() => setErrorOpened(false)}\r\n\t\t\t\t\tbuttons={() => (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName={css(styles.button)}\r\n\t\t\t\t\t\t\toutline\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tnav.toFeedback({\r\n\t\t\t\t\t\t\t\t\tvalue: error.text,\r\n\t\t\t\t\t\t\t\t\ttype: FeedbackTypeEnum.Problem,\r\n\t\t\t\t\t\t\t\t\terrorContext: error.context\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tsetErrorOpened(false);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon icon={[\"far\", \"comment-alt-lines\"]} styles={styles.icon} />\r\n\t\t\t\t\t\t\t<T styles={styles.iconText}>Complain</T>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\nGlobalErrorHandler.displayName = \"GlobalErrorHandler\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getGlobalErrorHandlerStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tbutton: {\r\n\t\t\tcolor: theme.colors.danger.texts.contrast,\r\n\t\t\tflexGrow: 1,\r\n\t\t\tborderColor: theme.colors.danger.texts.contrast,\r\n\t\t\tmarginRight: theme.sizing.sizes.md,\r\n\t\t\t\":last-child\": {\r\n\t\t\t\tmarginRight: 0\r\n\t\t\t}\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\tcolor: theme.colors.danger.texts.contrast,\r\n\t\t\tmarginRight: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\ticonText: {\r\n\t\t\tcolor: theme.colors.danger.texts.contrast\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { IconProp as FAIconProp } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { FontAwesomeIcon, Props as FontAwesomeIconProps } from \"@fortawesome/react-fontawesome\";\r\nimport classNames from \"classnames\";\r\nimport * as React from \"react\";\r\nimport { css, CSSSizeValue, StyleDeclarationValue } from \"wraps/styleCreators\";\r\n\r\nexport type IconProp = FAIconProp;\r\n\r\nexport interface IconProps extends FontAwesomeIconProps {\r\n\t/** Explicit icon size in [CSS Units](https://learn.javascript.ru/css-units) */\r\n\texplicitSize?: CSSSizeValue;\r\n\r\n\t/** CSS in JS styles for icon */\r\n\tstyles?: StyleDeclarationValue;\r\n}\r\n\r\nexport const Icon: React.FunctionComponent<IconProps> = React.memo(props => {\r\n\tconst style = {\r\n\t\tfontSize: props.explicitSize,\r\n\t\t...props.style\r\n\t};\r\n\r\n\tconst faProps = { style, ...props };\r\n\tdelete faProps.explicitSize;\r\n\tdelete faProps.styles;\r\n\tconst className = classNames(props.className, props.styles && css(props.styles));\r\n\treturn <FontAwesomeIcon {...faProps} className={className} />;\r\n});\r\nIcon.displayName = \"Icon\";\r\n","import { library, IconDefinition, IconPack } from \"@fortawesome/fontawesome-svg-core\";\r\n\r\ntype IconDefinitionOrIcon = IconDefinition | IconPack;\r\n\r\nexport function setupIcons(...icons: IconDefinitionOrIcon[]) {\r\n\tlibrary.add(...icons);\r\n}\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { Icon, IconProp } from \"../icon/Icon\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getIconWrapStyles } from \"./iconWrapStyles\";\r\n\r\ntype TopAlign = \"top-left\" | \"top-center\" | \"top-right\";\r\ntype CenterAlign = \"center-left\" | \"center\" | \"center-right\";\r\ntype BottomAlign = \"bottom-left\" | \"bottom-center\" | \"bottom-right\";\r\n\r\nexport type IconAlignment = TopAlign | CenterAlign | BottomAlign;\r\n\r\nexport type IconWrapProps = {\r\n\talignment?: IconAlignment;\r\n\ticon: IconProp;\r\n\ticonColor?: string;\r\n\ticonSize?: string | number;\r\n};\r\n\r\nexport const IconWrap: React.FC<IconWrapProps> = props => {\r\n\tconst styles = useStyles(getIconWrapStyles, props);\r\n\treturn (\r\n\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t<Icon styles={styles.icon} icon={props.icon} explicitSize={props.iconSize} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nIconWrap.defaultProps = {\r\n\talignment: \"center\"\r\n};\r\n","import { CSSPropertiesComplete } from \"aphrodite\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { IconAlignment, IconWrapProps } from \"./IconWrap\";\r\n\r\ntype MapAlign2CssProp = {\r\n\t[key in IconAlignment]: [CSSPropertiesComplete[\"justifyContent\"], CSSPropertiesComplete[\"alignItems\"]];\r\n};\r\n\r\nconst mapAlign2CssProp: MapAlign2CssProp = {\r\n\t\"top-left\": [\"flex-start\", \"flex-start\"],\r\n\t\"top-center\": [\"center\", \"flex-start\"],\r\n\t\"top-right\": [\"flex-end\", \"flex-start\"],\r\n\t\"center-left\": [\"flex-start\", \"center\"],\r\n\tcenter: [\"center\", \"center\"],\r\n\t\"center-right\": [\"flex-end\", \"center\"],\r\n\t\"bottom-left\": [\"flex-start\", \"flex-end\"],\r\n\t\"bottom-center\": [\"center\", \"flex-end\"],\r\n\t\"bottom-right\": [\"flex-end\", \"flex-end\"]\r\n};\r\n\r\nexport const getIconWrapStyles = (theme: Theme, props: IconWrapProps) => {\r\n\tconst [hAlign, vAlign] = mapAlign2CssProp[props.alignment];\r\n\treturn {\r\n\t\ticonWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\tjustifyContent: hAlign,\r\n\t\t\talignItems: vAlign\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\tcolor: props.iconColor || theme.colors.primary.main\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { StyleDeclarationValue, css } from \"wraps/styleCreators\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport { apiClient } from \"quiz/QuizApp\";\r\nimport { getFileUrlForRequest } from \"utils/helpers\";\r\nimport { QuizPreloader } from \"quiz/components/quizPreloader/QuizPreloader\";\r\nimport { requiresXHRImgLoad } from \"../photobrowser/PhotoBrowserService\";\r\n\r\ninterface ImageProps {\r\n\tsrc: string;\r\n\tstyles?: StyleDeclarationValue;\r\n}\r\n\r\nexport const XHRImage: React.FC<ImageProps> = ({ src, styles }) => {\r\n\tconst [imgSrc, setImgSrc] = React.useState<string>();\r\n\tlet bUrl = \"\";\r\n\r\n\tuseCancellablePromise(\r\n\t\ta => {\r\n\t\t\treturn apiClient.fetchImage(getFileUrlForRequest(src), { signal: a });\r\n\t\t},\r\n\t\t{\r\n\t\t\tonSuccess: blob => {\r\n\t\t\t\tconst blobUrl = URL.createObjectURL(blob);\r\n\t\t\t\tbUrl = blobUrl;\r\n\t\t\t\tsetImgSrc(bUrl);\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tReact.useEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tif (bUrl.length) {\r\n\t\t\t\tURL.revokeObjectURL(bUrl);\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n\r\n\treturn imgSrc ? <img src={imgSrc} className={styles && css(styles)} /> : <QuizPreloader preloaderAreaWidth={100} />;\r\n};\r\n\r\nexport const Image: React.FunctionComponent<ImageProps> = (props: ImageProps) => {\r\n\tconst requiresXHRLoad = requiresXHRImgLoad(props.src);\r\n\r\n\treturn requiresXHRLoad ? (\r\n\t\t<XHRImage {...props} />\r\n\t) : (\r\n\t\t<img src={props.src} className={props.styles && css(props.styles)} />\r\n\t);\r\n};\r\n\r\nImage.displayName = \"Image\";\r\n","import * as React from \"react\";\r\nimport { InfoBlockContext } from \"../errors/QuizError\";\r\nimport { IconName, IconPrefix } from \"@fortawesome/fontawesome-common-types\";\r\nimport { FullscreenInfo, FullscreenInfoProps } from \"./fullscreenInfoBlock/FullscreenInfo\";\r\nimport { ContextInfoBlock, ContextInfoBlockProps, InfoBlockActionButton } from \"./contextInfoBlock/ContextInfoBlock\";\r\nimport { ColorTypes } from \"theme/colors\";\r\n\r\nexport interface InfoBlockProps {\r\n\ticon: [IconPrefix, IconName] | JSX.Element;\r\n\ttitle: string;\r\n\tmessage: string;\r\n\tcolorType?: ColorTypes;\r\n\tprimaryButton?: InfoBlockActionButton;\r\n\tsecondaryButton?: InfoBlockActionButton;\r\n}\r\n\r\nexport const InfoBlock: React.FC<InfoBlockProps> = props => {\r\n\tconst { icon, title, message, colorType, primaryButton, secondaryButton } = props;\r\n\tconst context = React.useContext(InfoBlockContext);\r\n\tconst sharedProps = { icon, title, message, colorType };\r\n\r\n\tif (context.fullScreen) {\r\n\t\tconst fullScreenProps: FullscreenInfoProps = {\r\n\t\t\t...sharedProps,\r\n\t\t\tprimaryButton,\r\n\t\t\tsecondaryButton,\r\n\t\t\tfullHeight: context.fullHeight\r\n\t\t};\r\n\t\treturn <FullscreenInfo {...fullScreenProps} />;\r\n\t}\r\n\r\n\tconst contextBlockProps: ContextInfoBlockProps = {\r\n\t\t...sharedProps,\r\n\t\tseparateBlock: context.separateBlock,\r\n\t\tbuttons: [primaryButton, secondaryButton].filter(x => x)\r\n\t};\r\n\r\n\treturn <ContextInfoBlock {...contextBlockProps} />;\r\n};\r\n","import { Block } from \"quiz/components/block/Block\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { getContextInfoBlockStyles, getErrorSectionStyles } from \"./contextInfoBlockStyles\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { ButtonType } from \"quiz/components/button/Button\";\r\nimport { List, ListItem } from \"quiz/components/listView/ListView\";\r\nimport { IconName, IconPrefix } from \"@fortawesome/fontawesome-common-types\";\r\nimport { IconProp, Icon } from \"quiz/components/icon/Icon\";\r\nimport { MobileButton } from \"quiz/components/button/MobileButton\";\r\n\r\nexport type InfoBlockActionButton = {\r\n\ttitle: string;\r\n\ticon: IconProp;\r\n\tcommand: (arg?: any) => void;\r\n};\r\n\r\nexport interface ContextInfoBlockProps {\r\n\ticon: [IconPrefix, IconName] | JSX.Element;\r\n\ttitle: string;\r\n\tmessage: string;\r\n\tbuttons?: InfoBlockActionButton[];\r\n\tseparateBlock?: boolean;\r\n\twithAccordion?: boolean;\r\n\tcolorType?: string;\r\n}\r\n\r\ntype ErrorSectionProps = {\r\n\ttitle: string;\r\n\tmessage: string;\r\n\ticon: [IconPrefix, IconName] | JSX.Element;\r\n\ticonColor: object;\r\n};\r\n\r\nconst ErrorSection: React.FC<ErrorSectionProps> = ({ title, message, icon, iconColor }) => {\r\n\tconst styles = useStyles(getErrorSectionStyles, iconColor);\r\n\tconst I = Array.isArray(icon) ? <Icon style={{ width: \"100%\", height: \"100%\" }} icon={icon} /> : icon;\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.errorSection)}>\r\n\t\t\t<div className={css(styles.icon, iconColor)}>{I}</div>\r\n\t\t\t<div className={css(styles.errorInfo)}>\r\n\t\t\t\t<Text styles={styles.title} bold>\r\n\t\t\t\t\t{t(title)}\r\n\t\t\t\t</Text>\r\n\t\t\t\t<Text styles={styles.errorText} tag=\"pre\" size={TextSizeType.caption} muted>\r\n\t\t\t\t\t{t(message)}\r\n\t\t\t\t</Text>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst ErrorSectionAccordion: React.FC<ErrorSectionProps> = props => {\r\n\treturn (\r\n\t\t<List accordionList noHairlinesMd>\r\n\t\t\t<ListItem accordionItem>\r\n\t\t\t\t<div slot=\"inner-start\">\r\n\t\t\t\t\t<ErrorSection {...props} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{props.children}\r\n\t\t\t</ListItem>\r\n\t\t</List>\r\n\t);\r\n};\r\n\r\nexport const ContextInfoBlock: React.FC<ContextInfoBlockProps> = React.memo(props => {\r\n\tconst styles = useStyles(getContextInfoBlockStyles, props);\r\n\tconst { icon, title, message, buttons, withAccordion } = props;\r\n\tconst errorSectionProps = {\r\n\t\ttitle,\r\n\t\tmessage,\r\n\t\ticon,\r\n\t\ticonColor: styles.iconColor\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.errorBlock)}>\r\n\t\t\t<Block styles={styles.wrap}>\r\n\t\t\t\t{withAccordion ? (\r\n\t\t\t\t\t<ErrorSectionAccordion {...{ ...props, ...errorSectionProps }} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ErrorSection {...errorSectionProps} />\r\n\t\t\t\t)}\r\n\t\t\t\t<div className={css(styles.actionButtons)}>\r\n\t\t\t\t\t{buttons.map((button, idx) => (\r\n\t\t\t\t\t\t<div className={css(styles.actionButton)} key={idx}>\r\n\t\t\t\t\t\t\t<MobileButton\r\n\t\t\t\t\t\t\t\ticon={button.icon}\r\n\t\t\t\t\t\t\t\tonClick={button.command}\r\n\t\t\t\t\t\t\t\ticonProps={{ icon: button.icon, styles: styles.buttonIcon }}\r\n\t\t\t\t\t\t\t\ttype={ButtonType.link}\r\n\t\t\t\t\t\t\t\tenabled\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(button.title)}\r\n\t\t\t\t\t\t\t</MobileButton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</Block>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nContextInfoBlock.displayName = \"InfoBlock\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { ContextInfoBlockProps } from \"./ContextInfoBlock\";\r\n\r\nexport const getContextInfoBlockStyles = (theme: Theme, props: ContextInfoBlockProps) => {\r\n\tconst color = theme.colors[props.colorType] || theme.colors.primary;\r\n\r\n\treturn {\r\n\t\terrorBlock: {\r\n\t\t\tpaddingTop: props.separateBlock ? theme.sizing.sizes.lg : \"0\"\r\n\t\t},\r\n\t\twrap: {\r\n\t\t\tbackground: theme.colors.primary.background,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\tpaddingTop: theme.constants.gridPadding,\r\n\t\t\tpaddingBottom: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\tcustomIcon: {\r\n\t\t\twidth: theme.sizing.sizes.xxl,\r\n\t\t\theight: theme.sizing.sizes.xxl\r\n\t\t},\r\n\t\tbuttonIcon: {\r\n\t\t\tcolor: color.main\r\n\t\t} as CSSProp,\r\n\t\tactionButtons: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"flex-end\",\r\n\t\t\tflexWrap: \"wrap\"\r\n\t\t} as CSSProp,\r\n\t\tactionButton: {\r\n\t\t\tpadding: theme.sizing.sizes.sm\r\n\t\t},\r\n\t\ticonColor: {\r\n\t\t\tcolor: color.main\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const getErrorSectionStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\terrorSection: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tmarginRight: theme.constants.gridPadding,\r\n\t\t\twidth: theme.sizing.sizes.xxl,\r\n\t\t\theight: theme.sizing.sizes.xxl\r\n\t\t} as CSSProp,\r\n\t\terrorInfo: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\"\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\tmarginBottom: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\terrorText: {\r\n\t\t\tmargin: \"0\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { FullscreenInfo, FullscreenInfoProps } from \"./FullscreenInfo\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\nimport { QuizNavBar } from \"../../quizNavBar/QuizNavBar\";\r\nimport { t } from \"quiz/QuizApp\";\r\n\r\nexport const FullscreenErrorPage: React.FC<FullscreenInfoProps> = props => {\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<QuizNavBar title={t(props.title)} />\r\n\t\t\t<FullscreenInfo {...props}></FullscreenInfo>\r\n\t\t</Page>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getFullscreenErrorStyles } from \"./fullscreenInfoStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { MobileActionButton } from \"quiz/components/button/MobileActionButton\";\r\nimport { ButtonSize, ButtonType } from \"quiz/components/button/Button\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { InfoBlockProps } from \"../InfoBlock\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\n\r\nexport interface FullscreenInfoProps extends InfoBlockProps {\r\n\tfullHeight?: boolean;\r\n\ttransparent?: boolean;\r\n}\r\n\r\nexport const FullscreenInfo: React.FC<FullscreenInfoProps> = props => {\r\n\tconst { colorType, title, message, icon, primaryButton, secondaryButton, fullHeight, transparent } = props;\r\n\tconst styles = useStyles(getFullscreenErrorStyles, { fullHeight, colorType, transparent });\r\n\tconst I = Array.isArray(icon) ? <Icon style={{ width: \"100%\", height: \"100%\" }} icon={icon} /> : icon;\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t<div className={css(styles.content)}>\r\n\t\t\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t\t\t<div>{I}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Block styles={styles.title}>\r\n\t\t\t\t\t<Text bold size={TextSizeType.title}>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</Block>\r\n\t\t\t\t<Block styles={styles.description}>\r\n\t\t\t\t\t<Text size={TextSizeType.body}>{message}</Text>\r\n\t\t\t\t</Block>\r\n\t\t\t\t{props.primaryButton && (\r\n\t\t\t\t\t<div className={css(styles.primaryButton)}>\r\n\t\t\t\t\t\t<MobileActionButton size={ButtonSize.large} colorType={colorType} {...primaryButton} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{props.secondaryButton && (\r\n\t\t\t\t\t<div className={css(styles.secondaryButton)}>\r\n\t\t\t\t\t\t<MobileActionButton\r\n\t\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\t\ttype={ButtonType.link}\r\n\t\t\t\t\t\t\tcolorType={colorType}\r\n\t\t\t\t\t\t\t{...secondaryButton}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport { FullscreenInfoProps } from \"./FullscreenInfo\";\r\n\r\nexport const getFullscreenErrorStyles = (\r\n\ttheme: Theme,\r\n\tprops: Pick<FullscreenInfoProps, \"fullHeight\" | \"colorType\" | \"transparent\">\r\n) => {\r\n\tconst { fullHeight, colorType, transparent } = props;\r\n\tconst color = theme.colors[colorType] || theme.colors.primary;\r\n\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\theight: fullHeight ? \"100vh\" : \"100%\",\r\n\t\t\tbackgroundColor: transparent ? \"transparent\" : theme.colors.base.main\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\twidth: \"80px\",\r\n\t\t\theight: \"80px\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\ttextAlign: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.lg,\r\n\t\t\tcolor: color.main\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\ttextAlign: \"center\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\tdescription: {\r\n\t\t\ttextAlign: \"center\",\r\n\t\t\tmarginBottom: scale(theme.constants.gridPadding, ScaleEnum.Double)\r\n\t\t} as CSSProp,\r\n\t\tprimaryButton: {\r\n\t\t\tmarginBottom: theme.sizing.sizes.lg\r\n\t\t} as CSSProp,\r\n\t\tsecondaryButton: {\r\n\t\t\tmarginBottom: theme.sizing.sizes.sm\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\n\r\nexport const accessDeniedIcon = (\r\n\t<svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<path\r\n\t\t\td=\"M31.39 39.1381C32.3779 39.6321 33.5793 39.2317 34.0733 38.2437C34.5672 37.2558 34.1668 36.0544 33.1788 35.5604L31.39 39.1381ZM34.0516 65.5619C35.1561 65.5619 36.0516 64.6665 36.0516 63.5619C36.0516 62.4573 35.1561 61.5619 34.0516 61.5619V65.5619ZM30.3722 36.3932L29.4778 38.182L30.3722 36.3932ZM50.9011 22.9176V32.9663H54.9011V22.9176H50.9011ZM30.1611 32.8155V22.9176H26.1611V32.8155H30.1611ZM49.8934 34.7028L15.5065 54.3525L17.491 57.8254L51.8779 38.1758L49.8934 34.7028ZM29.4778 38.182L31.39 39.1381L33.1788 35.5604L31.2666 34.6043L29.4778 38.182ZM18.4833 65.5619H34.0516V61.5619H18.4833V65.5619ZM15.5065 54.3525C10.1644 57.4051 12.3305 65.5619 18.4833 65.5619V61.5619C16.4324 61.5619 15.7103 58.843 17.491 57.8254L15.5065 54.3525ZM26.1611 32.8155C26.1611 35.0881 27.4451 37.1657 29.4778 38.182L31.2666 34.6043C30.5891 34.2656 30.1611 33.573 30.1611 32.8155H26.1611ZM50.9011 32.9663C50.9011 33.684 50.5165 34.3467 49.8934 34.7028L51.8779 38.1758C53.7474 37.1075 54.9011 35.1195 54.9011 32.9663H50.9011ZM40.5311 12.5476C46.2583 12.5476 50.9011 17.1904 50.9011 22.9176H54.9011C54.9011 14.9813 48.4674 8.54761 40.5311 8.54761V12.5476ZM40.5311 8.54761C32.5947 8.54761 26.1611 14.9813 26.1611 22.9176H30.1611C30.1611 17.1904 34.8039 12.5476 40.5311 12.5476V8.54761Z\"\r\n\t\t\tfill=\"#F73B52\"\r\n\t\t/>\r\n\t\t<rect x=\"45\" y=\"59\" width=\"21\" height=\"13\" rx=\"2\" stroke=\"#F73B52\" strokeWidth=\"4\" />\r\n\t\t<path\r\n\t\t\td=\"M62 55V52C62 48.6863 59.0899 46 55.5 46C51.9101 46 49 48.6863 49 52V55\"\r\n\t\t\tstroke=\"#F73B52\"\r\n\t\t\tstrokeWidth=\"4\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n","import * as React from \"react\";\r\n\r\nexport const cloudOffIcon = (\r\n\t<svg width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<rect width=\"64\" height=\"64\" fill=\"white\" />\r\n\t\t<path\r\n\t\t\td=\"M18.9927 22.5154C12.8366 23.027 8 28.1855 8 34.4737C8 41.1011 13.3726 46.4737 20 46.4737H44M18.9927 22.5154L44 46.4737M18.9927 22.5154L13.3684 16.7895M23.7895 16.0002C26.2386 14.1186 29.3044 13 32.6316 13C40.2533 13 46.504 18.8698 47.1098 26.3355C52.1179 26.9356 56 31.1987 56 36.3684C56 39.563 54.5176 42.4114 52.2032 44.2632M44 46.4737L47.7895 50.2632\"\r\n\t\t\tstroke=\"#FF823C\"\r\n\t\t\tstrokeWidth=\"4\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n","import * as React from \"react\";\r\n\r\nexport const emptyIcon = (\r\n\t<svg width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<rect width=\"64\" height=\"64\" fill=\"white\" />\r\n\t\t<path\r\n\t\t\td=\"M24 23C24 20.7909 25.7909 19 28 19C30.2091 19 32 20.7909 32 23C32 23.7963 31.7673 24.5383 31.3662 25.1616C30.1708 27.0193 28 28.7909 28 31V31\"\r\n\t\t\tstroke=\"#FF823C\"\r\n\t\t\tstrokeWidth=\"4\"\r\n\t\t/>\r\n\t\t<rect x=\"26\" y=\"33\" width=\"4\" height=\"4\" fill=\"#FF823C\" />\r\n\t\t<path\r\n\t\t\td=\"M44.8421 38.9474V12C44.8421 9.79086 43.0512 8 40.8421 8H16C13.7909 8 12 9.79086 12 12V45.6842C12 47.8934 13.7909 49.6842 16 49.6842H35.3684\"\r\n\t\t\tstroke=\"#FF823C\"\r\n\t\t\tstrokeWidth=\"4\"\r\n\t\t/>\r\n\t\t<path d=\"M39.7897 43.3684L46.1053 49.6842\" stroke=\"#FF823C\" strokeWidth=\"4\" />\r\n\t\t<path d=\"M46.1051 43.3684L39.7895 49.6842\" stroke=\"#FF823C\" strokeWidth=\"4\" />\r\n\t\t<circle cx=\"42.9474\" cy=\"46.5263\" r=\"9.47368\" stroke=\"#FF823C\" strokeWidth=\"4\" />\r\n\t</svg>\r\n);\r\n","import * as React from \"react\";\r\n\r\nexport const serverErrorIcon = (\r\n\t<svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<path\r\n\t\t\td=\"M30 26.5V6C30 3.79086 28.2091 2 26 2H8C5.79086 2 4 3.79086 4 6V31C4 33.2091 5.79086 35 8 35H22.5\"\r\n\t\t\tstroke=\"#F73B52\"\r\n\t\t\tstrokeWidth=\"2\"\r\n\t\t/>\r\n\t\t<path d=\"M26.0003 30L31.0001 35\" stroke=\"#F73B52\" strokeWidth=\"2\" />\r\n\t\t<path d=\"M30.9999 30L26 35\" stroke=\"#F73B52\" strokeWidth=\"2\" />\r\n\t\t<path d=\"M29 12.5H4.5\" stroke=\"#F73B52\" strokeWidth=\"2\" />\r\n\t\t<path d=\"M29 22.5H4.5\" stroke=\"#F73B52\" strokeWidth=\"2\" />\r\n\t\t<circle cx=\"28.5\" cy=\"32.5\" r=\"6.5\" stroke=\"#F73B52\" strokeWidth=\"2\" />\r\n\t\t<path d=\"M13 7.5H13.5\" stroke=\"#F73B52\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M9 7.5H9.5\" stroke=\"#F73B52\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M13 17.5H13.5\" stroke=\"#F73B52\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M9 17.5H9.5\" stroke=\"#F73B52\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M13 28.5H13.5\" stroke=\"#F73B52\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M9 28.5H9.5\" stroke=\"#F73B52\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t</svg>\r\n);\r\n","import * as React from \"react\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\n\r\nexport const unexpectedIcon = <Icon style={{ width: \"40px\", height: \"40px\" }} icon={[\"far\", \"exclamation-triangle\"]} />;\r\n","import * as React from \"react\";\r\n\r\nexport const userNotMatchedIcon = (\r\n\t<svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<circle cx=\"53\" cy=\"59\" r=\"13\" stroke=\"#F73B52\" strokeWidth=\"4\" />\r\n\t\t<path\r\n\t\t\td=\"M48.6667 56.1667C48.6667 53.7734 50.6068 51.8333 53 51.8333C55.3932 51.8333 57.3333 53.7734 57.3333 56.1667C57.3333 57.8664 56.3547 59.3376 54.9301 60.0475C53.9415 60.5401 53 61.3954 53 62.5V62.5M53 68V64\"\r\n\t\t\tstroke=\"#F73B52\"\r\n\t\t\tstrokeWidth=\"4\"\r\n\t\t/>\r\n\t\t<path\r\n\t\t\td=\"M31.39 39.1381C32.3779 39.6321 33.5793 39.2317 34.0733 38.2437C34.5672 37.2558 34.1668 36.0544 33.1788 35.5604L31.39 39.1381ZM34.0516 65.5619C35.1561 65.5619 36.0516 64.6665 36.0516 63.5619C36.0516 62.4573 35.1561 61.5619 34.0516 61.5619V65.5619ZM30.3722 36.3932L29.4778 38.182L30.3722 36.3932ZM50.9011 22.9176V32.9663H54.9011V22.9176H50.9011ZM30.1611 32.8155V22.9176H26.1611V32.8155H30.1611ZM49.8934 34.7028L15.5065 54.3525L17.4911 57.8254L51.8779 38.1758L49.8934 34.7028ZM29.4778 38.182L31.39 39.1381L33.1788 35.5604L31.2667 34.6043L29.4778 38.182ZM18.4833 65.5619H34.0516V61.5619H18.4833V65.5619ZM15.5065 54.3525C10.1644 57.4051 12.3305 65.5619 18.4833 65.5619V61.5619C16.4324 61.5619 15.7103 58.843 17.4911 57.8254L15.5065 54.3525ZM26.1611 32.8155C26.1611 35.0881 27.4451 37.1657 29.4778 38.182L31.2667 34.6043C30.5891 34.2656 30.1611 33.573 30.1611 32.8155H26.1611ZM50.9011 32.9663C50.9011 33.684 50.5165 34.3467 49.8934 34.7028L51.8779 38.1758C53.7474 37.1075 54.9011 35.1195 54.9011 32.9663H50.9011ZM40.5311 12.5476C46.2583 12.5476 50.9011 17.1904 50.9011 22.9176H54.9011C54.9011 14.9813 48.4674 8.54761 40.5311 8.54761V12.5476ZM40.5311 8.54761C32.5948 8.54761 26.1611 14.9813 26.1611 22.9176H30.1611C30.1611 17.1904 34.8039 12.5476 40.5311 12.5476V8.54761Z\"\r\n\t\t\tfill=\"#F73B52\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n","import { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { FunctionComponent } from \"react\";\r\nimport { filterProps } from \"utils/helpers\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { FieldControlLayout, FieldControlLayoutProps } from \"../fieldControlLayout/FieldControlLayout\";\r\nimport { getInputStyles } from \"./inputStyles\";\r\nimport { useKeyboardEnter } from \"hooks/useKeyboardEnter\";\r\n\r\nexport const inheritFieldControlProps = [\r\n\t\"value\",\r\n\t\"onChange\",\r\n\t\"label\",\r\n\t\"labelSecondary\",\r\n\t\"description\",\r\n\t\"colorType\",\r\n\t\"descriptionColorType\"\r\n] as const;\r\n\r\ntype InputHTMLProps = React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\r\n\r\ninterface InputControlProps\r\n\textends Pick<FieldControlLayoutProps, typeof inheritFieldControlProps[number]>,\r\n\t\tOmit<InputHTMLProps, typeof inheritFieldControlProps[number]> {}\r\n\r\nexport const InputControl: FunctionComponent<InputControlProps> = function InputCtrl(props) {\r\n\tconst s = useStyles(getInputStyles);\r\n\r\n\tconst fieldControlLayoutProps = filterProps(props, inheritFieldControlProps);\r\n\tconst htmlProps = filterProps(props, inheritFieldControlProps, false);\r\n\tconst inputRef = React.useRef<HTMLInputElement>();\r\n\tconst enter = useKeyboardEnter();\r\n\r\n\treturn (\r\n\t\t<FieldControlLayout\r\n\t\t\t{...fieldControlLayoutProps}\r\n\t\t\tvalue={props.value}\r\n\t\t\treadOnly={props.readOnly}\r\n\t\t\tonClearClick={() => inputRef && inputRef.current && inputRef.current.focus()}\r\n\t\t\tcustomControl={(controlProps, styles) => (\r\n\t\t\t\t<input\r\n\t\t\t\t\t{...controlProps}\r\n\t\t\t\t\t{...htmlProps}\r\n\t\t\t\t\tonKeyDown={enter}\r\n\t\t\t\t\tclassName={css(styles, s.input)}\r\n\t\t\t\t\ttype={props.type || \"text\"}\r\n\t\t\t\t\tvalue={controlProps.value != null ? controlProps.value : \"\"}\r\n\t\t\t\t\tref={inputRef}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n};\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport function getInputStyles() {\r\n\treturn {\r\n\t\tinput: {\r\n\t\t\ttextOverflow: \"ellipsis\"\r\n\t\t} as CSSProp\r\n\t};\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getInstanceBarStyles, AppMode } from \"./instanceBarStyles\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { applyCssVars } from \"utils/cssHelpers\";\r\n\r\ntype InstanceBarProps = {\r\n\tappMode: AppMode;\r\n\ttext?: string;\r\n};\r\n\r\nexport const InstanceBar: React.FC<InstanceBarProps> = React.memo(props => {\r\n\tconst appMode = props.appMode;\r\n\tconst theme = useContext(ThemeContext);\r\n\r\n\tconst sizeOfBar = React.useMemo(() => theme.sizing.sizes.sm, []);\r\n\r\n\tconst styles = useStyles(getInstanceBarStyles, { appMode, sizeOfBar });\r\n\r\n\tReact.useEffect(() => {\r\n\t\tapplyCssVars({\r\n\t\t\t\"--instanceBarIndent\": sizeOfBar\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn <div className={css(styles.bar)}>{props.text && <Text styles={styles.text}>{props.text}</Text>}</div>;\r\n});\r\nInstanceBar.displayName = \"InstanceBar\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp, CSSSizeValue } from \"wraps/styleCreators\";\r\nimport { ColorTypes } from \"theme/colors\";\r\n\r\nexport type AppMode = \"test\" | \"dev\" | \"preprod\" | \"prod\";\r\n\r\nexport const appMode2ColorMap: { [key in AppMode]: ColorTypes } = {\r\n\tdev: ColorTypes.danger,\r\n\ttest: ColorTypes.warning,\r\n\tpreprod: ColorTypes.success,\r\n\tprod: ColorTypes.primary\r\n};\r\n\r\nexport type InstanceBarStylesProps = {\r\n\tappMode: AppMode;\r\n\tsizeOfBar: CSSSizeValue;\r\n};\r\n\r\nexport const getInstanceBarStyles = (theme: Theme, props: InstanceBarStylesProps) => {\r\n\tconst color = appMode2ColorMap[props.appMode] || ColorTypes.danger;\r\n\treturn {\r\n\t\tbar: {\r\n\t\t\tbackground: theme.colors[color].main,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tposition: \"fixed\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\theight: props.sizeOfBar,\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tzIndex: 10,\r\n\t\t\tbottom: \"0px\"\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\tlineHeight: \"0px\",\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\tcolor: theme.colors.primary.background,\r\n\t\t\tfontSize: theme.sizing.sizes.sm\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { f7 } from \"framework7-react\";\r\nimport { Dialog as F7Dialog } from \"framework7/components/dialog/dialog\";\r\n\r\nimport \"./customDialogStyles.css\";\r\n\r\nexport class Dialog {\r\n\tstatic create(parameters: F7Dialog.Parameters): F7Dialog.Dialog {\r\n\t\treturn f7.dialog.create({\r\n\t\t\tcssClass: \"quiz-dialog\",\r\n\t\t\t...parameters\r\n\t\t});\r\n\t}\r\n\r\n\tstatic alert(text: string, title: string, callback?: () => void): F7Dialog.Dialog;\r\n\tstatic alert(text: string, callback?: () => void): F7Dialog.Dialog;\r\n\r\n\t/** create Alert Dialog and open it */\r\n\tstatic alert(text: string, ...args): F7Dialog.Dialog {\r\n\t\tlet cb = () => {};\r\n\t\tlet title = \"Quiz\";\r\n\t\tfor (let arg of args) {\r\n\t\t\tif (typeof arg == \"string\") {\r\n\t\t\t\ttitle = arg;\r\n\t\t\t} else {\r\n\t\t\t\tcb = arg;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst alert = f7.dialog.create({\r\n\t\t\tcssClass: \"quiz-dialog\",\r\n\t\t\ttext,\r\n\t\t\ttitle,\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Ok\",\r\n\t\t\t\t\tclose: true,\r\n\t\t\t\t\tonClick: cb\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\talert.open();\r\n\r\n\t\treturn alert;\r\n\t}\r\n\r\n\t/** create Preloader Dialog and open it */\r\n\tstatic preloader(title?: string, color?: string): F7Dialog.Dialog {\r\n\t\treturn f7.dialog.preloader(title, color);\r\n\t}\r\n\r\n\tstatic customPreloader(parameters: F7Dialog.Parameters) {\r\n\t\treturn Dialog.create({\r\n\t\t\t...parameters,\r\n\t\t\tcssClass: \"dialog-preloader quiz-dialog\",\r\n\t\t\tcontent: '<div class=\"preloader\">' + f7.utils.mdPreloaderContent + \"</div>\"\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport { F7Dialog };\r\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./customDialogStyles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../../node_modules/css-loader/dist/cjs.js!./customDialogStyles.css\",\n      function () {\n        content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./customDialogStyles.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};","import { Toast as F7Toast } from \"framework7/components/toast/toast\";\r\nimport { f7 } from \"framework7-react\";\r\nimport { applyCssVars } from \"utils/cssHelpers\";\r\nimport { theme } from \"themes/defaultTheme\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { NotificationSettings } from \"utils/constants\";\r\nimport { styleSheet, css } from \"wraps/styleCreators\";\r\nimport { getToastStyles } from \"./toastStyles\";\r\n\r\ntype ToastType = \"info\" | \"success\" | \"warn\" | \"error\";\r\n\r\nexport interface QuizToastParams\r\n\textends Omit<F7Toast.Parameters, \"closeButton\" | \"closeButtonColor\" | \"closeButtonText\" | \"render\" | \"cssClass\"> {\r\n\ttype: ToastType;\r\n}\r\n\r\nconst typeToColorMap: { [key in ToastType]: ColorTypes } = {\r\n\tinfo: ColorTypes.primary,\r\n\tsuccess: ColorTypes.success,\r\n\twarn: ColorTypes.warning,\r\n\terror: ColorTypes.danger\r\n};\r\n\r\nexport class Toast {\r\n\tstatic create(props: QuizToastParams) {\r\n\t\tconst { position = \"top\", ...toastProps } = props;\r\n\t\tconst styles = styleSheet(getToastStyles(theme, position));\r\n\t\tapplyCssVars({\r\n\t\t\t\"f7-toast-bg-color\": theme.colors[typeToColorMap[props.type]].main\r\n\t\t});\r\n\r\n\t\treturn f7.toast.create({\r\n\t\t\t...toastProps,\r\n\t\t\tdestroyOnClose: true,\r\n\t\t\tposition: \"center\",\r\n\t\t\tcloseTimeout: props.closeTimeout || NotificationSettings.closeTimeoutMs,\r\n\t\t\tcssClass: css(styles.toast)\r\n\t\t});\r\n\t} //todo: может стоит перенсти в хук? Импортить тему из контекста\r\n}\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { Toast } from \"framework7/components/toast/toast\";\r\n\r\nconst mapPostion2Style = {\r\n\ttop: \"var(--f7-navbar-height)\",\r\n\tcenter: \"calc(100vh - 50%)\",\r\n\tbottom: \"calc(100vh - var(--f7-navbar-height))\"\r\n};\r\n\r\nexport const getToastStyles = (theme: Theme, position: Toast.Parameters[\"position\"]) => {\r\n\tconst vars = {\r\n\t\ttop: mapPostion2Style[position],\r\n\t\tmarginTop: position == \"bottom\" ? \"unset\" : theme.constants.gridPadding\r\n\t};\r\n\treturn {\r\n\t\ttoast: {\r\n\t\t\twordBreak: \"keep-all\",\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\tfilter: \"opacity(80%)\",\r\n\t\t\t...vars\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Link as LinkBase } from \"framework7-react\";\r\n\r\nexport const Link = LinkBase;\r\n","import { usePosition, Coords } from \"hooks/usePosition\";\r\nimport { quizDataService, t } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { QuizList } from \"../quizList/QuizList\";\r\nimport { OutletFullData } from \"quiz/services/models\";\r\nimport { OutletItem } from \"quiz/components/outletItem/OutletItem\";\r\nimport { OutletSkeleton } from \"../quizSkeleton/skeletons/OutletSkeleton\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport { QuizFade } from \"../fade/QuizFade\";\r\nimport { getAnimationKey, formatDateTime } from \"utils/helpers\";\r\nimport { compareCoords, getTimeChange, getCacheOutlets } from \"./helpers\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { InlineGroup } from \"../quizPage/InlineGroup\";\r\nimport { css } from \"aphrodite\";\r\nimport { Icon, IconProp } from \"quiz/components/icon/Icon\";\r\nimport { T } from \"../text/T\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getListNearOutletsStyles } from \"./listNearOutletsStyles\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { ButtonType, ButtonSize } from \"quiz/components/button/Button\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { MobileButton } from \"../button/MobileButton\";\r\nimport { listNearOutletsReducer, listNearOutletsActions, NearOutletsState } from \"./listNearOutletsReducer\";\r\nimport { getCoords } from \"utils/geolocation\";\r\n\r\ninterface ListNearOutletsProps {\r\n\tonOutletClick: (outlet: OutletFullData) => void;\r\n}\r\n\r\nexport const outletWithDistanceCacheCode = \"outletWithDistance\";\r\n\r\nexport type CoordsCacheType = {\r\n\tlatitude: string;\r\n\tlongitude: string;\r\n\ttimestamp: number;\r\n};\r\n\r\nlet coordsCache: CoordsCacheType = {\r\n\tlatitude: \"\",\r\n\tlongitude: \"\",\r\n\ttimestamp: new Date().getTime()\r\n};\r\n\r\nexport const nearOutletsInitialState: NearOutletsState = {\r\n\toutlets: null,\r\n\tcoords: null,\r\n\tlastUpdateDate: null,\r\n\terrors: [],\r\n\tisFetching: true,\r\n\tisRefreshing: false\r\n};\r\n\r\nlet lastUpdateDate: Date = null;\r\n\r\nexport const ListNearOutlets: React.FC<ListNearOutletsProps> = props => {\r\n\tconst [state, dispatch] = React.useReducer(listNearOutletsReducer, {\r\n\t\t...nearOutletsInitialState,\r\n\t\toutlets: getCacheOutlets(),\r\n\t\tisFetching: getCacheOutlets() ? false : true\r\n\t});\r\n\tconst { outlets, coords, errors, isFetching } = state;\r\n\r\n\tconst styles = useStyles(getListNearOutletsStyles);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\tconst refreshNeraestOutlets = () => {\r\n\t\tquizDataService.clearCache(outletWithDistanceCacheCode);\r\n\t\tdispatch({\r\n\t\t\ttype: listNearOutletsActions.REFRESHING\r\n\t\t});\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst isTimeChange = getTimeChange(coordsCache.timestamp);\r\n\t\tif (coords) {\r\n\t\t\tconst isCoordsChange = compareCoords({ ...coords }, coordsCache);\r\n\t\t\tif (isCoordsChange && isTimeChange) {\r\n\t\t\t\tcoordsCache = {\r\n\t\t\t\t\t...coords,\r\n\t\t\t\t\ttimestamp: new Date().getTime()\r\n\t\t\t\t};\r\n\t\t\t\tquizDataService.clearCache(outletWithDistanceCacheCode);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: listNearOutletsActions.REFRESHING\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcoordsCache = {\r\n\t\t\t\t...coordsCache\r\n\t\t\t};\r\n\t\t}\r\n\t}, [coords?.latitude, coords?.longitude]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (coords || errors.length) {\r\n\t\t\treturn void 0;\r\n\t\t}\r\n\r\n\t\tlet active = true;\r\n\t\tconst onSuccess = (coords: Coords) => {\r\n\t\t\tactive &&\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: listNearOutletsActions.UPDATE_COORDS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tcoords\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst onError = error => {\r\n\t\t\tactive &&\r\n\t\t\t\t!outlets &&\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: listNearOutletsActions.LOADNIG_ERROR,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\tgetCoords(onSuccess, onError);\r\n\r\n\t\treturn () => (active = false);\r\n\t});\r\n\r\n\tuseCancellablePromise<OutletFullData[]>(\r\n\t\tsignal => {\r\n\t\t\tif (!coords) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\treturn !outlets ? quizDataService.getOutletWithDistance({ ...coords }, { signal }) : null;\r\n\t\t},\r\n\t\t{\r\n\t\t\tonSuccess: data => {\r\n\t\t\t\tlastUpdateDate = new Date();\r\n\t\t\t\tcoordsCache = {\r\n\t\t\t\t\t...coordsCache,\r\n\t\t\t\t\t...coords\r\n\t\t\t\t};\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: listNearOutletsActions.LOADING_SUCCESS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\toutlets: data\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonError: err => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: listNearOutletsActions.LOADNIG_ERROR,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\terror: err\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeps: [coords?.latitude, coords?.longitude]\r\n\t\t}\r\n\t);\r\n\r\n\tconst list = () => (\r\n\t\t<QuizList\r\n\t\t\tisLoading={isFetching}\r\n\t\t\tisEmpty={outlets?.length == 0}\r\n\t\t\terrors={errors}\r\n\t\t\tloading={() => <OutletSkeleton totalBlocks={10} />}\r\n\t\t\tnoHairlines\r\n\t\t>\r\n\t\t\t{outlets &&\r\n\t\t\t\toutlets?.map((outlet: OutletFullData) => (\r\n\t\t\t\t\t<OutletItem key={outlet.id} outlet={outlet} onClick={props.onOutletClick} />\r\n\t\t\t\t))}\r\n\t\t</QuizList>\r\n\t);\r\n\r\n\tconst fadeAnimationKey = getAnimationKey(!outlets, errors);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!errors.length && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Block styles={styles.content} secondary>\r\n\t\t\t\t\t\t<InlineGroup styles={styles.lastUpdate}>\r\n\t\t\t\t\t\t\t{lastUpdateDate && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<div className={css(styles.icon)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\t\ticon={[\"far\", \"sync\"] as IconProp}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor={theme.colors.secondary.border}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<T size={TextSizeType.caption} muted>\r\n\t\t\t\t\t\t\t\t\t\t{formatDateTime(lastUpdateDate, null, { hour: \"numeric\", minute: \"numeric\" })}\r\n\t\t\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</InlineGroup>\r\n\t\t\t\t\t\t<InlineGroup>\r\n\t\t\t\t\t\t\t<MobileButton\r\n\t\t\t\t\t\t\t\ttype={ButtonType.transparent}\r\n\t\t\t\t\t\t\t\tcolorType={ColorTypes.info}\r\n\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\tsize={ButtonSize.normal}\r\n\t\t\t\t\t\t\t\tfontSize={theme.sizing.fontSizes.bodyMin}\r\n\t\t\t\t\t\t\t\ticon={[\"far\", \"sync\"]}\r\n\t\t\t\t\t\t\t\tonClick={refreshNeraestOutlets}\r\n\t\t\t\t\t\t\t\tenabled={!!outlets}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(\"Refresh\")}\r\n\t\t\t\t\t\t\t</MobileButton>\r\n\t\t\t\t\t\t</InlineGroup>\r\n\t\t\t\t\t</Block>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t<QuizFade animationKey={fadeAnimationKey}>{list()}</QuizFade>\r\n\t\t</div>\r\n\t);\r\n};\r\nListNearOutlets.displayName = \"f7-list-item\";\r\n","import { Coords } from \"hooks/usePosition\";\r\nimport { CoordsCacheType, outletWithDistanceCacheCode } from \"./ListNearOutlets\";\r\nimport { quizDataService } from \"quiz/QuizApp\";\r\n\r\nexport interface LatLng {\r\n\tlatitude: number;\r\n\tlongitude: number;\r\n}\r\n\r\nexport function distanceInMeterBetweenToGeographyPoint(start: LatLng, end: LatLng) {\r\n\tconst EARTH_RADIUS = 6371000; // meters\r\n\r\n\tconst toRad = (num: number) => {\r\n\t\treturn (num * Math.PI) / 180;\r\n\t};\r\n\r\n\tconst dLat = toRad(end.latitude - start.latitude);\r\n\tconst dLon = toRad(end.longitude - start.longitude);\r\n\tconst lat1 = toRad(start.latitude);\r\n\tconst lat2 = toRad(end.latitude);\r\n\r\n\tconst a =\r\n\t\tMath.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n\t\tMath.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(lat1) * Math.cos(lat2);\r\n\tconst c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n\treturn EARTH_RADIUS * c;\r\n}\r\n\r\nexport function getTimeChange(lastUpdateTime: number): boolean {\r\n\tconst refreshingTime = 1 * 90 * 1000; //1,5 минут\r\n\r\n\tconst currentTime = new Date().getTime();\r\n\tif (currentTime - lastUpdateTime < refreshingTime) {\r\n\t\treturn false; //Если не прошло allowedTime, то возращаем, что время не изменилось\r\n\t} else return true;\r\n}\r\n\r\nexport function compareCoords(prev: Coords, cur: CoordsCacheType): boolean {\r\n\tconst allowedDistance = 100;\r\n\r\n\tconst distance = distanceInMeterBetweenToGeographyPoint(\r\n\t\t{ latitude: +prev.latitude, longitude: +prev.longitude },\r\n\t\t{ latitude: +cur.latitude, longitude: +cur.longitude }\r\n\t);\r\n\r\n\tif (distance < allowedDistance) {\r\n\t\treturn false;\r\n\t} //Если координаты не изменились больше чем на allowedDistance, то возращаем, что координаты не изменились\r\n\r\n\treturn true;\r\n}\r\n\r\nexport const getCacheOutlets = () => {\r\n\tconst cache = quizDataService.getCache(outletWithDistanceCacheCode);\r\n\tconst cacheData = cache ? quizDataService.prepareOutletWithDistance(cache.records) : null;\r\n\r\n\treturn cacheData;\r\n};\r\n","import { Action } from \"quiz/quizAppReducer\";\r\nimport { OutletFullData } from \"quiz/services/models\";\r\nimport { Coords } from \"hooks/usePosition\";\r\nimport { quizDataService } from \"quiz/QuizApp\";\r\nimport { outletWithDistanceCacheCode } from \"./ListNearOutlets\";\r\n\r\nexport enum listNearOutletsActions {\r\n\tUPDATE_COORDS = \"UPDATE_COORDS\",\r\n\tIS_FETCHING = \"ALLOW_FETCH\",\r\n\tLOADNIG_ERROR = \"LOADING_ERROR\",\r\n\tLOADING_SUCCESS = \"LOADING_SUCCESS\",\r\n\tREFRESHING = \"REFRESHING\"\r\n}\r\n\r\nexport interface NearOutletsState {\r\n\toutlets: OutletFullData[];\r\n\tcoords: Coords;\r\n\tlastUpdateDate: Date;\r\n\terrors: any[];\r\n\tisFetching: boolean;\r\n\tisRefreshing: boolean;\r\n}\r\n\r\nexport const listNearOutletsReducer = (state, action: Action): NearOutletsState => {\r\n\tconst payload = action?.payload;\r\n\r\n\tswitch (action.type) {\r\n\t\tcase listNearOutletsActions.UPDATE_COORDS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcoords: payload?.coords\r\n\t\t\t};\r\n\t\tcase listNearOutletsActions.IS_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: true\r\n\t\t\t};\r\n\t\tcase listNearOutletsActions.LOADING_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toutlets: payload?.outlets,\r\n\t\t\t\tlastUpdateDate: payload?.lastUpdateDate,\r\n\t\t\t\tisFetching: false,\r\n\t\t\t\terrors: []\r\n\t\t\t};\r\n\t\tcase listNearOutletsActions.LOADNIG_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toutlets: [],\r\n\t\t\t\tisFetching: false,\r\n\t\t\t\terrors: [payload?.error]\r\n\t\t\t};\r\n\t\tcase listNearOutletsActions.REFRESHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcoords: null,\r\n\t\t\t\toutlets: null,\r\n\t\t\t\terrors: [],\r\n\t\t\t\tisFetching: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getListNearOutletsStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tcontent: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tpadding: `${scale(theme.sizing.sizes.lg, ScaleEnum.Half)} ${theme.constants.gridPadding}`,\r\n\t\t\tboxSizing: \"border-box\",\r\n\t\t\tminHeight: \"48px\"\r\n\t\t} as CSSProp,\r\n\t\tlastUpdate: {\r\n\t\t\tdisplay: \"flex\"\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\tmarginRight: `calc(${theme.sizing.sizes.lg} / 2)`,\r\n\t\t\tfontSize: theme.sizing.fontSizes.caption\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { List, ListItem as ListItemBase, ListInput, F7ListItem } from \"framework7-react\";\r\nimport * as React from \"react\";\r\n\r\nexport const ListItem: React.FC<F7ListItem.Props> = props => <ListItemBase {...props} />;\r\n\r\nListItem.displayName = \"f7-list-item\";\r\n\r\nexport { ListInput, List };\r\n","import * as React from \"react\";\r\nimport { Gallery, GalleryImage } from \"quiz/components/gallery/Gallery\";\r\nimport { FileRecord } from \"mdtApiClient/mdtApiClient\";\r\nimport { apiClient } from \"quiz/QuizApp\";\r\n\r\ninterface MDTFileGalleryOptions {\r\n\tfileRecords: FileRecord[];\r\n}\r\n\r\nexport const MDTFileGallery: React.FC<MDTFileGalleryOptions> = ({ fileRecords }) => {\r\n\tconst images = React.useMemo<GalleryImage[]>(\r\n\t\t() =>\r\n\t\t\tfileRecords.map(file => ({\r\n\t\t\t\tthumbUrl: apiClient.imageUrl(file, { height: 100, width: 100, mode: \"fill\" }),\r\n\t\t\t\turl: apiClient.imageUrl(file)\r\n\t\t\t})),\r\n\t\t[fileRecords]\r\n\t);\r\n\treturn <Gallery images={images} />;\r\n};\r\n","import * as React from \"react\";\r\nimport { FileRecord } from \"mdtApiClient/mdtApiClient\";\r\nimport { Image } from \"quiz/components/image/Image\";\r\nimport { apiClient } from \"quiz/QuizApp\";\r\nimport { StyleDeclarationValue } from \"wraps/styleCreators\";\r\n\r\ninterface MDTImageOptions {\r\n\tfileRecord: FileRecord;\r\n\tstyles?: StyleDeclarationValue;\r\n}\r\n\r\nexport const MDTImage: React.FC<MDTImageOptions> = ({ fileRecord, styles }) => (\r\n\t<Image src={apiClient.imageUrl(fileRecord)} styles={styles} />\r\n);\r\n","import * as React from \"react\";\r\nimport { Navbar as NavbarBase, NavRight, NavLeft, NavTitle, F7Navbar } from \"framework7-react\";\r\nimport { navbarStyles } from \"./navbarStyles\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\n\r\nexport interface NavbarProps extends F7Navbar.Props {}\r\n\r\nexport const Navbar: React.FunctionComponent<NavbarProps> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<style>{navbarStyles(theme)}</style>\r\n\t\t\t<NavbarBase {...props}>{props.children}</NavbarBase>\r\n\t\t</>\r\n\t);\r\n};\r\nNavbar.displayName = \"f7-navbar\"; //important for other F7 components\r\n\r\nexport { NavRight, NavLeft, NavTitle };\r\n","import { Theme } from \"theme/theme\";\r\n\r\nconst navbarClass = \".md .navbar\";\r\nexport const navbarStyles = (theme: Theme) =>\r\n\t`\r\n${navbarClass} .navbar-inner {\r\n\tjustify-content: space-between;\r\n\tpadding-left: ${theme.constants.gridPadding};\r\n\tpadding-right: ${theme.constants.gridPadding};\r\n}\r\n${navbarClass} a.link {\r\n\tpadding: 0;\r\n\theight: 100%;\r\n\tmin-width: 0;\r\n}\r\n`.trim();\r\n","import * as React from \"react\";\r\nimport { getOutletExtendableItemStyles } from \"./outletExtendableItemStyles\";\r\nimport { OutletFullData } from \"quiz/services/models\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { ListItem } from \"quiz/components/listView/ListView\";\r\nimport { AccordionContent, List } from \"framework7-react\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { Icon, IconProp } from \"quiz/components/icon/Icon\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { QuizList } from \"quiz/components/quizList/QuizList\";\r\nimport { Avatar } from \"quiz/components/user/Avatar\";\r\nimport { abbr, getOutletChainName } from \"utils/helpers\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { Row } from \"../row/Row\";\r\n\r\ntype RowItem = {\r\n\ttitle: string;\r\n\tvalue: string;\r\n\tformat?: (v: string) => string;\r\n};\r\n\r\nconst getRowData = (props: OutletFullData): RowItem[] => [\r\n\t{ title: \"Code\", value: props?.code, format: (x: string) => x && `#${x}` },\r\n\t{ title: \"Outlet type\", value: props?.type },\r\n\t{ title: \"Chain type\", value: props?.outletChain?.type },\r\n\t{ title: \"Chain\", value: props?.outletChain?.name },\r\n\t{ title: \"Title\", value: props?.name },\r\n\t{ title: \"INN\", value: props?.legalEntity?.inn },\r\n\t{ title: \"Legal Entity\", value: props?.legalEntity?.name },\r\n\t{ title: \"Phone\", value: props?.phone }\r\n];\r\n\r\nconst employeeListItemClassName = \"employee__listItem\";\r\nconst employeeStyles = `.${employeeListItemClassName} .item-content {\r\n\t\t\tpadding-left: unset;\r\n\t\t}\r\n\t\t.${employeeListItemClassName} .item-link .item-inner:before {\r\n\t\t\tright: 0\r\n\t\t}\r\n\t\t`.trim();\r\n\r\nexport const OutletExtendableItem: React.FC<OutletFullData> = React.memo(props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst styles = useStyles(getOutletExtendableItemStyles);\r\n\tconst { name, iconName, outletChain, address, format, employees } = props;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<QuizList isLoading={false} isEmpty={false} errors={[]}>\r\n\t\t\t\t<ListItem accordionItem>\r\n\t\t\t\t\t<div className={css(styles.header)} slot=\"inner-start\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<div className={css(styles.title)}>\r\n\t\t\t\t\t\t\t\t{iconName && (\r\n\t\t\t\t\t\t\t\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t\t\t\t\t\t\t\t<Icon icon={[\"far\", iconName] as IconProp} color={theme.colors.primary.main} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Text size={TextSizeType.body}>\r\n\t\t\t\t\t\t\t\t\t{outletChain ? getOutletChainName(outletChain) : name}\r\n\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Text muted size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t{address}\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{format && (\r\n\t\t\t\t\t\t\t\t<Text size={TextSizeType.caption} muted>\r\n\t\t\t\t\t\t\t\t\t{`${format}`.concat(\r\n\t\t\t\t\t\t\t\t\t\toutletChain && outletChain.type ? ` / ${outletChain.type}` : \"\"\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Block secondary>\r\n\t\t\t\t\t\t<AccordionContent>\r\n\t\t\t\t\t\t\t{getRowData(props).map((item, idx) => (\r\n\t\t\t\t\t\t\t\t<React.Fragment key={idx}>\r\n\t\t\t\t\t\t\t\t\t<Divider dash />\r\n\t\t\t\t\t\t\t\t\t<div className={css(styles.row)} key={item.title}>\r\n\t\t\t\t\t\t\t\t\t\t<T styles={styles.rowName} size={TextSizeType.caption} muted>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t\t\t\t\t<Text styles={styles.text} size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.format ? item.format(item.value) : item.value}\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t{employees && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<style>{employeeStyles}</style>\r\n\t\t\t\t\t\t\t\t\t<Divider dash />\r\n\t\t\t\t\t\t\t\t\t<div className={css(styles.employeeRow)}>\r\n\t\t\t\t\t\t\t\t\t\t<T styles={styles.rowName} size={TextSizeType.caption} muted>\r\n\t\t\t\t\t\t\t\t\t\t\tEmployees\r\n\t\t\t\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<List noHairlinesBetweenMd noChevron>\r\n\t\t\t\t\t\t\t\t\t\t{employees.map((employee, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListItem key={idx} className={employeeListItemClassName}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={css(styles.employeeBlock)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar text={abbr(employee.name)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={css(styles.employeeInfo)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Text styles={styles.text} size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{employee.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Text styles={styles.positionText} size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{employee.positionName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</AccordionContent>\r\n\t\t\t\t\t</Block>\r\n\t\t\t\t</ListItem>\r\n\t\t\t</QuizList>\r\n\t\t</>\r\n\t);\r\n});\r\n\r\nOutletExtendableItem.displayName = \"OutletExtendableItem\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nconst sharedRowStyles = (theme: Theme) => ({\r\n\tdisplay: \"flex\",\r\n\tpadding: `${theme.sizing.sizes.sm} 0`,\r\n\tmargin: 0,\r\n\twordWrap: \"break-word\"\r\n});\r\n\r\nexport const getOutletExtendableItemStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\theader: {\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexWrap: \"nowrap\",\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\talignItems: \"baseline\"\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\talignItems: \"center\",\r\n\t\t\tmarginRight: theme.sizing.sizes.xs\r\n\t\t} as CSSProp,\r\n\t\trow: {\r\n\t\t\t...sharedRowStyles(theme),\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\ttextAlign: \"right\"\r\n\t\t} as CSSProp,\r\n\t\trowName: {\r\n\t\t\tmarginRight: theme.sizing.sizes.xxl,\r\n\t\t\tflexWrap: \"nowrap\",\r\n\t\t\twhiteSpace: \"nowrap\"\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\ttextOverflow: \"ellipsis\",\r\n\t\t\tcolor: theme.colors.base.texts.accent\r\n\t\t} as CSSProp,\r\n\t\tpositionText: {\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\ttextOverflow: \"ellipsis\",\r\n\t\t\tcolor: theme.colors.base.texts.muted\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\tcolor: theme.colors.primary.main,\r\n\t\t\tfontSize: theme.sizing.fontSizes.body\r\n\t\t},\r\n\t\temployeeRow: {\r\n\t\t\t...sharedRowStyles(theme),\r\n\t\t\tpadding: `${theme.sizing.sizes.sm} 0 0`,\r\n\t\t\tflexDirection: \"column\"\r\n\t\t} as CSSProp,\r\n\t\temployeeBlock: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"stretch\"\r\n\t\t} as CSSProp,\r\n\t\temployeeInfo: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tflexGrow: 1,\r\n\t\t\tmarginLeft: theme.sizing.sizes.sm\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { OutletFullData } from \"quiz/services/models\";\r\nimport { OutletView, OutletViewProps } from \"quiz/components/outletView/OutletView\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getOutletItemStyles } from \"./outletItemStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { f7 } from \"framework7-react\";\r\nimport { QuizDeleteSwipeout } from \"../swipeouts/QuizDeleteSwipeout\";\r\n\r\nexport interface OutletItemProps {\r\n\toutlet: OutletViewProps;\r\n\tstyle?: React.CSSProperties;\r\n\titemLink?: boolean;\r\n\tonClick?: (outlet: OutletFullData) => void;\r\n\tonDeleteSwipeout?: () => void;\r\n}\r\n\r\nexport const OutletItem: React.FunctionComponent<OutletItemProps> = React.memo(props => {\r\n\tconst { outlet, style, itemLink, onClick, onDeleteSwipeout } = props;\r\n\tconst styles = useStyles(getOutletItemStyles);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\tconst clickCb = React.useCallback((e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n\t\te.preventDefault();\r\n\t\tonClick && onClick(outlet);\r\n\t}, [onClick]);\r\n\r\n\tconst swipeoutDeleteCb = React.useCallback(() => {\r\n\t\tf7.swipeout.delete(\".swipeout-opened\", onDeleteSwipeout);\r\n\t}, [onDeleteSwipeout]);\r\n\r\n\treturn (\r\n\t\t<li\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundColor: outlet.flagQuestionnairesEmpty && theme.colors.primary.disabled,\r\n\t\t\t\t...style\r\n\t\t\t}}\r\n\t\t\tclassName={\"swipeout\"}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tclassName={`${css(styles.wrap)} ${itemLink !== false ? \"item-link\" : \"\"}` + \" swipeout-content\"}\r\n\t\t\t\tonClick={clickCb}\r\n\t\t\t>\r\n\t\t\t\t<div className={css(styles.itemContent)}>\r\n\t\t\t\t\t<div className={css(styles.divider)}>\r\n\t\t\t\t\t\t<OutletView {...outlet}></OutletView>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{onDeleteSwipeout && <QuizDeleteSwipeout onDelete={swipeoutDeleteCb} />}\r\n\t\t</li>\r\n\t);\r\n}); //toDO: flagQuestionnairesEmpty, rewrite with CustomListItem\r\nOutletItem.displayName = \"f7-list-item\";\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getOutletItemStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\titemContent: {\r\n\t\t\tpaddingLeft: theme.constants.gridPadding,\r\n\t\t\tpaddingRight: theme.constants.gridPadding,\r\n\t\t\tpaddingTop: scale(theme.sizing.sizes.lg, ScaleEnum.Half)\r\n\t\t} as CSSProp,\r\n\t\twrap: {\r\n\t\t\tbackgroundColor: theme.colors.primary.background\r\n\t\t},\r\n\t\tdivider: {\r\n\t\t\tpaddingBottom: theme.sizing.sizes.md\r\n\t\t}\r\n\t};\r\n};\r\n","import { Block } from \"quiz/components/block/Block\";\r\nimport { DatePickerButton } from \"quiz/components/datepicker/DatePicker\";\r\nimport { Toggle } from \"quiz/components/toggle/Toggle\";\r\nimport { OutletItem } from \"quiz/components/outletItem/OutletItem\";\r\nimport { usePosition } from \"hooks/usePosition\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { quizDataService, t } from \"../../QuizApp\";\r\nimport { QuizList } from \"../quizList/QuizList\";\r\nimport { T } from \"../text/T\";\r\nimport { getOutletRoutesStyles } from \"./outletRoutesStyles\";\r\nimport { OutletFullData, ID } from \"quiz/services/models\";\r\nimport { useAnimation } from \"hooks/useAnimation\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { OutletSkeleton } from \"../quizSkeleton/skeletons/OutletSkeleton\";\r\nimport { InlineGroup } from \"../quizPage/InlineGroup\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport { F7Toggle } from \"framework7-react\";\r\nimport { getAnimationKey } from \"utils/helpers\";\r\nimport { QuizFade } from \"../fade/QuizFade\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { Toast } from \"../interaction/toast/Toast\";\r\n\r\ninterface OutletRoutesProps {\r\n\tonOutletClick: (outlet: OutletFullData) => void;\r\n}\r\n\r\nexport const OutletRoutes: React.FC<OutletRoutesProps> = props => {\r\n\tconst [outlets, setOutlets] = React.useState<OutletFullData[]>();\r\n\tconst [date, setDate] = React.useState(new Date());\r\n\tconst [requestError, setRequestError] = React.useState();\r\n\tconst { latitude, longitude, error } = usePosition();\r\n\tconst [hideVisited, setHideVisited] = React.useState(true);\r\n\tconst styles = useStyles(getOutletRoutesStyles);\r\n\tconst animation = useAnimation();\r\n\tconst toggleRef = React.useRef<F7Toggle>();\r\n\tconst [todayRoute, setTodayRoute] = React.useState<ID[]>([]);\r\n\tconst mounted = React.useRef<boolean>(false);\r\n\r\n\tuseCancellablePromise(\r\n\t\ta => {\r\n\t\t\tsetOutlets(null);\r\n\t\t\tif (latitude && longitude) {\r\n\t\t\t\treturn quizDataService.getRouteOutlets(date, { latitude, longitude }, { signal: a });\r\n\t\t\t} else return new Promise(() => void 0);\r\n\t\t},\r\n\t\t{\r\n\t\t\tonSuccess: (data: OutletFullData[]) => {\r\n\t\t\t\tif (!mounted.current) {\r\n\t\t\t\t\tmounted.current = true;\r\n\t\t\t\t\tsetTodayRoute(data ? data.map(d => d.id) : []);\r\n\t\t\t\t}\r\n\t\t\t\tsetOutlets(data);\r\n\t\t\t},\r\n\t\t\tonError: err => setRequestError(err),\r\n\t\t\tdeps: [date, latitude, longitude, error]\r\n\t\t}\r\n\t);\r\n\r\n\tconst resultOutlets = outlets && (hideVisited ? outlets.filter(outlet => !outlet.flagVisited) : outlets);\r\n\tconst fadeAnimationKey = getAnimationKey(!resultOutlets, [requestError, error]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Block styles={styles.content} secondary>\r\n\t\t\t\t<div className={css(styles.contentDatePicker)}>\r\n\t\t\t\t\t<DatePickerButton onDateClick={d => setDate(d)} title={t(\"Today\")} enabled={mounted.current} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={css(styles.contentToggle)}>\r\n\t\t\t\t\t<InlineGroup styles={styles.toggle}>\r\n\t\t\t\t\t\t<span onClick={() => toggleRef.current?.f7Toggle?.toggle()}>\r\n\t\t\t\t\t\t\t<T size={TextSizeType.bodyMin} styles={styles.toggleText}>\r\n\t\t\t\t\t\t\t\tHide visited\r\n\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<Toggle\r\n\t\t\t\t\t\t\tref={toggleRef}\r\n\t\t\t\t\t\t\tonToggleChange={(checked: boolean) => setHideVisited(checked)}\r\n\t\t\t\t\t\t\tdefaultChecked={hideVisited}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InlineGroup>\r\n\t\t\t\t</div>\r\n\t\t\t</Block>\r\n\t\t\t<Divider />\r\n\t\t\t<QuizFade animationKey={fadeAnimationKey}>\r\n\t\t\t\t<QuizList\r\n\t\t\t\t\tisEmpty={resultOutlets?.length == 0}\r\n\t\t\t\t\tisLoading={!resultOutlets}\r\n\t\t\t\t\terrors={[requestError, error]}\r\n\t\t\t\t\tloading={() => <OutletSkeleton totalBlocks={3} />}\r\n\t\t\t\t\tnoHairlines\r\n\t\t\t\t>\r\n\t\t\t\t\t{resultOutlets &&\r\n\t\t\t\t\t\tresultOutlets.map((outlet: OutletFullData, idx) => (\r\n\t\t\t\t\t\t\t<OutletItem\r\n\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\toutlet={outlet}\r\n\t\t\t\t\t\t\t\tonClick={outlet => {\r\n\t\t\t\t\t\t\t\t\tif (!todayRoute.includes(outlet.id)) {\r\n\t\t\t\t\t\t\t\t\t\tToast.create({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"warn\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: t(\"The visit will not be counted as part of the route\"),\r\n\t\t\t\t\t\t\t\t\t\t\tcloseTimeout: 3000\r\n\t\t\t\t\t\t\t\t\t\t}).open();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tprops.onOutletClick(outlet);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={animation.animationDelay(idx)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</QuizList>\r\n\t\t\t</QuizFade>\r\n\t\t</div>\r\n\t);\r\n};\r\nOutletRoutes.displayName = \"OutletRoutes\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getOutletRoutesStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tcontent: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tpaddingTop: scale(theme.sizing.sizes.lg, ScaleEnum.Half),\r\n\t\t\tpaddingBottom: scale(theme.sizing.sizes.lg, ScaleEnum.Half)\r\n\t\t} as CSSProp,\r\n\t\thideVisited: {\r\n\t\t\tmarginRight: theme.sizing.sizes.md\r\n\t\t},\r\n\t\tcontentDatePicker: {\r\n\t\t\twidth: \"40%\"\r\n\t\t} as CSSProp,\r\n\t\tcontentToggle: {\r\n\t\t\twidth: \"60%\"\r\n\t\t} as CSSProp,\r\n\t\ttoggle: {\r\n\t\t\tjustifyContent: \"flex-end\"\r\n\t\t} as CSSProp,\r\n\t\ttoggleText: {\r\n\t\t\tmarginRight: theme.sizing.sizes.sm\r\n\t\t}\r\n\t};\r\n};\r\n","import { IconProp } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { OutletFullData } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { formatDateTime, partOFTime, formatDistance, getOutletChainName } from \"utils/helpers\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getOutletViewStyles } from \"./outletViewStyles\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { Row } from \"../row/Row\";\r\nimport { Fragment } from \"react\";\r\nimport { IconWrap } from \"../iconWrap/IconWrap\";\r\nimport { Avatar } from \"../user/Avatar\";\r\n\r\nexport interface OutletViewProps extends OutletFullData {\r\n\ttime?: Date;\r\n\tquestionnaireName?: string;\r\n\ticonView?: React.ReactNode;\r\n}\r\n\r\nexport const OutletView: React.FC<OutletViewProps> = React.memo(props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst styles = useStyles(getOutletViewStyles);\r\n\tconst {\r\n\t\ticonName,\r\n\t\tname: title,\r\n\t\tdistance,\r\n\t\taddress,\r\n\t\tlastVisit,\r\n\t\ttime,\r\n\t\tquestionnaireName,\r\n\t\toutletChain,\r\n\t\tformat,\r\n\t\ticonView\r\n\t} = props;\r\n\r\n\tconst lastVisitorName = lastVisit?.employee?.name;\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t<Row styles={[styles.titleRow, styles.information]}>\r\n\t\t\t\t<div className={css(styles.iconAndTitle, styles.outletTitle, styles.information)}>\r\n\t\t\t\t\t{iconName && <IconWrap icon={[\"far\", iconName] as IconProp} alignment=\"center-left\" />}\r\n\t\t\t\t\t<Text size={TextSizeType.body} styles={styles.title}>\r\n\t\t\t\t\t\t{outletChain ? getOutletChainName(outletChain) : title}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{distance && !time && (\r\n\t\t\t\t\t\t<div className={css(styles.distance)}>\r\n\t\t\t\t\t\t\t<T size={TextSizeType.bodyMin} styles={styles.distanceContent}>\r\n\t\t\t\t\t\t\t\t{Object.values(formatDistance(distance as string)).reduce((prev, current) => {\r\n\t\t\t\t\t\t\t\t\treturn `${prev} ${t(current)}`;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{time && <T size={TextSizeType.bodyMin}>{partOFTime(time)}</T>}\r\n\t\t\t\t</Fragment>\r\n\t\t\t</Row>\r\n\t\t\t<Row styles={styles.titleRow}>\r\n\t\t\t\t<div className={css(styles.information)}>\r\n\t\t\t\t\t{format && (\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<T muted size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t{`${format}`.concat(outletChain && outletChain.type ? ` / ${outletChain.type}` : \"\")}\r\n\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{address && (\r\n\t\t\t\t\t\t<div className={css(styles.address)}>\r\n\t\t\t\t\t\t\t<T muted={true} size={TextSizeType.caption} styles={styles.captionText}>\r\n\t\t\t\t\t\t\t\t{address}\r\n\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{iconView || <IconWrap icon={[\"far\", \"angle-right\"] as IconProp} alignment=\"center-right\" />}\r\n\t\t\t</Row>\r\n\t\t\t{!questionnaireName && (\r\n\t\t\t\t<Row styles={[styles.titleRow, styles.lastRow]}>\r\n\t\t\t\t\t<div className={css(styles.iconAndTitle, styles.titleRow, styles.bottowRow)}>\r\n\t\t\t\t\t\t<div className={css(styles.iconAndTitle)}>\r\n\t\t\t\t\t\t\t<IconWrap\r\n\t\t\t\t\t\t\t\ticon={[\"far\", \"history\"] as IconProp}\r\n\t\t\t\t\t\t\t\talignment=\"center-left\"\r\n\t\t\t\t\t\t\t\ticonColor={theme.colors.secondary.border}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{lastVisit?.dateEnd ? (\r\n\t\t\t\t\t\t\t\t<T size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\t{formatDateTime(lastVisit.dateEnd, null, {\r\n\t\t\t\t\t\t\t\t\t\thour: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\tminute: \"numeric\"\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<T size={TextSizeType.caption}>{\"No visits\"}</T>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{lastVisitorName && <Avatar text={lastVisitorName} type=\"badge\" />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Row>\r\n\t\t\t)}\r\n\t\t\t{questionnaireName != null && (\r\n\t\t\t\t<div className={css(styles.iconAndTitle, styles.lastRow)}>\r\n\t\t\t\t\t<IconWrap\r\n\t\t\t\t\t\ticon={[\"far\", \"file-chart-line\"] as IconProp}\r\n\t\t\t\t\t\talignment=\"center-left\"\r\n\t\t\t\t\t\ticonColor={theme.colors.secondary.border}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Text size={TextSizeType.caption}>{questionnaireName}</Text>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nOutletView.displayName = \"OutletView\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getOutletViewStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\ttitleRow: {\r\n\t\t\tjustifyContent: \"space-between\"\r\n\t\t} as CSSProp,\r\n\t\tbottowRow: {\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\ticonAndTitle: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tcaptionText: {\r\n\t\t\tlineHeight: theme.sizing.lineHeights.caption\r\n\t\t},\r\n\t\tdistance: {\r\n\t\t\tdisplay: \"flex\"\r\n\t\t} as CSSProp,\r\n\t\tdistanceContent: {\r\n\t\t\twidth: \"max-content\"\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\ttextOverflow: \"ellipsis\",\r\n\t\t\tpaddingLeft: theme.sizing.sizes.xs\r\n\t\t} as CSSProp,\r\n\t\toutletTitle: {\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\tflexWrap: \"nowrap\",\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\tpaddingRight: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\tinformation: {\r\n\t\t\tlineHeight: scale(theme.sizing.sizes.lg, ScaleEnum.Half)\r\n\t\t} as CSSProp,\r\n\t\tlastRow: {\r\n\t\t\tmarginBottom: 0\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\tpaddingRight: theme.sizing.sizes.sm\r\n\t\t}\r\n\t};\r\n};\r\n","import { ListItem } from \"quiz/components/listView/ListView\";\r\nimport { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { quizDataService, nav } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { QuizList } from \"../quizList/QuizList\";\r\nimport { T } from \"../text/T\";\r\nimport { formatDateTime } from \"utils/helpers\";\r\nimport { useAnimation } from \"hooks/useAnimation\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\ntype QstListProps = {\r\n\tid: MDTRecordId;\r\n};\r\n\r\nexport type TOutletVisits = {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n\tdateEnd: Date;\r\n};\r\n\r\nconst loadMoreItems = 10;\r\n\r\nexport const OutletVisits: React.FC<QstListProps> = props => {\r\n\tlet [state, setState] = React.useState<{ visits: TOutletVisits[]; hasMore: boolean }>({\r\n\t\tvisits: [],\r\n\t\thasMore: false\r\n\t});\r\n\tlet [requestError, setRequestError] = React.useState();\r\n\tlet [skip, setSkip] = React.useState(0);\r\n\r\n\tconst animation = useAnimation();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tlet active = true;\r\n\t\tconst abortCtrl = new AbortController();\r\n\r\n\t\tquizDataService.getOutletVisits(props.id, skip, loadMoreItems + 1, { signal: abortCtrl.signal }).then(\r\n\t\t\tq => {\r\n\t\t\t\tactive &&\r\n\t\t\t\t\tsetState({\r\n\t\t\t\t\t\tvisits: [...state.visits, ...q.slice(0, loadMoreItems)],\r\n\t\t\t\t\t\thasMore: q.length > loadMoreItems\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\terr => active && setRequestError(err.message || err.toString())\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\tactive = false;\r\n\t\t\tabortCtrl.abort();\r\n\t\t};\r\n\t}, [skip]); //toDO Jackie Chan click (быстрые клики обновляют skip)\r\n\r\n\tconst animationClassName = css(animation.className);\r\n\t// todo remove\r\n\treturn (\r\n\t\t<QuizList isLoading={!state.visits} isEmpty={state.visits && state.visits.length === 0} errors={[requestError]}>\r\n\t\t\t{state.visits &&\r\n\t\t\t\tstate.visits.map((v, idx) => (\r\n\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\tlink=\"#\"\r\n\t\t\t\t\t\tkey={v.id}\r\n\t\t\t\t\t\tonClick={() => nav.toVisit(v.id)}\r\n\t\t\t\t\t\tclassName={animationClassName}\r\n\t\t\t\t\t\tstyle={animation.animationDelay(idx)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div slot=\"title\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<T>{formatDateTime(v.dateEnd, null, { hour: \"numeric\", minute: \"numeric\" })}</T>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{v.name && (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<T>{v.name}</T>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div slot=\"after\">\r\n\t\t\t\t\t\t\t<T muted>Report</T>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t))}\r\n\t\t\t{state.hasMore && (\r\n\t\t\t\t<ListItem noChevron link=\"#\" onClick={() => setSkip(skip + loadMoreItems)} key=\"load_more\">\r\n\t\t\t\t\t<T>Load more</T>\r\n\t\t\t\t</ListItem>\r\n\t\t\t)}\r\n\t\t</QuizList>\r\n\t);\r\n};\r\nOutletVisits.displayName = \"QstList\";\r\n","import { Page } from \"framework7-react\";\r\n\r\nexport { Page };\r\n","import { f7 } from \"framework7-react\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport * as React from \"react\";\r\nimport { QuizError } from \"../errors/QuizError\";\r\n\r\ninterface PageWrapProps<T = any> {\r\n\tisState: boolean;\r\n\tloading?: () => React.ReactElement;\r\n\tfetchData: (a: AbortSignal) => Promise<T>;\r\n\tonSuccess: (x: T) => void;\r\n\tonError?: (err?: any) => void;\r\n\terrorBlock?: (err?: Error) => React.ReactElement;\r\n\tdeps?: any[];\r\n}\r\n\r\nexport const PageWrap: React.FC<PageWrapProps> = props => {\r\n\tconst [error, setError] = React.useState();\r\n\tconst [isLoading, setLoading] = React.useState<boolean>();\r\n\r\n\t// const show = React.useCallback(() => (props.loading ? setLoading(true) : f7.preloader.show(\"main\")), []);\r\n\tconst show = React.useCallback(() => (props.loading ? setLoading(true) : <div></div>), []); //todo ?\r\n\tconst hide = React.useCallback(() => (props.loading ? setLoading(false) : f7.preloader.hide()), []);\r\n\r\n\tuseCancellablePromise(\r\n\t\ta => {\r\n\t\t\tshow();\r\n\t\t\treturn props.fetchData(a);\r\n\t\t},\r\n\t\t{\r\n\t\t\tonSuccess: x => {\r\n\t\t\t\thide();\r\n\t\t\t\tprops.onSuccess(x);\r\n\t\t\t},\r\n\t\t\tonError: err => {\r\n\t\t\t\thide();\r\n\t\t\t\tsetError(err);\r\n\t\t\t\tprops.onError && props.onError(err);\r\n\t\t\t},\r\n\t\t\tdeps: props.deps\r\n\t\t}\r\n\t);\r\n\r\n\tconst errorBlock = () => {\r\n\t\tif (props.errorBlock != null) {\r\n\t\t\treturn props.errorBlock(error);\r\n\t\t}\r\n\t\treturn <QuizError error={error} />;\r\n\t};\r\n\r\n\treturn <>{isLoading ? props.loading() : error ? errorBlock() : props.isState && props.children}</>;\r\n};\r\nPageWrap.displayName = \"PageWrap\";\r\n","import { PhotoBrowser as F7PB, F7PhotoBrowser } from \"framework7-react\";\r\nimport * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { preparePhotoBrowserStyles } from \"./photoBrowserStyles\";\r\nimport { passRef } from \"utils/reactUtils\";\r\nimport { t, quizExtensionService } from \"quiz/QuizApp\";\r\nimport { PhotoBrowserService } from \"./PhotoBrowserService\";\r\n\r\nexport type PhotoBrowserActions = F7PhotoBrowser;\r\n\r\nexport interface PhotoBrowserProps extends F7PB.Props {}\r\n\r\nconst swiperSpaceBetweenSlidesPx = 100;\r\nconst swiperSlideSpeedMs = 350;\r\n\r\nconst swiper = {\r\n\tpagination: {\r\n\t\tel: \".swiper-pagination-pb\",\r\n\t\ttype: \"bullets\"\r\n\t},\r\n\tspaceBetween: swiperSpaceBetweenSlidesPx,\r\n\tspeed: swiperSlideSpeedMs,\r\n\tpassiveListeners: false\r\n};\r\n\r\nconst toolbarRender = () =>\r\n\t`\r\n<div class=\"swiper-container-horizontal toolbar toolbar-bottom\"\">\r\n\t<div class=\"swiper-pagination-pb swiper-pagination swiper-pagination-bullets\"></div>\r\n</div>`.trim();\r\n\r\nexport const PhotoBrowser = React.forwardRef<F7PhotoBrowser, PhotoBrowserProps>(function PhotoBrowser(\r\n\tprops,\r\n\tref: React.Ref<F7PhotoBrowser>\r\n) {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst pbRef = React.useRef<F7PhotoBrowser>();\r\n\tconst photoBrowserService = React.useMemo(() => new PhotoBrowserService(), []);\r\n\r\n\tReact.useEffect(\r\n\t\t() => () => {\r\n\t\t\tphotoBrowserService.abortFetchs();\r\n\t\t\tphotoBrowserService.revokeBlobUrls();\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<F7PB\r\n\t\t\tref={pb => {\r\n\t\t\t\tpbRef.current = pb;\r\n\t\t\t\tpassRef(pb, ref);\r\n\t\t\t}}\r\n\t\t\texposition\r\n\t\t\texpositionHideCaptions={false}\r\n\t\t\ttheme=\"dark\"\r\n\t\t\tswiper={{\r\n\t\t\t\t...swiper,\r\n\t\t\t\tlazy: quizExtensionService.platform !== \"ios\",\r\n\t\t\t\ton: {\r\n\t\t\t\t\tslideNextTransitionEnd: () => photoBrowserService.handleSwipe(pbRef.current.f7PhotoBrowser.$el[0]),\r\n\t\t\t\t\tslidePrevTransitionEnd: () => photoBrowserService.handleSwipe(pbRef.current.f7PhotoBrowser.$el[0]),\r\n\t\t\t\t\tslideResetTransitionEnd: () => photoBrowserService.handleSwipe(pbRef.current.f7PhotoBrowser.$el[0])\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\trenderToolbar={toolbarRender}\r\n\t\t\ttype=\"page\"\r\n\t\t\tnavbarOfText={t(\"of\")}\r\n\t\t\t{...props}\r\n\t\t\tonPhotoBrowserOpen={() => {\r\n\t\t\t\tphotoBrowserService.handleOpen(pbRef.current.f7PhotoBrowser.$el[0]);\r\n\t\t\t\tpreparePhotoBrowserStyles(theme, pbRef.current.f7PhotoBrowser.$el[0]);\r\n\t\t\t\tquizExtensionService.statusBar.setDarkStyle();\r\n\t\t\t\tquizExtensionService.statusBar.setFullScreen();\r\n\t\t\t}}\r\n\t\t\tonPhotoBrowserClose={() => {\r\n\t\t\t\tquizExtensionService.statusBar.setLightStyle();\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n});\r\n","import { apiClient, quizExtensionService } from \"quiz/QuizApp\";\r\nimport { getFileUrlForRequest } from \"utils/helpers\";\r\n\r\nconst spinner = require(\"./spinner.svg\");\r\n\r\nexport function requiresXHRImgLoad(imgUrl: string) {\r\n\tconst isMdtFile = imgUrl.includes(\"file/image\");\r\n\tconst requiresXHRLoad = isMdtFile && quizExtensionService.platform == \"ios\";\r\n\r\n\treturn requiresXHRLoad;\r\n}\r\n\r\nexport class PhotoBrowserService {\r\n\tprivate pbEl: Element;\r\n\tprivate handledUrls: { [url: string]: string } = {};\r\n\tprivate abortCtrls: AbortController[] = [];\r\n\tprivate blobUrls: string[] = [];\r\n\r\n\tasync loadUrl(img: HTMLImageElement) {\r\n\t\tconst src = img.dataset?.src || img.src;\r\n\t\tif (src.includes(\"blob:\") || !requiresXHRImgLoad(src)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\timg.src = spinner;\r\n\r\n\t\tif (Object.keys(this.handledUrls).findIndex(key => key == src) > -1) {\r\n\t\t\tconst blobUrl = this.handledUrls[src];\r\n\t\t\timg.src = blobUrl;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst abortCtrl = new AbortController();\r\n\t\tconst signal = abortCtrl.signal;\r\n\t\tthis.abortCtrls.push(abortCtrl);\r\n\r\n\t\tconst blob = await apiClient.fetchImage(getFileUrlForRequest(src), { signal });\r\n\t\tconst blobUrl = URL.createObjectURL(blob);\r\n\t\tthis.handledUrls[src] = blobUrl;\r\n\r\n\t\timg.src = blobUrl;\r\n\t}\r\n\r\n\tprocessImagesUrls() {\r\n\t\tif (quizExtensionService.platform !== \"ios\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst imgs = this.pbEl.querySelectorAll(\"img\");\r\n\t\timgs.forEach(img => this.loadUrl(img));\r\n\t}\r\n\r\n\thandleOpen(el: Element) {\r\n\t\tthis.pbEl = el;\r\n\t\tthis.processImagesUrls();\r\n\t}\r\n\r\n\thandleSwipe(pbEl: Element) {\r\n\t\tif (!this.pbEl) {\r\n\t\t\tthis.pbEl = pbEl;\r\n\t\t}\r\n\t\tthis.processImagesUrls();\r\n\t}\r\n\r\n\tabortFetchs() {\r\n\t\tthis.abortCtrls.forEach(ctrl => ctrl.abort());\r\n\t}\r\n\r\n\trevokeBlobUrls() {\r\n\t\tthis.blobUrls.forEach(url => URL.revokeObjectURL(url));\r\n\t}\r\n}\r\n","import { Theme } from \"theme/theme\";\r\nimport { createThemeApplier } from \"wraps/component\";\r\n\r\nconst applyTheme = createThemeApplier((theme: Theme) => {\r\n\treturn {\r\n\t\t\"f7-photobrowser-bg-color\": \"#fff\",\r\n\t\t\"f7-photobrowser-bars-bg-image\": \"none\",\r\n\t\t\"f7-photobrowser-bars-bg-color\": \"rgba(var(--f7-bars-bg-color-rgb), 0.95)\",\r\n\t\t\"f7-photobrowser-bars-text-color\": \"var(--f7-bars-text-color)\",\r\n\t\t\"f7-photobrowser-bars-link-color\": \"var(--f7-bars-link-color)\",\r\n\t\t\"f7-photobrowser-caption-font-size\": theme.sizing.fontSizes.body as string,\r\n\t\t\"f7-photobrowser-caption-light-text-color\": \"#000\",\r\n\t\t\"f7-photobrowser-caption-light-bg-color\": \"rgba(255, 255, 255, 0.8)\",\r\n\t\t\"f7-photobrowser-caption-dark-text-color\": \"#fff\",\r\n\t\t\"f7-photobrowser-caption-dark-bg-color\": \"transparent\",\r\n\t\t\"f7-photobrowser-exposed-bg-color\": \"#000\",\r\n\t\t\"f7-photobrowser-dark-bg-color\": \"#000\",\r\n\t\t\"f7-photobrowser-dark-bars-bg-color\": \"unset\",\r\n\t\t\"f7-photobrowser-dark-bars-text-color\": \"#fff\",\r\n\t\t\"f7-photobrowser-dark-bars-link-color\": \"#fff\",\r\n\t\t\"f7-navbar-title-font-size\": theme.sizing.fontSizes.bodyMax,\r\n\t\t\"f7-navbar-title-font-weight\": theme.sizing.fontWeights.medium\r\n\t};\r\n}, false);\r\n\r\nconst getGradient = (deg: number) => `linear-gradient(${deg}deg, rgba(0, 0, 0, 0.48) 0%, rgba(255, 255, 255, 0) 100%)`;\r\nconst tweakClass = \"pb-tweaks\";\r\nconst tweakStyles = (theme: Theme) =>\r\n\t`\r\n\t.${tweakClass} .swiper-pagination {\r\n\t\tline-height: ${theme.sizing.sizes.sm};\r\n\t\tbottom: ${theme.sizing.sizes.lg};\r\n\t}\r\n\t.${tweakClass} .photo-browser-caption {\r\n\t\tpadding: 0;\r\n\t}\r\n\t.${tweakClass} .swiper-pagination-bullet {\r\n\t\tbackground: #fff;\r\n\t\topacity: 0.26;\r\n\t}\r\n\t.${tweakClass} .swiper-pagination-bullet-active {\r\n\t\tbackground: ${theme.colors.primary.main};\r\n\t\topacity: 1;\r\n\t}\r\n\t.${tweakClass} .navbar .title {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tposition: absolute;\r\n\t\tz-index: 1;\r\n\t\tmargin-left: 0;\r\n\t\tleft: 0 !important;\r\n\t\tcolor: ${theme.colors.base.texts.contrast}\r\n\t}\r\n\t.${tweakClass} .navbar-bg {\r\n\t\tbackground: ${getGradient(180)}\r\n\t}\r\n\t.${tweakClass} .toolbar {\r\n\t\tbackground: ${getGradient(360)}\r\n\t}\r\n`.trim();\r\n\r\nexport const preparePhotoBrowserStyles = (theme: Theme, el) => {\r\n\tconst styleTag = document.createElement(\"style\");\r\n\tstyleTag.type = \"text/css\";\r\n\tstyleTag.appendChild(document.createTextNode(tweakStyles(theme)));\r\n\r\n\tel.appendChild(styleTag);\r\n\tel.classList.add(tweakClass);\r\n\tapplyTheme(theme, el);\r\n};\r\n","module.exports = __webpack_public_path__ + \"fonts/spinner.svg\";","import * as React from \"react\";\r\nimport { ButtonSize, ButtonType } from \"quiz/components/button/Button\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { t, quizAuthService, apiClient, quizUserService, nav } from \"quiz/QuizApp\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getPrivacyPolicyStyles } from \"./privacyPolicyStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport { QuizError } from \"../errors/QuizError\";\r\nimport { QuizPreloader } from \"../quizPreloader/QuizPreloader\";\r\nimport { ServerInteractionButton } from \"../button/ServerInteractionButton\";\r\n\r\ntype PrivacyPolicyProps = {\r\n\tisButtonShow?: boolean;\r\n};\r\n\r\nexport const PrivacyPolicy: React.FC<PrivacyPolicyProps> = React.memo(props => {\r\n\tconst styles = useStyles(getPrivacyPolicyStyles);\r\n\tconst ref = React.useRef<HTMLDivElement>();\r\n\tconst [error, setError] = React.useState();\r\n\tconst [policyLoaded, setPolicyLoaded] = React.useState<boolean>(false);\r\n\r\n\tuseCancellablePromise(signal => apiClient.fetchHTML(\"/quiz/documents/privacyPolicy\", { signal }), {\r\n\t\tonSuccess: html => {\r\n\t\t\tsetPolicyLoaded(true);\r\n\t\t\tif (ref.current) {\r\n\t\t\t\tconst target = window.cordova ? \"system\" : \"blank\";\r\n\t\t\t\t// eslint-disable-next-line no-useless-escape\r\n\t\t\t\tref.current.innerHTML = html?.replace(/(target=\\\"\\_blank\\\")/g, `target=\"_${target}\" class=\"link external\"`);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonError: error => setError(error)\r\n\t});\r\n\r\n\tconst ulStyles = `\r\n\t\t.${css(styles.textWrapper)} ul {\r\n\t\t\tlist-style: none;\r\n\t\t\tpadding: 0;\r\n\t\t\tmargin: 0;\r\n\t\t}\r\n\t`;\r\n\r\n\treturn error ? (\r\n\t\t<div className={css(styles.errorWrapper)}>\r\n\t\t\t<QuizError error={error} fullHeight={false} fullScreen />\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t{!policyLoaded ? (\r\n\t\t\t\t<div className={css(styles.preloaderWrapper)}>\r\n\t\t\t\t\t<QuizPreloader preloaderAreaWidth={100} />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className={css(styles.content)}>\r\n\t\t\t\t\t<style>{ulStyles}</style>\r\n\t\t\t\t\t<div className={css(styles.textWrapper)} ref={ref}></div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{props.isButtonShow != null && (\r\n\t\t\t\t<div className={css(styles.buttonsWrapper)}>\r\n\t\t\t\t\t<div className={css(styles.button)}>\r\n\t\t\t\t\t\t<ServerInteractionButton\r\n\t\t\t\t\t\t\ttype={ButtonType.normal}\r\n\t\t\t\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\t\ttitle={t(\"Accept\")}\r\n\t\t\t\t\t\t\ticon={[\"far\", \"check\"]}\r\n\t\t\t\t\t\t\tcommand={async () => {\r\n\t\t\t\t\t\t\t\tawait quizUserService.savePrivacyPolicyAcceptToServer();\r\n\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={css(styles.button)}>\r\n\t\t\t\t\t\t<ServerInteractionButton\r\n\t\t\t\t\t\t\ttype={ButtonType.transparent}\r\n\t\t\t\t\t\t\tcolorType={ColorTypes.info}\r\n\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\t\ttitle={t(\"Reject\")}\r\n\t\t\t\t\t\t\ticon={[\"far\", \"ban\"]}\r\n\t\t\t\t\t\t\tcommand={async () => {\r\n\t\t\t\t\t\t\t\tawait quizAuthService.signOut();\r\n\t\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nPrivacyPolicy.displayName = \"PrivacyPolicy\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getPrivacyPolicyStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\theight: \"calc(100% - var(--instanceBarIndent))\"\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 2,\r\n\t\t\toverflow: \"scroll\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tpadding: `${theme.sizing.sizes.lg} 0`\r\n\t\t} as CSSProp,\r\n\t\tpolicyBlock: {\r\n\t\t\toverflow: \"auto\",\r\n\t\t\tboxSizing: \"border-box\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\tpolicyText: {\r\n\t\t\tboxSizing: \"border-box\",\r\n\t\t\tpaddingTop: theme.sizing.sizes.md,\r\n\t\t\tpaddingBottom: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\tbuttonsWrapper: {\r\n\t\t\tpadding: `${theme.sizing.sizes.md} ${theme.constants.gridPadding}`,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tbackgroundColor: theme.colors.base.main,\r\n\t\t\tboxShadow: theme.shadows.up.md,\r\n\t\t\tzIndex: theme.zIndex.appBar\r\n\t\t} as CSSProp,\r\n\t\tbutton: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\t\":not(:last-child)\": {\r\n\t\t\t\tmarginRight: `calc(${theme.sizing.sizes.md} - ${theme.sizing.sizes.xxs})` //14px\r\n\t\t\t}\r\n\t\t} as CSSProp,\r\n\t\ttextWrapper: {\r\n\t\t\tboxSizing: \"border-box\",\r\n\t\t\tbackgroundColor: theme.colors.base.main,\r\n\t\t\tborder: \"none\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\toverflow: \"scroll\",\r\n\t\t\tfontSize: \"12px\",\r\n\t\t\tpadding: `0 ${theme.constants.gridPadding}`\r\n\t\t} as CSSProp,\r\n\t\terrorWrapper: {\r\n\t\t\theight: \"calc(100% - var(--instanceBarIndent))\"\r\n\t\t} as CSSProp,\r\n\t\tpreloaderWrapper: {\r\n\t\t\theight: \"calc(100% - var(--instanceBarIndent))\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { ProgressBlock, ProgressBlockState } from \"./ProgressBlock\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getProgressBarStyles } from \"./progressBarStyles\";\r\nimport { useNavigatorOnLine } from \"hooks/useNavigatorOnline\";\r\n\r\ntype ProgressBarProps = {\r\n\titems: ProgressBlockState[];\r\n};\r\n\r\nexport const ProgressBar: React.FC<ProgressBarProps> = ({ items }) => {\r\n\tconst online = useNavigatorOnLine();\r\n\tconst styles = useStyles(getProgressBarStyles, online);\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t<div className={css(styles.blockWrap)}>\r\n\t\t\t\t{items.map((i, idx) => (\r\n\t\t\t\t\t<ProgressBlock status={i} key={idx} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nProgressBar.displayName = \"ProgressBar\";\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getProgressBlockStyles } from \"./progressBlockStyles\";\r\n\r\nexport enum ProgressBlockState {\r\n\tSuccess = \"success\",\r\n\tInvalid = \"invalid\",\r\n\tUnchanged = \"unchanged\",\r\n\tViewed = \"viewed\"\r\n}\r\n\r\nexport type ProgressBlockProps = {\r\n\tstatus: ProgressBlockState;\r\n};\r\n\r\nexport const ProgressBlock: React.FC<ProgressBlockProps> = React.memo(props => {\r\n\tconst styles = useStyles(getProgressBlockStyles, props.status);\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t{props.status == ProgressBlockState.Viewed ? <div className={css(styles.arrow)}></div> : null}\r\n\t\t</div>\r\n\t);\r\n});\r\nProgressBlock.displayName = \"ProgressBlock\";\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getProgressBarStyles = (theme: Theme, online: boolean) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tbackground: theme.colors.primary.background,\r\n\t\t\tmarginTop: scale(theme.sizing.sizes.lg, ScaleEnum.Double),\r\n\t\t\tbottom: online ? theme.sizing.sizes.xs : \"0\",\r\n\t\t\tleft: theme.sizing.sizes.xs,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tposition: \"absolute\"\r\n\t\t} as CSSProp,\r\n\t\tblockWrap: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tposition: \"relative\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tmarginRight: theme.sizing.sizes.xs\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { ProgressBlockState } from \"./ProgressBlock\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getProgressBlockStyles = (theme: Theme, status: ProgressBlockState) => {\r\n\tconst colorMap = {\r\n\t\tsuccess: theme.colors.success.main,\r\n\t\tinvalid: theme.colors.danger.main,\r\n\t\tunchanged: theme.colors.base.border,\r\n\t\tviewed: theme.colors.primary.main\r\n\t};\r\n\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\theight: theme.sizing.sizes.xs,\r\n\t\t\tborderRadius: scale(theme.sizing.sizes.xs, ScaleEnum.Half),\r\n\t\t\tflexGrow: 1,\r\n\t\t\tmarginRight: theme.sizing.sizes.xs,\r\n\t\t\tbackgroundColor: colorMap[status],\r\n\t\t\tposition: \"relative\"\r\n\t\t} as CSSProp,\r\n\t\tarrow: {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\ttop: \"-8px\",\r\n\t\t\tleft: \"50%\",\r\n\t\t\ttransform: \"translateX(-50%)\",\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderLeft: \"3px solid transparent\",\r\n\t\t\tborderRight: \"3px solid transparent\",\r\n\t\t\tborderTop: `4px solid ${theme.colors.primary.main}`\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { BlockTitle } from \"quiz/components/block/Block\";\r\nimport { useAnimation } from \"hooks/useAnimation\";\r\nimport { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { quizDataService, t, nav } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { QuizList } from \"../quizList/QuizList\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport { QstListItemView } from \"../qstListItem/QstListItemView\";\r\nimport { QstItemSkeleton } from \"../quizSkeleton/skeletons/QstItemSkeleton\";\r\nimport { QuizListItem } from \"../quizListItem/QuizListItem\";\r\nimport { getAnimationKey } from \"utils/helpers\";\r\nimport { QuizFade } from \"../fade/QuizFade\";\r\n\r\ntype QstListProps = {\r\n\tid: MDTRecordId;\r\n\tcontext: any;\r\n};\r\n\r\nexport type TQstList = {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n\tdescription: string;\r\n\tflagDisable: boolean;\r\n\t//todo\r\n\tlastVisit?: string;\r\n};\r\n\r\nexport const QstList: React.FC<QstListProps> = props => {\r\n\tconst [qst, setQst] = React.useState<TQstList[]>();\r\n\tconst [requestError, setRequestError] = React.useState();\r\n\tconst animation = useAnimation();\r\n\r\n\tuseCancellablePromise(a => quizDataService.getOutletQuestionnaires(props.id, { signal: a }), {\r\n\t\tonSuccess: data => setQst(data),\r\n\t\tonError: err => setRequestError(err)\r\n\t});\r\n\r\n\tconst fadeAnimationKey = getAnimationKey(!qst, [requestError]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockTitle title={t(\"Questionnaires\")} counter={qst?.length} />\r\n\t\t\t<QuizFade animationKey={fadeAnimationKey}>\r\n\t\t\t\t<QuizList\r\n\t\t\t\t\tisLoading={!qst}\r\n\t\t\t\t\tisEmpty={qst && qst.length === 0}\r\n\t\t\t\t\temptyList={{ title: \"No questionnaires\" }}\r\n\t\t\t\t\terrors={[requestError]}\r\n\t\t\t\t\tloading={() => <QstItemSkeleton totalBlocks={10} />}\r\n\t\t\t\t>\r\n\t\t\t\t\t{qst &&\r\n\t\t\t\t\t\tqst.map((q, idx) => (\r\n\t\t\t\t\t\t\t<QuizListItem\r\n\t\t\t\t\t\t\t\tlink=\"#\"\r\n\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\tstyle={animation.animationDelay(idx)}\r\n\t\t\t\t\t\t\t\tonClick={() => nav.toQst(props.id, q.id, props.context)}\r\n\t\t\t\t\t\t\t\t{...(q.flagDisable ? { link: null, onClick: () => null } : {})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<QstListItemView\r\n\t\t\t\t\t\t\t\t\tname={q.name}\r\n\t\t\t\t\t\t\t\t\tdescription={q.description}\r\n\t\t\t\t\t\t\t\t\tflagDisable={q.flagDisable}\r\n\t\t\t\t\t\t\t\t\tlastVisit={q.lastVisit}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</QuizListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</QuizList>\r\n\t\t\t</QuizFade>\r\n\t\t</>\r\n\t);\r\n};\r\nQstList.displayName = \"QstList\";\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { getQstListItemViewStyles } from \"./qstListItemViewStyles\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\n\r\nexport type QstListItemViewProps = {\r\n\tname: string;\r\n\tdescription: string;\r\n\tflagDisable?: boolean;\r\n\tlastVisit?: string;\r\n};\r\n\r\nexport const QstListItemView: React.FC<QstListItemViewProps> = React.memo(\r\n\t({ name, description, flagDisable, lastVisit }) => {\r\n\t\tconst styles = useStyles(getQstListItemViewStyles);\r\n\t\tconst theme = React.useContext(ThemeContext);\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div slot=\"inner-start\" className={css(styles.listItem)}>\r\n\t\t\t\t\t<div className={css(styles.titleWrap)}>\r\n\t\t\t\t\t\t<Text muted={flagDisable} styles={styles.titleText}>\r\n\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{description && (\r\n\t\t\t\t\t\t<div className={css(styles.descriptionWrap)}>\r\n\t\t\t\t\t\t\t<Text muted size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t{description}\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className={css(styles.lastVisitWrap)}>\r\n\t\t\t\t\t\t<div className={css(styles.lastVisitIconWrap)}>\r\n\t\t\t\t\t\t\t<Icon color={theme.colors.base.texts.muted} icon={[\"far\", \"history\"]} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={css(styles.lastVisitTextWrap)}>\r\n\t\t\t\t\t\t\t<Text size={TextSizeType.caption}>{lastVisit || t(\"No visits\")}</Text>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{flagDisable && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Icon color={theme.colors.danger.main} icon={[\"far\", \"lock-alt\"]} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nQstListItemView.displayName = \"QstListItemView\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQstListItemViewStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tlistItem: {\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\ttitleWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexWrap: \"nowrap\",\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\toverflow: \"hidden\"\r\n\t\t} as CSSProp,\r\n\t\ttitleText: {\r\n\t\t\ttextOverflow: \"ellipsis\",\r\n\t\t\toverflow: \"hidden\"\r\n\t\t} as CSSProp,\r\n\t\tdescriptionWrap: {\r\n\t\t\tlineHeight: theme.sizing.lineHeights.caption,\r\n\t\t\tmargin: `${theme.sizing.sizes.xs} 0 ${theme.sizing.sizes.sm} 0`\r\n\t\t} as CSSProp,\r\n\t\tlastVisitWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\ttextAlign: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tlastVisitIconWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"flex-start\",\r\n\t\t\tmarginRight: theme.sizing.sizes.xs\r\n\t\t} as CSSProp,\r\n\t\tlastVisitTextWrap: {\r\n\t\t\tlineHeight: theme.sizing.lineHeights.heading\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Divider } from \"quiz/components/divider/Divider\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { QuestionBooleanControl } from \"quiz/components/question/controls/QuestionBooleanControl\";\r\nimport { QuestionOneOptionControl } from \"quiz/components/question/controls/QuestionOneOptionControl\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { VisitManager, ValidationError, ValidationErrorType } from \"quiz/pages/questionnaire/VisitManager\";\r\nimport { AnswerType, IQuestion, QuestionAttachPhoto, VisitAnswer, VisitAnswerItem } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { QuestionTextControl } from \"./controls/QuestionTextControl\";\r\nimport { QuestionGalleryControl } from \"./controls/QuestionGalleryControl\";\r\nimport { QuestionManyOptionControl } from \"./controls/QuestionManyOptionControl\";\r\nimport { QuestionQrCodeControl } from \"./controls/QuestionQrCodeControl\";\r\nimport { getQuestionStyles } from \"./questionStyles\";\r\nimport { IconProp } from \"quiz/components/icon/Icon\";\r\nimport { QuizListInputItem } from \"../quizListInputItem/QuizListInputItem\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { QuestionKpiControl } from \"./controls/kpi/QuestionKpiControl\";\r\nimport { AnswerSection, AnswerSectionData } from \"./common/answerSection/AnswerSection\";\r\nimport { QstContext } from \"./common/QstContext\";\r\n\r\nexport interface QuestionProps {\r\n\tquestion: IQuestion;\r\n\tvisitManager: VisitManager;\r\n\tanswer?: VisitAnswer;\r\n\ttoNextQuestion(): void;\r\n}\r\n\r\nexport interface QuestionControlProps extends QuestionProps {\r\n\tvalueItems?: VisitAnswerItem[];\r\n}\r\n\r\nconst requiredAnswer = (e: ValidationError) => e.type == ValidationErrorType.RequiredAnswer;\r\nconst requiredAttachPhoto = (e: ValidationError) => e.type == ValidationErrorType.RequiredPhoto;\r\nconst answerIsGroupInput = (question: IQuestion, answer: VisitAnswer) => {\r\n\treturn [AnswerType.Text, AnswerType.Number].includes(answer?.answerType) && question?.items?.length;\r\n};\r\n\r\nexport const Question: React.FunctionComponent<QuestionProps> = React.memo(props => {\r\n\tconst { question, visitManager, answer, toNextQuestion } = { ...props };\r\n\tconst setComment = React.useCallback(v => props.visitManager.setComment(question.id, v), [question.id]);\r\n\tconst styles = useStyles(getQuestionStyles);\r\n\tconst qstContext = React.useContext(QstContext);\r\n\r\n\tconst isGalleryActive = React.useMemo(() => {\r\n\t\treturn (\r\n\t\t\tquestion.questionAttachPhoto != QuestionAttachPhoto.None || question.answerType == AnswerType.AttachPhoto\r\n\t\t);\r\n\t}, [question.questionAttachPhoto, question.answerType]);\r\n\r\n\tconst isComment = question.flagComment;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{question.kpi?.length && <QuestionKpiControl question={question} />}\r\n\t\t\t<div className={css(styles.questionWrap)}>\r\n\t\t\t\t<QuestionControl\r\n\t\t\t\t\tquestion={question}\r\n\t\t\t\t\tvisitManager={visitManager}\r\n\t\t\t\t\tvalueItems={answer.items}\r\n\t\t\t\t\ttoNextQuestion={() => toNextQuestion()}\r\n\t\t\t\t\tanswer={answer}\r\n\t\t\t\t/>\r\n\t\t\t\t{isComment && (\r\n\t\t\t\t\t<Block secondary>\r\n\t\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder={\"Enter a comment\"}\r\n\t\t\t\t\t\t\tvalue={props.answer.comment}\r\n\t\t\t\t\t\t\tonChange={setComment}\r\n\t\t\t\t\t\t\ticon={[\"far\", \"comment-alt\"] as IconProp}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Block>\r\n\t\t\t\t)}\r\n\t\t\t\t{isGalleryActive && (\r\n\t\t\t\t\t<AnswerSection\r\n\t\t\t\t\t\tdescription={\"Need to add at least one photo\"}\r\n\t\t\t\t\t\tisValid={!qstContext.validationErrors?.filter(requiredAttachPhoto).length}\r\n\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\thideDescription={true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Block secondary>{isComment ? <Divider dash /> : null}</Block>\r\n\t\t\t\t\t\t<QuestionGalleryControl question={question} visitManager={visitManager} files={answer.files} />\r\n\t\t\t\t\t</AnswerSection>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n});\r\nQuestion.displayName = \"Question\";\r\n\r\ntype AnswerType2QuestionControl = {\r\n\t[key in AnswerType]?: [React.FC<QuestionControlProps>, AnswerSectionData];\r\n};\r\n\r\nconst MapAnswerType2QuestionControl: AnswerType2QuestionControl = {\r\n\t[AnswerType.Text]: [QuestionTextControl, [null, \"Need enter a text\"]],\r\n\t[AnswerType.Number]: [QuestionTextControl, [null, \"Need enter a numeric\"]],\r\n\t[AnswerType.Boolean]: [QuestionBooleanControl, [\"Select options\", \"Need to select one of the options\"]],\r\n\t[AnswerType.OneOption]: [QuestionOneOptionControl, [\"Select options\", \"Need to select one of the options\"]],\r\n\t[AnswerType.ManyOptions]: [QuestionManyOptionControl, [\"Check required items\", \" \"]],\r\n\t[AnswerType.ScanQrCode]: [QuestionQrCodeControl, [null, \"Need to scan QR-code\"]],\r\n\t[AnswerType.ScanQrCodeWithHideText]: [QuestionQrCodeControl, [null, \"Need to scan QR-code\"]],\r\n\t[AnswerType.AttachPhoto]: [null, null]\r\n};\r\n\r\nexport const QuestionControl: React.FunctionComponent<QuestionControlProps> = React.memo(props => {\r\n\tconst [Component, AnswerSectionProps] = MapAnswerType2QuestionControl[props.question.answerType];\r\n\tconst [header, desciption] = AnswerSectionProps || [null, null];\r\n\tconst controlProps: QuestionControlProps = { ...props };\r\n\r\n\tif (Component) {\r\n\t\tconst ctx = React.useContext(QstContext);\r\n\t\treturn (\r\n\t\t\t<AnswerSection\r\n\t\t\t\theader={header}\r\n\t\t\t\tdescription={answerIsGroupInput(controlProps.question, controlProps.answer) ? \" \" : desciption}\r\n\t\t\t\tisValid={!ctx.validationErrors?.filter(requiredAnswer).length}\r\n\t\t\t\trequired={controlProps.question.flagAnswerRequired}\r\n\t\t\t>\r\n\t\t\t\t<Component {...controlProps} />\r\n\t\t\t</AnswerSection>\r\n\t\t);\r\n\t}\r\n\r\n\treturn null;\r\n});\r\nQuestionControl.displayName = \"QuestionControl\";\r\n","import { VisitAnswer } from \"quiz/services/models\";\r\nimport { ValidationError } from \"quiz/pages/questionnaire/VisitManager\";\r\nimport React from \"react\";\r\n\r\nexport type QuestionnaireContext = {\r\n\tanswer: VisitAnswer;\r\n\tprevAnswer: VisitAnswer;\r\n\tprevVisitDate: Date;\r\n\tvalidationErrors?: ValidationError[];\r\n\tslideActive?: boolean;\r\n\tanswerIsValid?: boolean;\r\n\tattachPhotoIsValid?: boolean;\r\n\trequired?: boolean;\r\n};\r\n\r\nexport const QstContext = React.createContext<QuestionnaireContext>({\r\n\tanswer: null,\r\n\tprevAnswer: null,\r\n\tprevVisitDate: null,\r\n\tvalidationErrors: [],\r\n\tslideActive: false,\r\n\tanswerIsValid: false,\r\n\tattachPhotoIsValid: false,\r\n\trequired: false\r\n});\r\n","import React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getAnswerSectionStyles } from \"./answerSectionStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { T } from \"quiz/components/text/T\";\r\n\r\nexport type AnswerSectionData = [string, string];\r\n\r\nexport type AnswerSectionProps = {\r\n\tisValid: boolean;\r\n\trequired: boolean;\r\n\theader?: string;\r\n\tdescription?: string;\r\n\thideDescription?: boolean;\r\n};\r\n\r\nexport const AnswerSection: React.FC<AnswerSectionProps> = React.memo(props => {\r\n\tconst styles = useStyles(getAnswerSectionStyles);\r\n\tconst { isValid, required, header, description, hideDescription } = props;\r\n\tconst showDescriptionSection = !hideDescription || !isValid;\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t{header && (\r\n\t\t\t\t<div className={css(styles.header)}>\r\n\t\t\t\t\t<T styles={styles.headerText}>{header}</T>\r\n\t\t\t\t\t{required && <Icon icon={[\"fas\", \"asterisk\"]} styles={styles.asterisk} />}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{props.children}\r\n\t\t\t{description && showDescriptionSection && (\r\n\t\t\t\t<div className={css(styles.description)}>\r\n\t\t\t\t\t{!isValid && <T styles={styles.descriptionText}>{description}</T>}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nAnswerSection.displayName = \"AnswerSection\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getAnswerSectionStyles = (theme: Theme) => {\r\n\tconst common = { padding: `0 ${theme.constants.gridPadding}` };\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\"\r\n\t\t} as CSSProp,\r\n\t\theader: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.sm,\r\n\t\t\t...common\r\n\t\t} as CSSProp,\r\n\t\theaderText: {\r\n\t\t\tcolor: theme.colors.base.hover,\r\n\t\t\tlineHeight: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tdescription: {\r\n\t\t\theight: \"40px\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tdescriptionText: {\r\n\t\t\tfontSize: theme.sizing.fontSizes.caption,\r\n\t\t\tlineHeight: \"128%\",\r\n\t\t\tcolor: theme.colors.danger.main,\r\n\t\t\tpadding: `8px 20px 16px`\r\n\t\t} as CSSProp,\r\n\t\tasterisk: {\r\n\t\t\tcolor: theme.colors.danger.main,\r\n\t\t\tfontWeight: theme.sizing.fontWeights.bold,\r\n\t\t\tfontSize: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\tfoo: {\r\n\t\t\theight: \"16px\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import React from \"react\";\r\nimport { QstListItemProps, QuestionListItem } from \"quiz/components/questionListView/QuestionListItem\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getGroupedAnswerHeaderStyles } from \"./groupedAnswerHeaderStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\ntype GroupedAnswerHeaderProps = {\r\n\theader: string;\r\n\tcounter?: string;\r\n} & QstListItemProps;\r\n\r\nexport const GroupedAnswerHeader: React.FC<GroupedAnswerHeaderProps> = React.memo(props => {\r\n\tconst { header, counter, ...listItemProps } = props;\r\n\tconst styles = useStyles(getGroupedAnswerHeaderStyles);\r\n\r\n\treturn (\r\n\t\t<QuestionListItem {...listItemProps} groups>\r\n\t\t\t<div className={css(styles.groupWrap)}>\r\n\t\t\t\t<Text styles={styles.groupTitle} bold>\r\n\t\t\t\t\t{header}\r\n\t\t\t\t</Text>\r\n\t\t\t\t{counter && (\r\n\t\t\t\t\t<Text muted styles={styles.countInGroup}>\r\n\t\t\t\t\t\t{counter}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</QuestionListItem>\r\n\t);\r\n});\r\n\r\nGroupedAnswerHeader.displayName = \"GroupAnswerHeader\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getGroupedAnswerHeaderStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tgroupWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tgroupTitle: {\r\n\t\t\ttextTransform: \"uppercase\"\r\n\t\t} as CSSProp,\r\n\t\tcountInGroup: {\r\n\t\t\tcolor: theme.colors.base.hover\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { ActionsButton } from \"framework7-react\";\r\nimport React from \"react\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { IconProp, Icon } from \"quiz/components/icon/Icon\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getQuestionActionButtonStyles } from \"./questionActionButtonStyles\";\r\nimport { StyleDeclarationValue, css } from \"wraps/styleCreators\";\r\nimport { TextWithIcon } from \"../textWithIcon/TextWithIcon\";\r\n\r\nexport type QuestionActionButtonProps = {\r\n\ticon: IconProp;\r\n\ttext: string;\r\n\ttextStyles?: StyleDeclarationValue;\r\n\ticonStyles?: StyleDeclarationValue;\r\n\tonClick?: () => void;\r\n\ticonRight?: IconProp;\r\n\ticonRightStyles?: StyleDeclarationValue;\r\n\tonIconRightClick?: () => void;\r\n\tfullWidth?: boolean;\r\n};\r\n\r\nexport const QuestionActionButton: React.FC<QuestionActionButtonProps> = React.memo(props => {\r\n\tconst styles = useStyles(getQuestionActionButtonStyles, props);\r\n\r\n\treturn (\r\n\t\t<ActionsButton className={css(styles.wrap)} onClick={props.onClick}>\r\n\t\t\t<div className={css(styles.content)}>\r\n\t\t\t\t<TextWithIcon icon={props.icon} styles={props.iconStyles}>\r\n\t\t\t\t\t<T styles={[styles.text, props.textStyles]}>{props.text}</T>\r\n\t\t\t\t</TextWithIcon>\r\n\t\t\t\t{props.iconRight && (\r\n\t\t\t\t\t<div className={css(styles.iconRightWrap)}>\r\n\t\t\t\t\t\t<Icon icon={props.iconRight} styles={props.iconRightStyles || styles.iconRight}></Icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</ActionsButton>\r\n\t);\r\n});\r\nQuestionActionButton.displayName = \"QuestionActionButton\";\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { QuestionActionButtonProps } from \"./QuestionActionButton\";\r\n\r\nexport const getQuestionActionButtonStyles = (theme: Theme, props: QuestionActionButtonProps) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tpaddingLeft: props.fullWidth ? \"0\" : theme.constants.gridPadding,\r\n\t\t\tpaddingRight: props.fullWidth ? \"0\" : theme.constants.gridPadding\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\theight: \"100%\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\twhiteSpace: \"normal\"\r\n\t\t} as CSSProp,\r\n\t\ticonRight: {\r\n\t\t\tcolor: theme.colors.primary.main\r\n\t\t} as CSSProp,\r\n\t\ticonRightWrap: {\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"flex-end\",\r\n\t\t\tpadding: `${theme.sizing.sizes.md} 0`\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { IconProp } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { StyleDeclarationValue, css } from \"aphrodite\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport React from \"react\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { getTextWithIconStyles } from \"./textWithIconStyles\";\r\n\r\ntype QuestionIconProps = {\r\n\ticon: IconProp;\r\n\tstyles?: StyleDeclarationValue;\r\n};\r\n\r\nexport const TextWithIcon: React.FC<QuestionIconProps> = props => {\r\n\tconst style = useStyles(getTextWithIconStyles);\r\n\r\n\treturn (\r\n\t\t<div className={css(style.row)}>\r\n\t\t\t<div className={css(style.iconBlock)}>\r\n\t\t\t\t<Icon icon={props.icon} styles={props.styles || style.icon} />\r\n\t\t\t</div>\r\n\t\t\t{props.children}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getTextWithIconStyles = (theme: Theme) => ({\r\n\ticon: {\r\n\t\tcolor: theme.colors.primary.main\r\n\t},\r\n\ticonBlock: {\r\n\t\twidth: theme.sizing.sizes.lg,\r\n\t\theight: theme.sizing.sizes.lg,\r\n\t\tmarginRight: theme.sizing.sizes.md,\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpaddingTop: theme.sizing.sizes.md,\r\n\t\tpaddingBottom: theme.sizing.sizes.md\r\n\t} as CSSProp,\r\n\trow: {\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t\talignItems: \"center\" //toDO: fix\r\n\t} as CSSProp\r\n});\r\n","import { RadioItem, RadioList } from \"quiz/components/radioList/RadioList\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { QuestionControlProps } from \"../Question\";\r\nimport { QuestionManyOptionControl } from \"./QuestionManyOptionControl\";\r\nimport { SwiperSettings } from \"utils/constants\";\r\n\r\nconst boolQuestionValues: () => RadioItem[] = () => [\r\n\t{ value: 1, title: t(\"Yes\") },\r\n\t{ value: 0, title: t(\"No\") }\r\n];\r\n\r\nexport const QuestionBooleanControl: React.FC<QuestionControlProps> = React.memo(props => {\r\n\tif (props.question.items?.length) return <QuestionManyOptionControl {...props} />;\r\n\tconst id = props.question.id;\r\n\r\n\tconst onChange = React.useCallback(\r\n\t\te => {\r\n\t\t\tprops.visitManager.setAnswer(id, [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: Boolean(parseInt(e.target.value))\r\n\t\t\t\t}\r\n\t\t\t]);\r\n\t\t\tif (props.visitManager.isQuickTransition(props.question)) {\r\n\t\t\t\tconst timerId = setTimeout(() => {\r\n\t\t\t\t\tprops.toNextQuestion();\r\n\t\t\t\t\tclearInterval(timerId);\r\n\t\t\t\t}, SwiperSettings.quickTransitionDelayMs);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[id]\r\n\t);\r\n\r\n\tconst item = props.valueItems && props.valueItems[0];\r\n\r\n\treturn (\r\n\t\t<RadioList\r\n\t\t\titems={boolQuestionValues()}\r\n\t\t\tonChange={e => {\r\n\t\t\t\tonChange(e);\r\n\t\t\t}}\r\n\t\t\tvalue={item ? Number(item.value) : null}\r\n\t\t></RadioList>\r\n\t);\r\n});\r\nQuestionBooleanControl.displayName = \"QuestionBooleanControl\";\r\n","import { GalleryControl } from \"quiz/components/gallery/GalleryControl\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport * as immutable from \"object-path-immutable\";\r\nimport { VisitManager } from \"quiz/pages/questionnaire/VisitManager\";\r\nimport { textService, quizExtensionService, uploadHelper, CONFIG, t } from \"quiz/QuizApp\";\r\nimport { IQuestion, VisitAnswerFile, AnswerType, QuestionAttachPhoto } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { UploadOptions } from \"utils/UploadHelper\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getQuestionGalleryControlStyles } from \"./styles/questionGalleryControlStyles\";\r\nimport { GalleryImage } from \"quiz/components/gallery/Gallery\";\r\nimport { Dialog } from \"quiz/components/interaction/Dialog\";\r\nimport { QuizError } from \"quiz/components/errors/QuizError\";\r\n\r\nconst placeholder = require(\"./img_placeholder.svg\");\r\n\r\ninterface QuestionGalleryControlProps {\r\n\tquestion: IQuestion;\r\n\tvisitManager: VisitManager;\r\n\tfiles: VisitAnswerFile[];\r\n\treadonly?: boolean;\r\n}\r\n\r\nexport const uploadHelperOptions: UploadOptions = {\r\n\ttypes: [\"image/jpeg\", \"image/jpg\", \"image/png\"],\r\n\tmessageTpl: (...args) => textService.templateFn(...args)\r\n};\r\n\r\nconst getUrl = (data: string | Blob) => {\r\n\tif (typeof data === \"string\") {\r\n\t\treturn data;\r\n\t}\r\n\treturn URL.createObjectURL(data);\r\n};\r\n\r\nexport const QuestionGalleryControl: React.FunctionComponent<QuestionGalleryControlProps> = React.memo(\r\n\t({ visitManager, question, files, readonly }) => {\r\n\t\tconst [images, setImages] = React.useState<GalleryImage[]>([]);\r\n\t\tconst [err, setError] = React.useState();\r\n\r\n\t\tconst styles = useStyles(getQuestionGalleryControlStyles);\r\n\r\n\t\tconst onChange = React.useCallback(\r\n\t\t\tasync (originalPhotos: Blob[] | string[]) => {\r\n\t\t\t\tconst dialog = Dialog.preloader(t(\"Image preparation\"));\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst photos = [];\r\n\t\t\t\t\tfor await (const img of originalPhotos) {\r\n\t\t\t\t\t\tconst photoId = visitManager.createFileId();\r\n\t\t\t\t\t\tconst photo = await uploadHelper.processImageData(img, CONFIG.imageCompressQuality, true);\r\n\t\t\t\t\t\tconst photoItem = {\r\n\t\t\t\t\t\t\t...photo,\r\n\t\t\t\t\t\t\tphotoId\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tawait visitManager.addFiles(question.id, [photoItem]);\r\n\t\t\t\t\t\tphotos.push(photoItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetImages(prev =>\r\n\t\t\t\t\t\tprev.concat(\r\n\t\t\t\t\t\t\tphotos.map(p => ({ url: getUrl(p.full), thumbUrl: getUrl(p.thumb), id: Math.random() }))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t[images]\r\n\t\t);\r\n\r\n\t\tconst onImageClick = (index: number): void => {\r\n\t\t\tvisitManager.removeFile(question.id, index);\r\n\t\t\tsetImages(immutable.del(images, index.toString()));\r\n\t\t};\r\n\r\n\t\tReact.useEffect(() => files && setImages(files.map(r => ({ url: placeholder, id: r.draftFileId }))), []);\r\n\t\tReact.useEffect(() => {\r\n\t\t\tif (files) {\r\n\t\t\t\tvisitManager\r\n\t\t\t\t\t.getFilesSrc(files)\r\n\t\t\t\t\t.then(recs =>\r\n\t\t\t\t\t\tsetImages(\r\n\t\t\t\t\t\t\trecs.map(r => ({\r\n\t\t\t\t\t\t\t\turl: getUrl(r.data.full),\r\n\t\t\t\t\t\t\t\tthumbUrl: getUrl(r.data.thumb),\r\n\t\t\t\t\t\t\t\tid: r.draftFileId\r\n\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.catch(err => setError(err));\r\n\t\t\t}\r\n\t\t}, []);\r\n\r\n\t\tif (err) return <QuizError error={err} />;\r\n\r\n\t\tconst isAttachPhoto = question.answerType === AnswerType.AttachPhoto;\r\n\t\tconst isAnswerRequired = question.flagAnswerRequired;\r\n\t\tconst isAnswerPhotoRequired = isAttachPhoto && isAnswerRequired;\r\n\t\tconst isQuestionAttachPhotoRequired = question.questionAttachPhoto === QuestionAttachPhoto.Required;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={images.length > 0 && !readonly ? css(styles.wrap) : null}>\r\n\t\t\t\t<GalleryControl images={images} onImageClick={onImageClick} readonly={readonly}>\r\n\t\t\t\t\t{quizExtensionService.uploadPhoto.getUploadButton({\r\n\t\t\t\t\t\trequired: (isAnswerPhotoRequired || isQuestionAttachPhotoRequired) && images.length == 0,\r\n\t\t\t\t\t\tcommonLogic: onChange\r\n\t\t\t\t\t})}\r\n\t\t\t\t</GalleryControl>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\nQuestionGalleryControl.displayName = \"QuestionGalleryControl\";\r\n","import { IQuestionItem } from \"quiz/services/models\";\r\nimport React, { useCallback, Fragment } from \"react\";\r\nimport { QuestionControlProps } from \"../Question\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { QuestionList } from \"../../questionListView/QuestionList\";\r\nimport { QuestionListItem } from \"../../questionListView/QuestionListItem\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { GroupedAnswerHeader } from \"../common/groupedAnswerHeader/GroupedAnswerHeader\";\r\n\r\nexport const QuestionManyOptionControl: React.FC<QuestionControlProps> = React.memo(props => {\r\n\tconst { question, visitManager, valueItems } = props;\r\n\tconst items = question.items || [];\r\n\r\n\tconst groupHash = React.useMemo(() => {\r\n\t\tconst groupHash: { [key: string]: IQuestionItem[] } = {};\r\n\t\titems.forEach(item => {\r\n\t\t\tconst groupCode = item.group || t(\"No category\");\r\n\t\t\tif (!groupHash[groupCode]) groupHash[groupCode] = [];\r\n\t\t\tgroupHash[groupCode].push(item);\r\n\t\t});\r\n\t\treturn groupHash;\r\n\t}, [items]);\r\n\r\n\tconst values = valueItems || [];\r\n\r\n\tconst setValue = useCallback(\r\n\t\t(item: IQuestionItem, v: boolean) =>\r\n\t\t\tvisitManager.setAnswer(question.id, [{ answer: item.name, value: v, id: item.id }]),\r\n\t\t[question.id]\r\n\t);\r\n\tconst checked = (item: IQuestionItem) => {\r\n\t\tconst curItemValue = values.find(v => v.id == item.id);\r\n\t\treturn !!curItemValue && curItemValue.value;\r\n\t};\r\n\r\n\tconst groupChecked = (group: string) => groupHash[group].every(item => checked(item));\r\n\tconst groupIndeterminate = (group: string) => groupHash[group].some(item => checked(item)) && !groupChecked(group);\r\n\tconst setGroupValue = (group: string, v: boolean) => {\r\n\t\tconst newVals = groupHash[group].map(item => ({ answer: item.name, value: v, id: item.id }));\r\n\t\tvisitManager.setAnswer(question.id, newVals);\r\n\t};\r\n\treturn (\r\n\t\t<QuestionList>\r\n\t\t\t{Object.keys(groupHash).map((group, groupIdx, arr) => {\r\n\t\t\t\tconst gChecked = groupChecked(group);\r\n\t\t\t\tconst counter = `${groupHash[group].filter(item => checked(item)).length}/${groupHash[group].length}`;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment key={group}>\r\n\t\t\t\t\t\t<GroupedAnswerHeader\r\n\t\t\t\t\t\t\tkey={`group_${group}`}\r\n\t\t\t\t\t\t\tcheckbox\r\n\t\t\t\t\t\t\tchecked={gChecked}\r\n\t\t\t\t\t\t\tindeterminate={groupIndeterminate(group)}\r\n\t\t\t\t\t\t\tonChange={() => setGroupValue(group, !gChecked)}\r\n\t\t\t\t\t\t\tgroups\r\n\t\t\t\t\t\t\theader={group}\r\n\t\t\t\t\t\t\tcounter={counter}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{groupHash[group].map((i, idx) => {\r\n\t\t\t\t\t\t\tconst v = checked(i);\r\n\t\t\t\t\t\t\tconst isDash = idx + 1 != groupHash[group].length || arr[groupIdx + 1];\r\n\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<QuestionListItem\r\n\t\t\t\t\t\t\t\t\tkey={i.id}\r\n\t\t\t\t\t\t\t\t\tcheckbox\r\n\t\t\t\t\t\t\t\t\tvalue={i.id}\r\n\t\t\t\t\t\t\t\t\tonChange={() => setValue(i, !v)}\r\n\t\t\t\t\t\t\t\t\tchecked={v}\r\n\t\t\t\t\t\t\t\t\tdash={!!isDash}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div slot=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t<Text>{i.name}</Text>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</QuestionListItem>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</QuestionList>\r\n\t);\r\n});\r\nQuestionManyOptionControl.displayName = \"QuestionManyOptionControl\";\r\n","import * as React from \"react\";\r\nimport { QuestionControlProps } from \"../Question\";\r\nimport { RadioList } from \"quiz/components/radioList/RadioList\";\r\nimport { SwiperSettings } from \"utils/constants\";\r\nimport { useContext } from \"react\";\r\nimport { QstContext } from \"../common/QstContext\";\r\n\r\nexport const QuestionOneOptionControl: React.FC<QuestionControlProps> = React.memo(props => {\r\n\tconst id = props.question.id;\r\n\tconst items = props.question.items;\r\n\tconst ctx = useContext(QstContext);\r\n\r\n\tconst onChange = React.useCallback(\r\n\t\te => {\r\n\t\t\tconst itemId = parseInt(e.target.value);\r\n\t\t\tconst item = items.find(item => item.id == itemId);\r\n\t\t\tprops.visitManager.setAnswer(\r\n\t\t\t\tid,\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanswer: item.name,\r\n\t\t\t\t\t\tid: itemId\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t\tif (props.visitManager.isQuickTransition(props.question)) {\r\n\t\t\t\tconst timerId = setTimeout(() => {\r\n\t\t\t\t\tprops.toNextQuestion();\r\n\t\t\t\t\tclearInterval(timerId);\r\n\t\t\t\t}, SwiperSettings.quickTransitionDelayMs);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[id, items]\r\n\t);\r\n\r\n\tconst radioItems = React.useMemo(\r\n\t\t() => items.map(item => ({ value: item.id, title: item.name, group: item.group })),\r\n\t\t[items]\r\n\t);\r\n\tconst item = (props.valueItems && props.valueItems[0]) || {};\r\n\r\n\treturn <RadioList items={radioItems} onChange={e => onChange(e)} value={item.id} danger={!ctx.answerIsValid} />;\r\n});\r\nQuestionOneOptionControl.displayName = \"QuestionOneOptionControl\";\r\n","import * as React from \"react\";\r\nimport { AnswerType } from \"quiz/services/models\";\r\nimport { QuestionControlProps } from \"../Question\";\r\nimport { QrScannerSettings } from \"utils/constants\";\r\nimport { QrScannerErrorControl } from \"./qrScanner/QrScannerErrorControl\";\r\nimport { QuestionActionButton } from \"../common/questionActionButton/QuestionActionButton\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { questionQrCodeControlStyles } from \"./styles/questionQrCodeControlStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { quizQrService } from \"quiz/QuizApp\";\r\nimport { QstContext } from \"../common/QstContext\";\r\n\r\ntype QrCodeControlState = {\r\n\terror: any;\r\n};\r\n\r\nexport const QuestionQrCodeControl: React.FC<QuestionControlProps> = props => {\r\n\tconst data = props.valueItems.length > 0 && props.valueItems[0].value;\r\n\tconst [state, setState] = React.useState<QrCodeControlState>({ error: null });\r\n\tconst [qr, setQr] = React.useState(null);\r\n\tconst styles = useStyles(questionQrCodeControlStyles);\r\n\tconst hideText = props.question.answerType === AnswerType.ScanQrCodeWithHideText;\r\n\tconst ctx = React.useContext(QstContext);\r\n\r\n\tconst setAnswer = React.useCallback(\r\n\t\t(qrData: string) => {\r\n\t\t\tprops.visitManager.setAnswer(props.question.id, [{ value: qrData }]);\r\n\t\t},\r\n\t\t[props.question.id]\r\n\t);\r\n\tconst onError = React.useCallback(err => {\r\n\t\tsetState(prev => ({ ...prev, error: err }));\r\n\t\tsetQr(null);\r\n\t}, []);\r\n\r\n\tconst onScan = React.useCallback(qrData => {\r\n\t\tif (qrData) {\r\n\t\t\tsetState(prev => ({ ...prev }));\r\n\t\t\tsetAnswer(qrData);\r\n\t\t\tsetQr(null);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst [iconStyles, rightIconStyles] = ctx.answerIsValid\r\n\t\t? [null, null]\r\n\t\t: [styles.danger, [{ ...styles.danger, ...styles.asterisk }]];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{state.error ? (\r\n\t\t\t\t<QrScannerErrorControl error={state.error} />\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className={css(styles.result)}>\r\n\t\t\t\t\t\t<QuestionActionButton\r\n\t\t\t\t\t\t\ttext={data ? (hideText ? \"QR code successfully recognized\" : data) : \"Scan the QR-Code\"}\r\n\t\t\t\t\t\t\ticon={[\"far\", \"qrcode\"]}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tquizQrService.scan(onScan, onError, setQr, {\r\n\t\t\t\t\t\t\t\t\tonScanDelayMs: QrScannerSettings.onScanDelayMs\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tsetAnswer(\"\");\r\n\t\t\t\t\t\t\t\tsetState(prev => ({ ...prev }));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttextStyles={data ? styles.success : null}\r\n\t\t\t\t\t\t\ticonStyles={iconStyles}\r\n\t\t\t\t\t\t\ticonRight={data ? [\"far\", \"sync\"] : ctx.answerIsValid ? null : [\"fas\", \"asterisk\"]}\r\n\t\t\t\t\t\t\ticonRightStyles={rightIconStyles}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{qr}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nQuestionQrCodeControl.displayName = \"QuestionQrCodeControl\";\r\n","import { Fragment, useContext } from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { AnswerType } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getQuestionTextControlStyles } from \"./styles/questionTextControlStyles\";\r\nimport { QuestionControlProps } from \"../Question\";\r\nimport { QuizListInputItem } from \"../../quizListInputItem/QuizListInputItem\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { QuestionList } from \"quiz/components/questionListView/QuestionList\";\r\nimport { GroupedAnswerHeader } from \"../common/groupedAnswerHeader/GroupedAnswerHeader\";\r\nimport { useGroupedAnswers } from \"hooks/useGroupedAnswers\";\r\nimport { QstContext } from \"../common/QstContext\";\r\nimport { T } from \"quiz/components/text/T\";\r\n\r\nconst numberValueIsValid = (v: string) => {\r\n\tconst regex = /^.*(\\.|\\,).*$/.test(v) ? /^\\-?\\d{0,7}[\\.{1}|\\,{1}]\\d{0,5}$/ : /^\\-?\\d{0,7}$/;\r\n\treturn regex.test(v);\r\n};\r\n\r\nconst isLastItemInGroups = (totalItems: MDTRecordId[], itemId: MDTRecordId) => {\r\n\treturn totalItems[totalItems.length - 1] == itemId;\r\n};\r\n\r\ntype onChangeCallback = (v: string, id?: MDTRecordId, answer?: string) => void;\r\n\r\nexport const QuestionTextControl: React.FC<QuestionControlProps> = React.memo(\r\n\t({ question, visitManager, valueItems, answer }) => {\r\n\t\tconst id = question.id;\r\n\t\tconst ctx = useContext(QstContext);\r\n\t\tconst styles = useStyles(getQuestionTextControlStyles);\r\n\t\tconst isNumber = answer?.answerType == AnswerType.Number;\r\n\r\n\t\tconst onChange = React.useCallback<onChangeCallback>(\r\n\t\t\t(v, itemId = null, answer = null) => {\r\n\t\t\t\tif (isNumber && !numberValueIsValid(v)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvisitManager.setAnswer(id, [{ value: v, id: itemId, answer }]);\r\n\t\t\t},\r\n\t\t\t[id]\r\n\t\t);\r\n\t\tconst items = question?.items || [];\r\n\t\tconst vItems = valueItems || [];\r\n\r\n\t\tif (items && items.length) {\r\n\t\t\tconst g = useGroupedAnswers(items);\r\n\t\t\tconst invalidItems = ctx.validationErrors?.map(e => e.itemsId)[0] || [];\r\n\t\t\tconst totalItems = vItems.map(i => i.id);\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<QuestionList>\r\n\t\t\t\t\t{Object.keys(g).map(group => {\r\n\t\t\t\t\t\tconst groupItems = g[group].map(i => i.id);\r\n\t\t\t\t\t\tconst values = valueItems.filter(i => groupItems.includes(i.id));\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={group}>\r\n\t\t\t\t\t\t\t\t<GroupedAnswerHeader\r\n\t\t\t\t\t\t\t\t\theader={group}\r\n\t\t\t\t\t\t\t\t\tcounter={`${values.filter(i => i.value).length}/${groupItems.length}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{g[group].map(item => {\r\n\t\t\t\t\t\t\t\t\tconst valueItem = vItems.find(i => i.id == item.id);\r\n\t\t\t\t\t\t\t\t\tconst itemInvalid = invalidItems.includes(item.id);\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Fragment key={item.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<ControlItem\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\theader={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={valueItem && valueItem.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNumber={isNumber}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisDash={!isLastItemInGroups(totalItems, item.id) || itemInvalid}\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired={question.flagAnswerRequired}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdanger={itemInvalid}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{itemInvalid && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={css(styles.validationWrap)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<T styles={styles.validationText}>{`Need enter a ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisNumber ? \"numeric\" : \"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}</T>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</QuestionList>\r\n\t\t\t);\r\n\t\t}\r\n\t\tconst item = valueItems && valueItems[0];\r\n\r\n\t\treturn (\r\n\t\t\t<Block secondary>\r\n\t\t\t\t{isNumber ? (\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tinputMode=\"decimal\"\r\n\t\t\t\t\t\tvalue={item?.value}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\ticon={[\"far\", \"calculator-alt\"]}\r\n\t\t\t\t\t\tplaceholder={t(\"Enter a number\")}\r\n\t\t\t\t\t\tdanger={!ctx.answerIsValid}\r\n\t\t\t\t\t\trequired={question.flagAnswerRequired}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\tvalue={item?.value}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\ticon={[\"far\", \"file-alt\"]}\r\n\t\t\t\t\t\tplaceholder={t(\"Enter an answer\")}\r\n\t\t\t\t\t\tdanger={!ctx.answerIsValid}\r\n\t\t\t\t\t\trequired={question.flagAnswerRequired}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</Block>\r\n\t\t);\r\n\t}\r\n);\r\nQuestionTextControl.displayName = \"QuestionTextControl\";\r\n\r\nexport interface ControlItemProps {\r\n\tonChange: onChangeCallback;\r\n\tvalue: string;\r\n\theader: string;\r\n\tid: MDTRecordId;\r\n\tisNumber: boolean;\r\n\tisDash: boolean;\r\n\trequired: boolean;\r\n\tdanger: boolean;\r\n}\r\n\r\nconst ControlItem: React.FC<ControlItemProps> = React.memo(\r\n\t({ onChange, value, id, header, isNumber, isDash, required, danger }) => {\r\n\t\tconst styles = useStyles(getQuestionTextControlStyles);\r\n\t\tconst onChangeT = React.useCallback(v => onChange(v, id, header), [id]);\r\n\r\n\t\treturn (\r\n\t\t\t<Block secondary>\r\n\t\t\t\t<div className={css(styles.itemWrap)}>\r\n\t\t\t\t\t<div className={css(styles.textWrap)}>\r\n\t\t\t\t\t\t<Text>{header}</Text>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{isNumber ? (\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tinputMode=\"decimal\"\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={onChangeT}\r\n\t\t\t\t\t\ticon={[\"far\", \"calculator-alt\"]}\r\n\t\t\t\t\t\tdash={isDash}\r\n\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\tplaceholder={t(\"Enter a number\")}\r\n\t\t\t\t\t\tdanger={danger}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={onChangeT}\r\n\t\t\t\t\t\ticon={[\"far\", \"file-alt\"]}\r\n\t\t\t\t\t\tdash={isDash}\r\n\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\tplaceholder={t(\"Enter an answer\")}\r\n\t\t\t\t\t\tdanger={danger}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</Block>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nControlItem.displayName = \"ControlItem\";\r\n","module.exports = __webpack_public_path__ + \"fonts/img_placeholder.svg\";","import React from \"react\";\r\nimport { Defect } from \"quiz/components/question/controls/kpi/defect/Defect\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { IQuestion, KPIType } from \"quiz/services/models\";\r\n\r\ntype QuestionKpiControlProps = {\r\n\tquestion: IQuestion;\r\n};\r\n\r\nconst mapKPIType2Kpi = {\r\n\t[KPIType.Defect]: Defect\r\n};\r\n\r\nexport const QuestionKpiControl: React.FC<QuestionKpiControlProps> = React.memo(({ question }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{question.kpi?.map((k, idx) => {\r\n\t\t\t\tconst Component = mapKPIType2Kpi[k.type];\r\n\t\t\t\treturn Component ? (\r\n\t\t\t\t\t<Block secondary key={idx}>\r\n\t\t\t\t\t\t<Component {...{ title: k.name }} />\r\n\t\t\t\t\t</Block>\r\n\t\t\t\t) : null;\r\n\t\t\t})}\r\n\t\t</>\r\n\t);\r\n});\r\n\r\nQuestionKpiControl.displayName = \"QuestionKpiControl\";\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css } from \"aphrodite\";\r\nimport { Gauge } from \"framework7-react\";\r\nimport { getCSSSizeValue } from \"utils/cssHelpers\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { getDefectBlockStyles } from \"./defectStyles\";\r\nimport { increaseIcon, decreaseIcon } from \"./defectIcons\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { VisitAnswerItem, AnswerType, VisitAnswer } from \"quiz/services/models\";\r\nimport { formatDateTime } from \"utils/helpers\";\r\nimport { QstContext } from \"quiz/components/question/common/QstContext\";\r\n\r\nexport type DefectProps = {\r\n\ttitle: string;\r\n};\r\n\r\nconst getDefectRate = (items: VisitAnswerItem[], answerType: AnswerType) => {\r\n\tconst length = items?.length;\r\n\tif (answerType == AnswerType.OneOption) return length ? 0 : 100;\r\n\treturn length ? Math.round((items.filter(x => !x.value).length / length) * 100) : 100;\r\n};\r\n\r\nconst getDefectData = (answerType: AnswerType, cAnswer: VisitAnswer, pAnswer: VisitAnswer) => {\r\n\tconst currentRate = getDefectRate(cAnswer?.items, answerType);\r\n\tlet defectDiff = null;\r\n\tif (pAnswer) defectDiff = currentRate - getDefectRate(pAnswer.items, answerType);\r\n\treturn { currentRate, defectDiff };\r\n};\r\n\r\nexport const Defect: React.FC<DefectProps> = ({ title }) => {\r\n\tconst styles = useStyles(getDefectBlockStyles);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst { answer, prevAnswer, prevVisitDate } = React.useContext(QstContext);\r\n\tconst { currentRate, defectDiff } = getDefectData(answer.answerType, answer, prevAnswer);\r\n\r\n\tconst [icon, sign, color] =\r\n\t\tdefectDiff > 0\r\n\t\t\t? [increaseIcon, \"+\", theme.colors.danger.main]\r\n\t\t\t: defectDiff < 0\r\n\t\t\t? [decreaseIcon, \"-\", theme.colors.success.active]\r\n\t\t\t: [null, null, \"unset\"];\r\n\r\n\treturn (\r\n\t\tanswer.answerType !== AnswerType.AttachPhoto && (\r\n\t\t\t<div className={css(styles.wrap)}>\r\n\t\t\t\t<div className={css(styles.chartWrap)}>\r\n\t\t\t\t\t<Gauge\r\n\t\t\t\t\t\tclassName={css(styles.gaugeCustom)}\r\n\t\t\t\t\t\ttype=\"circle\"\r\n\t\t\t\t\t\tvalue={(100 - currentRate) / 100}\r\n\t\t\t\t\t\tsize={56}\r\n\t\t\t\t\t\tborderColor={theme.colors.success.active}\r\n\t\t\t\t\t\tborderBgColor={theme.colors.danger.main}\r\n\t\t\t\t\t\tborderWidth={getCSSSizeValue(theme.sizing.sizes.sm)}\r\n\t\t\t\t\t\tvalueText={`${currentRate}%`}\r\n\t\t\t\t\t\tvalueFontSize={getCSSSizeValue(theme.sizing.fontSizes.caption)}\r\n\t\t\t\t\t\tvalueTextColor={theme.colors.base.text}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={css(styles.content)}>\r\n\t\t\t\t\t<div className={css(styles.headerWrap)}>\r\n\t\t\t\t\t\t<T styles={styles.title} bold>\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t{defectDiff != null && prevVisitDate && (\r\n\t\t\t\t\t\t\t<div className={css(styles.lastVisitWrap)}>\r\n\t\t\t\t\t\t\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t\t\t\t\t\t\t<Icon icon={[\"far\", \"history\"]} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<T size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\t{formatDateTime(prevVisitDate, null, { hour: \"numeric\", minute: \"numeric\" })}\r\n\t\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={css(styles.footerWrap)}>\r\n\t\t\t\t\t\t<T muted styles={styles.description}>\r\n\t\t\t\t\t\t\tShare of missing items\r\n\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t{defectDiff != null && prevVisitDate && (\r\n\t\t\t\t\t\t\t<div className={css(styles.diffWrap)}>\r\n\t\t\t\t\t\t\t\t<div className={css(styles.iconWrap)}>{icon}</div>\r\n\t\t\t\t\t\t\t\t<div style={{ color: color }}>\r\n\t\t\t\t\t\t\t\t\t<Text styles={styles.percent} size={TextSizeType.bodyMin}>\r\n\t\t\t\t\t\t\t\t\t\t{`${sign + Math.abs(defectDiff)}%`}\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nDefect.displayName = \"Defect\";\r\n","import * as React from \"react\";\r\n\r\nexport const increaseIcon = (\r\n\t<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<circle cx=\"10\" cy=\"10\" r=\"10\" fill=\"#FFE6E7\" />\r\n\t\t<path\r\n\t\t\td=\"M6.25 13.75L13.75 6.25M13.75 6.25H8.125M13.75 6.25V11.875\"\r\n\t\t\tstroke=\"#F73B52\"\r\n\t\t\tstrokeWidth=\"2\"\r\n\t\t\tstrokeLinecap=\"round\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n\r\nexport const decreaseIcon = (\r\n\t<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<circle cx=\"10\" cy=\"10\" r=\"10\" fill=\"#E6FFF4\" />\r\n\t\t<path\r\n\t\t\td=\"M6.25 6.25L13.75 13.75M13.75 13.75H8.125M13.75 13.75V8.125\"\r\n\t\t\tstroke=\"#23BA72\"\r\n\t\t\tstrokeWidth=\"2\"\r\n\t\t\tstrokeLinecap=\"round\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getDefectBlockStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tpadding: `${theme.sizing.sizes.md} 0`,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tchartWrap: {\r\n\t\t\tmarginRight: theme.sizing.sizes.md,\r\n\t\t\tminHeight: \"56px\",\r\n\t\t\tminWidth: \"56px\"\r\n\t\t} as CSSProp,\r\n\t\tgaugeCustom: {\r\n\t\t\tdisplay: \"flex\"\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexFlow: \"column nowrap\",\r\n\t\t\tjustifyContent: \"space-between\"\r\n\t\t} as CSSProp,\r\n\t\theaderWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tpaddingBottom: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\tfontSize: theme.sizing.fontSizes.body,\r\n\t\t\tlineHeight: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tlastVisitWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\tmarginRight: theme.sizing.sizes.sm,\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tfooterWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tdescription: {\r\n\t\t\tfontSize: theme.sizing.fontSizes.caption,\r\n\t\t\tlineHeight: \"120%\"\r\n\t\t} as CSSProp,\r\n\t\tdiffWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tpercent: {\r\n\t\t\tcolor: \"inherit\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import React from \"react\";\r\nimport { List, ListItem } from \"framework7-react\";\r\nimport { QrNotAllowedError, QrNoVideoInputDevicesError, QrUnknownError } from \"./error/QrScannerError\";\r\n\r\nenum QrScannerErrorEnum {\r\n\tNotAllowedError = \"NotAllowedError\",\r\n\tNoVideoInputDevicesError = \"NoVideoInputDevicesError\"\r\n}\r\n\r\ntype QrScannerError = {\r\n\terror: any;\r\n};\r\n\r\nconst QrScannerErrorMap = {\r\n\t[QrScannerErrorEnum.NotAllowedError]: QrNotAllowedError,\r\n\t[QrScannerErrorEnum.NoVideoInputDevicesError]: QrNoVideoInputDevicesError\r\n};\r\n\r\nexport const QrScannerErrorControl: React.FC<QrScannerError> = props => {\r\n\tconst ErrorComponent = QrScannerErrorMap[props.error && props.error.name];\r\n\treturn (\r\n\t\t<List>\r\n\t\t\t<ListItem>{ErrorComponent ? <ErrorComponent /> : <QrUnknownError />}</ListItem>\r\n\t\t</List>\r\n\t);\r\n};\r\n\r\nQrScannerErrorControl.displayName = \"QrScannerErrorControl\";\r\n","import React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getQrCodeQuestionControlStyles } from \"./qrScannerErrorStyles\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { theme } from \"themes/defaultTheme\";\r\n\r\nexport const QrNotAllowedError: React.FC = props => {\r\n\tconst styles = useStyles(getQrCodeQuestionControlStyles);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Icon\r\n\t\t\t\tstyles={styles.cameraIcon}\r\n\t\t\t\texplicitSize={theme.sizing.sizes.xxl}\r\n\t\t\t\tcolor={theme.colors.primary.main}\r\n\t\t\t\ticon={[\"far\", \"camera\"]}\r\n\t\t\t></Icon>\r\n\t\t\t<T>Camera unavailable. Please enable application access to the camera in the settings</T>\r\n\t\t</>\r\n\t);\r\n};\r\nQrNotAllowedError.displayName = \"QrNotAllowedError\";\r\n\r\nexport const QrNoVideoInputDevicesError: React.FC = props => {\r\n\treturn <T>QR code unsupported</T>;\r\n};\r\nQrNoVideoInputDevicesError.displayName = \"QrNoVideoInputDevicesError\";\r\n\r\nexport const QrUnknownError: React.FC = props => {\r\n\treturn <T>Camera error</T>;\r\n};\r\nQrUnknownError.displayName = \"QrUnknownError\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQrCodeQuestionControlStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tcameraIcon: {\r\n\t\t\tmarginRight: theme.sizing.sizes.xxl\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { VisitAnswer, AnswerType, VisitAnswerItem, QuestionAttachPhoto } from \"quiz/services/models\";\r\nimport React from \"react\";\r\nimport { ValidationError, VisitManager, ValidationErrorType } from \"quiz/pages/questionnaire/VisitManager\";\r\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { QuestionReadonlyItem } from \"./item/QuestionReadonlyItem\";\r\nimport { QuestionReadonlyGallery } from \"./gallery/QuestionReadonlyGallery\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getQuestionReadonlyControlStyles } from \"./questionReadonlyControlStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\nconst formatAnswer = (answerType: AnswerType, items: VisitAnswerItem[]): string[] => {\r\n\tswitch (answerType) {\r\n\t\tcase \"B\": {\r\n\t\t\treturn items.some(item => item.answer)\r\n\t\t\t\t? items.filter(item => item.value).map(item => item.answer)\r\n\t\t\t\t: items.map(item => (item.value ? t(\"Yes\") : t(\"No\")));\r\n\t\t}\r\n\t\tcase \"M\": {\r\n\t\t\treturn items\r\n\t\t\t\t.filter(item => (typeof item.value === \"boolean\" ? item.value : item.answer))\r\n\t\t\t\t.map(item => item.answer);\r\n\t\t}\r\n\t\tcase \"Y\":\r\n\t\t\treturn items.filter(x => x.value).map(() => t(\"QR code successfully recognized\"));\r\n\t\tcase \"O\":\r\n\t\t\treturn items.map(item => item.answer && item.answer.toString());\r\n\t\tdefault: {\r\n\t\t\treturn items.filter(x => x.value).map(item => item.value && item.value.toString());\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst galleryRequired = (answer: VisitAnswer): boolean => {\r\n\treturn (\r\n\t\tanswer.answerType === AnswerType.AttachPhoto ||\r\n\t\tanswer.question.questionAttachPhoto == QuestionAttachPhoto.Available ||\r\n\t\tanswer.question.questionAttachPhoto == QuestionAttachPhoto.Required\r\n\t);\r\n};\r\n\r\nconst readonlyComponentIconMap: { [answerType in AnswerType]: IconProp } = {\r\n\t[AnswerType.AttachPhoto]: [\"far\", \"camera\"],\r\n\t[AnswerType.Boolean]: [\"far\", \"list-alt\"],\r\n\t[AnswerType.ManyOptions]: [\"far\", \"clipboard-list-check\"],\r\n\t[AnswerType.Number]: [\"far\", \"calculator-alt\"],\r\n\t[AnswerType.OneOption]: [\"far\", \"list-alt\"],\r\n\t[AnswerType.ScanQrCode]: [\"far\", \"qrcode\"],\r\n\t[AnswerType.ScanQrCodeWithHideText]: [\"far\", \"qrcode\"],\r\n\t[AnswerType.Text]: [\"far\", \"file-alt\"]\r\n};\r\n\r\nexport type QuestionReadonlyControlProps = {\r\n\tanswer: VisitAnswer;\r\n\tvisitManager?: VisitManager;\r\n\terrors: ValidationError[];\r\n};\r\n\r\nexport const QuestionReadonlyControl: React.FC<QuestionReadonlyControlProps> = React.memo(props => {\r\n\tconst styles = useStyles(getQuestionReadonlyControlStyles);\r\n\tconst { answer, visitManager, errors } = props;\r\n\tconst icon = readonlyComponentIconMap[answer.answerType];\r\n\r\n\tconst answerValue = formatAnswer(answer.answerType, answer.items || []).join(\", \");\r\n\tconst answerErrors = errors.filter(err => err.type === ValidationErrorType.RequiredAnswer);\r\n\tconst photoErrors = errors.filter(err => err.type === ValidationErrorType.RequiredPhoto);\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t{galleryRequired(answer) &&\r\n\t\t\t\t(photoErrors.length ? (\r\n\t\t\t\t\t<QuestionReadonlyItem icon={[\"far\", \"camera\"]} text={null} errors={photoErrors} />\r\n\t\t\t\t) : answer.files && answer.files.length ? (\r\n\t\t\t\t\t<div className={css(styles.gallery)}>\r\n\t\t\t\t\t\t<QuestionReadonlyGallery answer={answer} visitManager={visitManager} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null)}\r\n\t\t\t{answer.answerType !== AnswerType.AttachPhoto && (\r\n\t\t\t\t<QuestionReadonlyItem icon={icon} text={answerValue} errors={answerErrors} />\r\n\t\t\t)}\r\n\t\t\t{answer.comment && (\r\n\t\t\t\t<QuestionReadonlyItem icon={[\"far\", \"comment-alt\"]} text={props.answer.comment} errors={[]} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nQuestionReadonlyControl.displayName = \"QuestionReadonlyControl\";\r\n","import React from \"react\";\r\nimport { MDTFileGallery } from \"quiz/components/mdtImages/MdtFileGallery\";\r\nimport { QuestionGalleryControl } from \"../../QuestionGalleryControl\";\r\nimport { QuestionReadonlyControlProps } from \"../QuestionReadonlyControl\";\r\n\r\nexport const QuestionReadonlyGallery: React.FC<Pick<\r\n\tQuestionReadonlyControlProps,\r\n\t\"answer\" | \"visitManager\"\r\n>> = props => {\r\n\treturn props.visitManager ? (\r\n\t\t<QuestionGalleryControl\r\n\t\t\tquestion={props.answer.question}\r\n\t\t\tvisitManager={props.visitManager}\r\n\t\t\tfiles={props.answer.files}\r\n\t\t\treadonly={true}\r\n\t\t/>\r\n\t) : (\r\n\t\t<MDTFileGallery fileRecords={props.answer.files.map(f => ({ id: f.fileId, uid: f.uid }))} />\r\n\t);\r\n};\r\n","import { IconProp } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { ValidationError } from \"quiz/pages/questionnaire/VisitManager\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport React from \"react\";\r\nimport { css } from \"aphrodite\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { getQuestionReadonlyItemStyles } from \"./questionReadonlyItemStyles\";\r\n\r\nexport type QuestionReadonlyItemProps = {\r\n\ticon: IconProp;\r\n\ttext: string;\r\n\terrors: ValidationError[];\r\n\trightZone?(): React.ReactElement;\r\n};\r\n\r\nexport const QuestionReadonlyItem: React.FC<QuestionReadonlyItemProps> = React.memo(props => {\r\n\tconst styles = useStyles(getQuestionReadonlyItemStyles, props);\r\n\tconst text = props.errors.length ? props.errors.map(err => err.title).join(\", \") : props.text;\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.questionControlItem)}>\r\n\t\t\t<div className={css(styles.textWrap)}>\r\n\t\t\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t\t\t<Icon styles={styles.iconColor} icon={props.icon} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={css(styles.text)}>\r\n\t\t\t\t\t<Text styles={styles.textColor}>{text || t(\"No answer\")}</Text>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{props.rightZone != null && <div>{props.rightZone()}</div>}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nQuestionReadonlyItem.displayName = \"f7-list-item\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { QuestionReadonlyItemProps } from \"./QuestionReadonlyItem\";\r\n\r\nexport const getQuestionReadonlyItemStyles = (theme: Theme, props: QuestionReadonlyItemProps) => {\r\n\tconst [iconColor, textColor] = props.errors.length\r\n\t\t? [theme.colors.danger.main, theme.colors.danger.main]\r\n\t\t: props.text\r\n\t\t? [theme.colors.primary.main, theme.colors.base.texts.accent]\r\n\t\t: [theme.colors.base.texts.muted, theme.colors.base.texts.muted];\r\n\r\n\treturn {\r\n\t\tquestionControlItem: {\r\n\t\t\tpadding: `0 ${theme.constants.gridPadding}`,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tborderBottom: `1px dashed ${theme.colors.base.border}`,\r\n\t\t\t\":last-child\": {\r\n\t\t\t\tborderBottom: \"none\"\r\n\t\t\t}\r\n\t\t} as CSSProp,\r\n\t\ttextWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tmarginRight: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\ticonColor: { color: iconColor } as CSSProp,\r\n\t\ttextColor: { color: textColor } as CSSProp,\r\n\t\ttext: {\r\n\t\t\tpaddingBottom: theme.sizing.sizes.md,\r\n\t\t\tpaddingTop: theme.sizing.sizes.md\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQuestionReadonlyControlStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tbackground: theme.colors.primary.background\r\n\t\t} as CSSProp,\r\n\t\tgallery: {\r\n\t\t\tpadding: `${theme.sizing.sizes.md} 0`,\r\n\t\t\tborderBottom: `1px dashed ${theme.colors.base.border}`,\r\n\t\t\t\":last-child\": {\r\n\t\t\t\tborderBottom: \"none\"\r\n\t\t\t}\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQuestionGalleryControlStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tpaddingTop: theme.sizing.sizes.md,\r\n\t\t\tbackground: theme.colors.primary.background\r\n\t\t} as CSSProp,\r\n\t\tdanger: {\r\n\t\t\tcolor: theme.colors.danger.main\r\n\t\t}\r\n\t};\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const questionQrCodeControlStyles = (theme: Theme) => ({\r\n\tresult: {\r\n\t\tdisplay: \"flex\",\r\n\t\tbackground: theme.colors.primary.background\r\n\t} as CSSProp,\r\n\ticon: {\r\n\t\tcolor: theme.colors.primary.main\r\n\t},\r\n\ticonWrap: {\r\n\t\twidth: theme.sizing.sizes.lg,\r\n\t\theight: theme.sizing.sizes.lg,\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tmargin: `${scale(theme.sizing.sizes.lg, ScaleEnum.Half)} 0`\r\n\t} as CSSProp,\r\n\tsuccess: {\r\n\t\tcolor: theme.colors.success.main\r\n\t},\r\n\tdanger: {\r\n\t\tcolor: theme.colors.danger.main\r\n\t} as CSSProp,\r\n\tasterisk: {\r\n\t\tfontWeight: theme.sizing.fontWeights.bold,\r\n\t\tfontSize: theme.sizing.sizes.sm,\r\n\t\tcolor: theme.colors.danger.main\r\n\t} as CSSProp\r\n});\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQuestionTextControlStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\titemWrap: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tborderBottom: `1px dashed ${theme.colors.base.secondary}`,\r\n\t\t\tpadding: `${theme.sizing.sizes.md} 0`\r\n\t\t},\r\n\t\ttextWrap: {\r\n\t\t\tlineHeight: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tgap: {\r\n\t\t\theight: `${theme.sizing.sizes.sm}`,\r\n\t\t\tbackground: theme.colors.base.background,\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tdivider: {\r\n\t\t\theight: \"1px\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tborderBottom: `1px dashed ${theme.colors.base.secondary}`\r\n\t\t} as CSSProp,\r\n\t\tvalidationWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\t//background: theme.colors.base.background,\r\n\t\t\tpadding: `${theme.sizing.sizes.sm} ${theme.constants.gridPadding} ${theme.sizing.sizes.md}`\r\n\t\t\t// \":last-child\": {\r\n\t\t\t// \tpaddingBottom: \"0\"\r\n\t\t\t// } as CSSProp\r\n\t\t} as CSSProp,\r\n\t\tvalidationText: {\r\n\t\t\tfontSize: theme.sizing.fontSizes.caption,\r\n\t\t\tcolor: theme.colors.danger.main,\r\n\t\t\tlineHeight: \"128%\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getQuestionStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tquestionWrap: {\r\n\t\t\tpaddingTop: theme.sizing.sizes.lg,\r\n\t\t\tpaddingBottom: scale(theme.sizing.sizes.xl, ScaleEnum.Triple)\r\n\t\t} as CSSProp,\r\n\t\tdivider: {\r\n\t\t\tborderTop: `1px dashed ${theme.colors.base.border}`\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { List } from \"quiz/components/listView/ListView\";\r\nimport * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\n\r\nexport const QuestionList: React.FC = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\tconst styles = React.useMemo(\r\n\t\t() =>\r\n\t\t\t`\r\n.questionList__block .item-content {\r\n\t--f7-list-item-padding-vertical: ${theme.sizing.sizes.md};\r\n\t--f7-list-item-media-margin: ${theme.sizing.sizes.sm};\r\n\t--f7-checkbox-extra-margin: ${theme.sizing.sizes.md};\r\n\t--f7-radio-extra-margin: ${theme.sizing.sizes.md};\r\n\t--f7-list-item-title-line-height: ${theme.sizing.sizes.lg};\r\n}`.trim(),\r\n\t\t[]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<style>{styles}</style>\r\n\t\t\t<List noHairlinesBetween noHairlines className=\"questionList__block\">\r\n\t\t\t\t<ul>{props.children}</ul>\r\n\t\t\t</List>\r\n\t\t</>\r\n\t);\r\n};\r\nQuestionList.displayName = \"f7-list\";\r\n","import * as React from \"react\";\r\nimport { ListItem, ListInput } from \"quiz/components/listView/ListView\";\r\nimport F7ListItem from \"framework7-react/components/list-item\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getQstListItemStyles } from \"./QuestionListItemStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { F7ListInput } from \"framework7-react\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\n\r\nexport interface QstListItemProps extends F7ListItem.Props {\r\n\tdash?: boolean;\r\n\tgroups?: boolean;\r\n\tclassName?: string;\r\n\tdanger?: boolean;\r\n}\r\n\r\nexport const QuestionListItem: React.FC<QstListItemProps> = React.memo(props => {\r\n\tconst styles = useStyles(getQstListItemStyles);\r\n\tconst isDivider = props.dash || props.groups;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ListItem {...props}>{props.children}</ListItem>\r\n\t\t\t{isDivider && (\r\n\t\t\t\t<div slot=\"root\" className={css(props.groups ? null : styles.wrap)}>\r\n\t\t\t\t\t<Divider dash />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n});\r\nQuestionListItem.displayName = \"f7-list-item\";\r\n\r\ninterface QuestionListInputProps extends F7ListInput.Props {\r\n\tisDash?: boolean;\r\n}\r\n\r\nexport const QuestionListInput: React.FC<QuestionListInputProps> = React.memo(props => {\r\n\tconst styles = useStyles(getQstListItemStyles);\r\n\treturn (\r\n\t\t<ListInput\r\n\t\t\t// className={css(props.isDash && styles.dash)}\r\n\t\t\t{...props}\r\n\t\t\tvalue={props.value != null ? props.value : \"\"}\r\n\t\t/>\r\n\t);\r\n});\r\nQuestionListInput.displayName = \"f7-list-input\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQstListItemStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tpaddingRight: theme.constants.gridPadding,\r\n\t\t\tpaddingLeft: theme.constants.gridPadding,\r\n\t\t\theight: \"0\" //1px lines bug\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Text } from \"quiz/components/text/Text\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { MDTRecordId, FileRecord } from \"mdtApiClient/mdtApiClient\";\r\nimport { MDTFileGallery } from \"quiz/components/mdtImages/MdtFileGallery\";\r\nimport { IQuestion } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getQuestionView } from \"./questionViewStyles\";\r\nimport { List, ListItem } from \"quiz/components/listView/ListView\";\r\nimport { AccordionContent } from \"framework7-react\";\r\n\r\nexport interface QuestionViewProps {\r\n\tquestion: IQuestion;\r\n\tidx: number;\r\n\ttotalQuestions: number;\r\n\tdanger?: boolean;\r\n}\r\n\r\nconst QuestionnaireDescription: React.FC<QuestionViewProps> = props => {\r\n\tconst styles = useStyles(getQuestionView, props);\r\n\tconst { name, description } = props.question;\r\n\r\n\tconst Question = (\r\n\t\t<div className={css(styles.headerWrap)}>\r\n\t\t\t<div className={css(styles.titleWrap)}>\r\n\t\t\t\t<Text styles={styles.index} muted size={TextSizeType.bodyMin}>\r\n\t\t\t\t\t{`${props.idx}/${props.totalQuestions}`}\r\n\t\t\t\t</Text>\r\n\t\t\t\t<div className={css(styles.titleTextWrap)}>\r\n\t\t\t\t\t<Text size={TextSizeType.title} styles={styles.titleText}>\r\n\t\t\t\t\t\t{name}\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn description ? (\r\n\t\t<List accordionList noHairlinesMd className=\"question-accordion\">\r\n\t\t\t<style>\r\n\t\t\t\t{`\r\n\t\t\t\t\t.question-accordion .item-content {\r\n\t\t\t\t\t\tpadding-left: 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.question-accordion .item-inner {\r\n\t\t\t\t\t\tpadding-top: 0;\r\n\t\t\t\t\t\tpadding-bottom: 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t`}\r\n\t\t\t</style>\r\n\t\t\t<ListItem accordionItem>\r\n\t\t\t\t<div slot=\"inner-start\">{Question}</div>\r\n\t\t\t\t<AccordionContent>\r\n\t\t\t\t\t<div className={css(styles.description)}>\r\n\t\t\t\t\t\t<Text size={TextSizeType.caption} muted={true}>\r\n\t\t\t\t\t\t\t{description}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</AccordionContent>\r\n\t\t\t</ListItem>\r\n\t\t</List>\r\n\t) : (\r\n\t\tQuestion\r\n\t);\r\n};\r\n\r\nexport const QuestionView: React.FC<QuestionViewProps> = React.memo(props => {\r\n\tconst styles = useStyles(getQuestionView, props);\r\n\tconst { images = [] } = props.question;\r\n\tconst imgs = React.useMemo<FileRecord[]>(() => images.map(i => ({ id: i.fileId, uid: i.uid })), [images]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={css(styles.questionViewWrap)}>\r\n\t\t\t\t<QuestionnaireDescription {...props} />\r\n\t\t\t</div>\r\n\t\t\t{images && !!images.length && (\r\n\t\t\t\t<div className={css(styles.wrapGallery)}>\r\n\t\t\t\t\t<MDTFileGallery fileRecords={imgs} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n});\r\nQuestionView.displayName = \"QuestionView\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { QuestionViewProps } from \"./QuestionView\";\r\n\r\nexport const getQuestionView = (theme: Theme, props: QuestionViewProps) => {\r\n\treturn {\r\n\t\tquestionViewWrap: {\r\n\t\t\tmargin: `${theme.sizing.sizes.md} 0`\r\n\t\t} as CSSProp,\r\n\t\theaderWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\"\r\n\t\t} as CSSProp,\r\n\t\tindex: {\r\n\t\t\tmarginRight: theme.sizing.sizes.sm,\r\n\t\t\tlineHeight: theme.sizing.lineHeights.title,\r\n\t\t\tcolor: props.danger ? theme.colors.danger.main : theme.colors.base.texts.muted\r\n\t\t} as CSSProp,\r\n\t\ttitleWrap: {\r\n\t\t\twordBreak: \"break-word\",\r\n\t\t\talignItems: \"baseline\"\r\n\t\t} as CSSProp,\r\n\t\ttitleTextWrap: {\r\n\t\t\tmarginTop: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\ttitleText: {\r\n\t\t\tlineHeight: theme.sizing.sizes.lg,\r\n\t\t\tcolor: props.danger ? theme.colors.danger.main : theme.colors.base.texts.main\r\n\t\t} as CSSProp,\r\n\t\tasteriksWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\tjustifyContent: \"flex-end\"\r\n\t\t} as CSSProp,\r\n\t\tasteriks: {\r\n\t\t\tfontWeight: theme.sizing.fontWeights.bold,\r\n\t\t\tfontSize: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\timage: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tpaddingBottom: theme.sizing.sizes.lg\r\n\t\t},\r\n\t\tdescription: {\r\n\t\t\tmarginTop: theme.sizing.sizes.sm,\r\n\t\t\tpaddingRight: `calc(${theme.sizing.sizes.lg} * 2)`,\r\n\t\t\tlineHeight: \"1em\"\r\n\t\t},\r\n\t\twrapGallery: {\r\n\t\t\tmarginTop: theme.sizing.sizes.md,\r\n\t\t\tmarginBottom: theme.sizing.sizes.md\r\n\t\t}\r\n\t};\r\n};\r\n","import { TActions } from \"quiz/components/actions/Actions\";\r\nimport { Swiper, SwiperSlide, Page, f7 } from \"framework7-react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { useVisitManager } from \"quiz/pages/questionnaire/visitManagerHook\";\r\nimport { nav, quizAuthService, quizDraftService, t } from \"quiz/QuizApp\";\r\nimport { QuizPageComponentProps } from \"quiz/QuizAppRoutes\";\r\nimport { IQuestion, IQuestionnaire, OutletFullData, Visit } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { SwiperSettings } from \"utils/constants\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { SwiperBar } from \"./swiperBar/SwiperBar\";\r\nimport { ActionSheetReportIcon } from \"./swiperBar/CustomIcons\";\r\nimport { getQuestionnaireStyles } from \"./questionnaireStyles\";\r\nimport { ActionSheetItem } from \"quiz/components/actionSheetItem/ActionSheetItem\";\r\nimport { ProgressBlockState } from \"quiz/components/progressBar/ProgressBlock\";\r\nimport { ProgressBar } from \"quiz/components/progressBar/ProgressBar\";\r\nimport { QuizActions } from \"quiz/components/actions/QuizActions\";\r\nimport { QuestionSlide } from \"./questionSlide/QuestionSlide\";\r\nimport { useVirtualDataManager } from \"quiz/pages/questionnaire/virtualDataManagerHook\";\r\nimport { Toast } from \"quiz/components/interaction/toast/Toast\";\r\nimport { Dialog } from \"quiz/components/interaction/Dialog\";\r\nimport { QuestionnaireNavbar } from \"./navbar/QuestionnaireNavbar\";\r\nimport { FullscreenInfo } from \"quiz/components/infoBlock/fullscreenInfoBlock/FullscreenInfo\";\r\nimport { emptyIcon } from \"quiz/components/infoScreenIcons/emptyIcon\";\r\nimport { FeedbackTypeEnum } from \"quiz/components/feedback/Feedback\";\r\nimport { ValidationErrorType } from \"quiz/pages/questionnaire/VisitManager\";\r\nimport { QstContext } from \"../question/common/QstContext\";\r\n\r\nexport interface QuestionnaireProps {\r\n\tquestionnaire: IQuestionnaire;\r\n\toutlet: OutletFullData;\r\n\tvisit?: Visit;\r\n\tonChange?: (visit: Visit) => void;\r\n\tonFinish?: (visit: Visit) => void;\r\n\tonDelete?: (visit: Visit) => void;\r\n\tsetActions?: QuizPageComponentProps[\"setActions\"];\r\n}\r\n\r\nexport interface QuestionnaireSlideState {\r\n\tfinished: boolean;\r\n\tcurrentSlide: number;\r\n}\r\n\r\ntype VirtualData = {\r\n\toffset: number;\r\n\tfrom: number;\r\n\tto: number;\r\n\tslides: IQuestion[];\r\n};\r\n\r\nconst qstSlideClassName = \"qst-slide\";\r\n\r\nexport const questionnaireBeforeIn = () => nav.events.emit(\"questionnaireBeforeIn\", void 0);\r\nexport const questionnaireBeforeOut = (page: any) => nav.events.emit(\"questionnaireBeforeOut\", page);\r\n\r\nexport const Questionnaire: React.FunctionComponent<QuestionnaireProps> = React.memo(props => {\r\n\tconst actionsRef = React.useRef<TActions>();\r\n\tconst [qstChanged, setQstChanged] = React.useState(false);\r\n\tconst s = useStyles(getQuestionnaireStyles);\r\n\tconst swiperRef = React.useRef<any>();\r\n\tconst [mounted, setMounted] = React.useState<boolean>(false);\r\n\r\n\tconst questions = React.useMemo(() => props.questionnaire.questions, [props.questionnaire.questions.length]);\r\n\r\n\tconst [slideState, setSlideState] = React.useState<QuestionnaireSlideState>({\r\n\t\tfinished: questions.length <= 1,\r\n\t\tcurrentSlide: 0\r\n\t});\r\n\tconst [virtualData, setVirtualData] = React.useState<VirtualData>({\r\n\t\toffset: 0,\r\n\t\tfrom: 0,\r\n\t\tto: 1,\r\n\t\tslides: [...questions.slice(0, 2)]\r\n\t});\r\n\tconst [reportOpen, setReportOpen] = React.useState(false);\r\n\r\n\tconst { visit, visitManager } = useVisitManager(\r\n\t\tprops.questionnaire,\r\n\t\tprops.outlet,\r\n\t\tquizAuthService.state.user.employee,\r\n\t\t{ initVisit: props.visit }\r\n\t);\r\n\r\n\tconst prevVisit = visitManager.getPrevVisit();\r\n\tconst virtualDataManager = useVirtualDataManager(virtualData);\r\n\tconst virtualSlides = virtualDataManager.virtualData;\r\n\tconst [clean, setClean] = React.useState<ProgressBlockState[]>(visitManager.getProgress());\r\n\tconst toReport = React.useCallback(() => {\r\n\t\tsetReportOpen(true);\r\n\t\tnav.toReport({\r\n\t\t\tvisit,\r\n\t\t\tvisitManager,\r\n\t\t\toutlet: props.outlet,\r\n\t\t\topen: true,\r\n\t\t\tisCompleted: false,\r\n\t\t\tonAnswerClick: answer => {\r\n\t\t\t\tconst qIdx = questions.findIndex(q => q.id == answer.question.id);\r\n\t\t\t\tif (qIdx >= 0) {\r\n\t\t\t\t\tnav.back();\r\n\t\t\t\t\tsetReportOpen(false);\r\n\t\t\t\t\tswiperRef.current?.swiper.slideTo(qIdx, 0, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}, [visit]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tvisitManager.subscribe(\"changed\", ({ visit }) => {\r\n\t\t\tprops.onChange(visit);\r\n\t\t\tsetQstChanged(true);\r\n\t\t});\r\n\t\tvirtualDataManager.subscribe(\"changed\", setVirtualData);\r\n\t\tsetMounted(true);\r\n\t}, []);\r\n\r\n\tconst contentClassName = React.useMemo(() => css(s.content), [s.content]);\r\n\r\n\tconst style = React.useMemo(\r\n\t\t() =>\r\n\t\t\t`.${contentClassName} .swiper-container { height: 100%; } .${contentClassName} .swiper-slide { overflow: auto; }`,\r\n\t\t[contentClassName]\r\n\t);\r\n\r\n\tconst updateQuestionnaireData = () => {\r\n\t\tsetSlideState({\r\n\t\t\tfinished: swiperRef.current.swiper.isEnd,\r\n\t\t\tcurrentSlide: swiperRef.current.swiper.realIndex\r\n\t\t});\r\n\t\tsetClean(\r\n\t\t\tvisitManager.changeProgress(swiperRef.current.swiper.previousIndex, swiperRef.current.swiper.realIndex)\r\n\t\t);\r\n\t\tsetQstChanged(true);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst qstBeforeInUnsub = nav.subscribe(\"questionnaireBeforeIn\", () => setReportOpen(false));\r\n\t\tconst qstBeforeOutUnsub = nav.subscribe(\"questionnaireBeforeOut\", (page: any) => {\r\n\t\t\tqstChanged &&\r\n\t\t\t\t!reportOpen &&\r\n\t\t\t\tpage?.direction === \"backward\" &&\r\n\t\t\t\tToast.create({\r\n\t\t\t\t\ttype: \"info\",\r\n\t\t\t\t\ttext: t(\"Questionnaire draft was saved\")\r\n\t\t\t\t}).open();\r\n\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\tqstBeforeInUnsub();\r\n\t\t\tqstBeforeOutUnsub();\r\n\t\t};\r\n\t}, [qstChanged, reportOpen]);\r\n\r\n\tconst openActions = () => {\r\n\t\tactionsRef.current.open();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<QuestionnaireNavbar title={props.questionnaire.name} actions={{ show: true, cb: openActions }} noShadow>\r\n\t\t\t\t<ProgressBar items={clean} />\r\n\t\t\t</QuestionnaireNavbar>\r\n\t\t\t{questions.length === 0 ? (\r\n\t\t\t\t<FullscreenInfo\r\n\t\t\t\t\ticon={emptyIcon}\r\n\t\t\t\t\ttitle={t(\"There are no questions in the questionnaire\")}\r\n\t\t\t\t\tmessage={t(\"Sorry, there are no questions in the questionnaire. Contact administrator\")}\r\n\t\t\t\t\tcolorType={ColorTypes.warning}\r\n\t\t\t\t\tprimaryButton={{\r\n\t\t\t\t\t\ttitle: t(\"Refresh\"),\r\n\t\t\t\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\t\t\t\tcommand: () => f7.views.main.router.refreshPage()\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsecondaryButton={{\r\n\t\t\t\t\t\ttitle: t(\"Complain\"),\r\n\t\t\t\t\t\ticon: [\"far\", \"exclamation-triangle\"],\r\n\t\t\t\t\t\tcommand: () => nav.toFeedback({ type: FeedbackTypeEnum.Problem, value: \"\" })\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div className={css(s.wrap)}>\r\n\t\t\t\t\t<div className={contentClassName}>\r\n\t\t\t\t\t\t<style>{style}</style>\r\n\t\t\t\t\t\t<Swiper\r\n\t\t\t\t\t\t\tparams={{\r\n\t\t\t\t\t\t\t\tvirtual: {\r\n\t\t\t\t\t\t\t\t\tslides: questions,\r\n\t\t\t\t\t\t\t\t\trenderExternal: data => {\r\n\t\t\t\t\t\t\t\t\t\tvirtualDataManager.setVD(data);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tspaceBetween: SwiperSettings.spaceBetweenPx,\r\n\t\t\t\t\t\t\t\tnoSwipingSelector: \"img\",\r\n\t\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\t\tslideChangeTransitionEnd: () => {\r\n\t\t\t\t\t\t\t\t\t\tvirtualDataManager.updateVD();\r\n\t\t\t\t\t\t\t\t\t\tupdateQuestionnaireData();\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tslideResetTransitionEnd: () => {\r\n\t\t\t\t\t\t\t\t\t\tvirtualDataManager.updateVD();\r\n\t\t\t\t\t\t\t\t\t\tif (swiperRef.current?.swiper?.previousIndex !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\tupdateQuestionnaireData();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttransitionStart: () => {\r\n\t\t\t\t\t\t\t\t\t\tf7.$(`.${qstSlideClassName}`)\r\n\t\t\t\t\t\t\t\t\t\t\t.find(\"input:focus\")\r\n\t\t\t\t\t\t\t\t\t\t\t.blur();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tpassiveListeners: false,\r\n\t\t\t\t\t\t\t\tthreshold: 21\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tref={swiperRef}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{virtualSlides?.slides &&\r\n\t\t\t\t\t\t\t\tmounted &&\r\n\t\t\t\t\t\t\t\tvirtualSlides.slides.map((question: IQuestion) => {\r\n\t\t\t\t\t\t\t\t\tconst answer = visitManager.getAnswer(question.id);\r\n\t\t\t\t\t\t\t\t\tconst prevAnswer = visitManager.getPrevAnswer(question.id);\r\n\t\t\t\t\t\t\t\t\tconst questionIdx = questions.findIndex(q => q.id === question.id);\r\n\t\t\t\t\t\t\t\t\tconst slideActive = questions[swiperRef.current.swiper.realIndex].id == question.id;\r\n\t\t\t\t\t\t\t\t\tconst validationErrors = visitManager.validateAnswer(answer);\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<SwiperSlide\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ left: `${virtualSlides.offset}px` }}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={question.id}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={qstSlideClassName}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<QstContext.Provider\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanswer,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprevAnswer,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprevVisitDate: prevVisit?.dateEnd,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tslideActive: slideActive,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidationErrors: validationErrors,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanswerIsValid: !validationErrors.filter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te => e.type == ValidationErrorType.RequiredAnswer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t).length,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tattachPhotoIsValid: !validationErrors.filter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te => e.type == ValidationErrorType.RequiredPhoto\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t).length\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<QuestionSlide\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tquestion={question}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanswer={answer}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tswiperRef={swiperRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisitManager={visitManager}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tquestionIdx={questionIdx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</QstContext.Provider>\r\n\t\t\t\t\t\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Swiper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{questions.length === 0 ? null : (\r\n\t\t\t\t<SwiperBar\r\n\t\t\t\t\tfinish={slideState.finished}\r\n\t\t\t\t\tstart={swiperRef.current ? swiperRef.current.swiper.realIndex === 0 : true}\r\n\t\t\t\t\tprevClick={() => swiperRef.current && swiperRef.current.swiper.slidePrev()}\r\n\t\t\t\t\tnextClick={() => swiperRef.current && swiperRef.current.swiper.slideNext()}\r\n\t\t\t\t\treportClick={toReport}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<QuizActions\r\n\t\t\t\tref={actionsRef}\r\n\t\t\t\textend\r\n\t\t\t\tactions={() => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ActionSheetItem\r\n\t\t\t\t\t\t\tonClick={() => toReport()}\r\n\t\t\t\t\t\t\ttext={t(\"Report\")}\r\n\t\t\t\t\t\t\trenderIcon={() => <ActionSheetReportIcon />}\r\n\t\t\t\t\t\t\ticonStyles={s.reportIcon}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<ActionSheetItem\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst closed = new Promise(resolve =>\r\n\t\t\t\t\t\t\t\t\tactionsRef.current.f7Actions.once(\"closed\", () => resolve())\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tconst dialog = Dialog.create({\r\n\t\t\t\t\t\t\t\t\ttitle: t(\"Delete draft\"),\r\n\t\t\t\t\t\t\t\t\ttext: t(\"Are you sure you want to delete the draft?\"),\r\n\t\t\t\t\t\t\t\t\tcloseByBackdropClick: true,\r\n\t\t\t\t\t\t\t\t\tbuttons: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: t(\"Cancel\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: t(\"Delete\"),\r\n\t\t\t\t\t\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst visitAnswersFiles = visitManager.getAnswersFiles();\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst deleteAnswersFiles = quizDraftService.removeFiles(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisitAnswersFiles\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst deleteDraft = quizDraftService.delete(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.outlet.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.questionnaire.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn Promise.all([closed, deleteDraft, deleteAnswersFiles]).then(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetQstChanged(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tToast.create({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t(\"Questionnaire draft was deleted\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).open();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnav.back();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tdialog.open();\r\n\t\t\t\t\t\t\t\treturn void 0;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttext={t(\"Delete draft\")}\r\n\t\t\t\t\t\t\ticon={[\"far\", \"trash-alt\"]}\r\n\t\t\t\t\t\t\tcolorType={ColorTypes.danger}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t);\r\n});\r\nQuestionnaire.displayName = \"Questionnaire\";\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { QuizNavBar, QuizNavBarProps } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { getQuestionnaireNavbarStyles } from \"./questionnaireNavbarStyles\";\r\nimport { Fragment } from \"react\";\r\n\r\ntype QuestionnaireNavbarProps = Pick<QuizNavBarProps, \"title\" | \"actions\" | \"noShadow\">;\r\n\r\nexport const QuestionnaireNavbar: React.FC<QuestionnaireNavbarProps> = React.memo(props => {\r\n\tconst { children, ...navbarProps } = props;\r\n\tconst s = useStyles(getQuestionnaireNavbarStyles, props.noShadow);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<QuizNavBar styles={s.navbar} {...navbarProps} backLink>\r\n\t\t\t\t{children}\r\n\t\t\t</QuizNavBar>\r\n\t\t</Fragment>\r\n\t);\r\n});\r\nQuestionnaireNavbar.displayName = \"f7-navbar\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQuestionnaireNavbarStyles = (theme: Theme, noShadow: boolean) => {\r\n\treturn {\r\n\t\tnavbar: {\r\n\t\t\tboxShadow: noShadow ? \"none\" : theme.shadows.down.md,\r\n\t\t\theight: \"calc(60px + var(--f7-safe-area-top))\" //toDO\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { ErrorBoundary } from \"quiz/components/errorBoundary/ErrorBoundary\";\r\nimport { QuestionView } from \"../../questionView/QuestionView\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { Question } from \"../../question/Question\";\r\nimport { VisitManager } from \"quiz/pages/questionnaire/VisitManager\";\r\nimport { IQuestion, VisitAnswer } from \"quiz/services/models\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getQuestionSlideStyles } from \"./questionSlideStyles\";\r\n\r\ntype SwiperSlideProps = {\r\n\tvisitManager: VisitManager;\r\n\tswiperRef: any;\r\n\tanswer: VisitAnswer;\r\n\tquestion: IQuestion;\r\n\tquestionIdx: number;\r\n};\r\n\r\nexport const QuestionSlide: React.FC<SwiperSlideProps> = React.memo(\r\n\t({ visitManager, swiperRef, answer, question, questionIdx }) => {\r\n\t\tconst s = useStyles(getQuestionSlideStyles, !!question.description);\r\n\t\treturn (\r\n\t\t\t<ErrorBoundary>\r\n\t\t\t\t<div className={css(s.top)}>\r\n\t\t\t\t\t<Block styles={s.block} secondary>\r\n\t\t\t\t\t\t<QuestionView\r\n\t\t\t\t\t\t\tquestion={question}\r\n\t\t\t\t\t\t\tidx={questionIdx + 1}\r\n\t\t\t\t\t\t\ttotalQuestions={visitManager.getTotalQuestions()}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Block>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<Question\r\n\t\t\t\t\t\tquestion={question}\r\n\t\t\t\t\t\tvisitManager={visitManager}\r\n\t\t\t\t\t\tanswer={answer}\r\n\t\t\t\t\t\ttoNextQuestion={() => swiperRef.current && swiperRef.current.swiper.slideNext()} //toDO: timeout\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</ErrorBoundary>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nQuestionSlide.displayName = \"QuestionSlide\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport function getQuestionSlideStyles(theme: Theme, descriptionExists) {\r\n\treturn {\r\n\t\ttop: {\r\n\t\t\tpaddingTop: scale(theme.sizing.sizes.xs, ScaleEnum.Triple)\r\n\t\t},\r\n\t\tblock: {\r\n\t\t\tpaddingRight: descriptionExists ? 0 : theme.constants.gridPadding\r\n\t\t} as CSSProp\r\n\t};\r\n}\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport function getQuestionnaireStyles(theme: Theme) {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\theight: \"100%\",\r\n\t\t\tdisplay: \"block\",\r\n\t\t\toverflowY: \"hidden\"\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\theight: \"100%\",\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tmarginBottom: scale(theme.sizing.sizes.lg, ScaleEnum.Double),\r\n\t\t\toverflowY: \"scroll\"\r\n\t\t} as CSSProp,\r\n\t\ttop: {\r\n\t\t\tpaddingTop: scale(theme.sizing.sizes.xs, ScaleEnum.Triple)\r\n\t\t},\r\n\t\tquestion: {\r\n\t\t\tmarginTop: theme.sizing.sizes.lg\r\n\t\t},\r\n\t\tbacklink: {\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tpaddingRight: 0\r\n\t\t} as CSSProp,\r\n\t\tsubmitButtonWrap: {\r\n\t\t\tpadding: `${theme.sizing.sizes.md} 0 ${theme.sizing.sizes.xl}`\r\n\t\t} as CSSProp,\r\n\t\tactionGroupIcon: {\r\n\t\t\tmarginRight: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\treportIcon: {\r\n\t\t\twidth: theme.sizing.sizes.md\r\n\t\t} as CSSProp\r\n\t};\r\n}\r\n","import React from \"react\";\r\n\r\nexport const ReportIcon: React.FC<{ size: number }> = React.memo(({ size }) => (\r\n\t<svg width={size} height={size} viewBox={`0 0 48 48`} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<path\r\n\t\t\td=\"M15 34V21H12C10.3431 21 9 22.3431 9 24V34C9 35.6569 10.3431 37 12 37C13.6569 37 15 35.6569 15 34Z\"\r\n\t\t\tstroke=\"#29ABE2\"\r\n\t\t\tstrokeWidth=\"2\"\r\n\t\t/>\r\n\t\t<path\r\n\t\t\td=\"M15 21V14C15 12.3431 16.3431 11 18 11H36C37.6569 11 39 12.3431 39 14V34C39 35.6569 37.6569 37 36 37H12\"\r\n\t\t\tstroke=\"#29ABE2\"\r\n\t\t\tstrokeWidth=\"2\"\r\n\t\t/>\r\n\t\t<path d=\"M21 32H33\" stroke=\"#29ABE2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M21 22H33\" stroke=\"#29ABE2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M21 27H27\" stroke=\"#29ABE2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M21 17H30\" stroke=\"#29ABE2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t</svg>\r\n)); //todo: sizings\r\nReportIcon.displayName = \"ReportIcon\";\r\n\r\nexport const ActionSheetReportIcon = React.memo(() => (\r\n\t<svg width=\"18\" height=\"16\" viewBox=\"0 0 18 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<path\r\n\t\t\td=\"M4.1546 13.0617V6.38477H2.92383C1.81926 6.38477 0.923828 7.2802 0.923828 8.38477V13.7079C0.923828 14.4216 1.50242 15.0002 2.21614 15.0002C3.28672 15.0002 4.1546 14.1323 4.1546 13.0617Z\"\r\n\t\t\tstroke=\"#29ABE2\"\r\n\t\t\tstrokeWidth=\"1.5\"\r\n\t\t/>\r\n\t\t<path\r\n\t\t\td=\"M4.15445 6.38463V3C4.15445 1.89543 5.04988 1 6.15445 1H15.0776C16.1821 1 17.0776 1.89543 17.0776 3V12C17.0776 13.6569 15.7344 15 14.0776 15H2.53906\"\r\n\t\t\tstroke=\"#29ABE2\"\r\n\t\t\tstrokeWidth=\"1.5\"\r\n\t\t/>\r\n\t\t<path d=\"M8 8H13\" stroke=\"#29ABE2\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M8 11H10\" stroke=\"#29ABE2\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M8 5H11\" stroke=\"#29ABE2\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n\t</svg>\r\n));\r\nActionSheetReportIcon.displayName = \"ActionSheetReportIcon\";\r\n\r\nexport const LeftAngleIcon = React.memo(() => {\r\n\treturn (\r\n\t\t<svg width=\"19\" height=\"18\" viewBox=\"0 0 19 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path d=\"M8 1L2 9M2 9L8 17M2 9H18\" stroke=\"#29ABE2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t</svg>\r\n\t);\r\n});\r\nLeftAngleIcon.displayName = \"LeftAngleIcon\";\r\n\r\nexport const RightAngleIcon = React.memo(() => {\r\n\treturn (\r\n\t\t<svg width=\"19\" height=\"18\" viewBox=\"0 0 19 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path d=\"M11 1L17 9M17 9L11 17M17 9H1\" stroke=\"#29ABE2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t</svg>\r\n\t);\r\n});\r\nRightAngleIcon.displayName = \"RightAngleIcon\";\r\n\r\nexport const CheckIcon = React.memo(() => {\r\n\treturn (\r\n\t\t<svg width=\"24\" height=\"18\" viewBox=\"0 0 24 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path d=\"M23 1L8 16L1 9\" stroke=\"#29ABE2\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t</svg>\r\n\t);\r\n});\r\nCheckIcon.displayName = \"CheckIcon\";\r\n","import { ButtonType } from \"quiz/components/button/Button\";\r\nimport { MobileActionButton, MobileActionButtonProps } from \"quiz/components/button/MobileActionButton\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getSwiperBarStyles } from \"./swiperBarStyles\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { CheckIcon, LeftAngleIcon, ReportIcon, RightAngleIcon } from \"./CustomIcons\";\r\n\r\ntype SwiperButtonProps = Pick<MobileActionButtonProps, \"command\" | \"icon\">;\r\n\r\nconst SwiperButton: React.FC<SwiperButtonProps> = React.memo(props => {\r\n\treturn (\r\n\t\t<MobileActionButton type={ButtonType.link} fullWidth fullHeight command={props.command}>\r\n\t\t\t{props.children}\r\n\t\t</MobileActionButton>\r\n\t);\r\n});\r\nSwiperButton.displayName = \"SwiperButton\";\r\n\r\ntype SwiperBarProps = {\r\n\tfinish: boolean;\r\n\tstart: boolean;\r\n\tprevClick(): void;\r\n\tnextClick(): void;\r\n\treportClick(): void;\r\n};\r\n\r\nexport const SwiperBar: React.FC<SwiperBarProps> = React.memo(props => {\r\n\tconst styles = useStyles(getSwiperBarStyles);\r\n\tconst { finish, start, prevClick, nextClick, reportClick } = props;\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.tabBar)}>\r\n\t\t\t<div className={css(styles.swiperButtons)}>\r\n\t\t\t\t<div className={css(styles.buttonWrap)}>\r\n\t\t\t\t\t{!start && (\r\n\t\t\t\t\t\t<SwiperButton command={prevClick.bind(props)}>\r\n\t\t\t\t\t\t\t<LeftAngleIcon />\r\n\t\t\t\t\t\t</SwiperButton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={css(styles.buttonWrap)}>\r\n\t\t\t\t\t{!finish && (\r\n\t\t\t\t\t\t<SwiperButton command={() => reportClick()}>\r\n\t\t\t\t\t\t\t<ReportIcon size={48} />\r\n\t\t\t\t\t\t</SwiperButton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{finish ? (\r\n\t\t\t\t\t<SwiperButton command={reportClick.bind(props)}>\r\n\t\t\t\t\t\t<CheckIcon />\r\n\t\t\t\t\t</SwiperButton>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<SwiperButton command={nextClick.bind(props)}>\r\n\t\t\t\t\t\t<RightAngleIcon />\r\n\t\t\t\t\t</SwiperButton>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className={css(styles.buttonsSignatures)}>\r\n\t\t\t\t<div className={css(styles.signature)}>\r\n\t\t\t\t\t{!start && <Text styles={styles.signature}>{t(\"Previous\")}</Text>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={css(styles.signature)}>\r\n\t\t\t\t\t{!finish && <Text styles={styles.signature}>{t(\"Report\")}</Text>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Text styles={styles.signature}>{finish ? t(\"Finish\") : t(\"Next\")}</Text>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\nSwiperBar.displayName = \"SwiperBar\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport function getSwiperBarStyles(theme: Theme) {\r\n\treturn {\r\n\t\ttabBar: {\r\n\t\t\tposition: \"fixed\",\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: \"100%\",\r\n\t\t\theight: scale(theme.sizing.sizes.xl, ScaleEnum.Double),\r\n\t\t\tbackground: \"#FFF\",\r\n\t\t\tboxShadow: theme.shadows.up.md,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t\tpaddingBottom: `calc(env(safe-area-inset-bottom) + ${theme.sizing.sizes.sm})`\r\n\t\t} as CSSProp,\r\n\t\tswiperButtons: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tjustifyContent: \"space-around\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tzIndex: 100\r\n\t\t} as CSSProp,\r\n\t\tbuttonsSignatures: {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tbottom: theme.sizing.sizes.xs,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-around\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tzIndex: -1\r\n\t\t} as CSSProp,\r\n\t\tsignature: {\r\n\t\t\tdisplay: \"inline-block\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tfontSize: \"10px\",\r\n\t\t\ttextAlign: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tmapButtonWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tposition: \"relative\"\r\n\t\t} as CSSProp,\r\n\t\tbuttonWrap: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tbutton: {\r\n\t\t\theight: \"100%\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp\r\n\t};\r\n}\r\n","import React from \"react\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { T } from \"../text/T\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getQuizEmptyListStyles } from \"./quizEmpyListStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\n\r\nexport interface QuizEmptyListProps {\r\n\ticon?: JSX.Element;\r\n\ttitle?: string;\r\n\tseparateBlock?: boolean;\r\n}\r\n\r\nconst emptyQuiz = (color: string): JSX.Element => {\r\n\treturn (\r\n\t\t<svg width=\"22\" height=\"24\" viewBox=\"0 0 22 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path\r\n\t\t\t\td=\"M19 12V3C19 1.89543 18.1046 1 17 1H3C1.89543 1 1 1.89543 1 3V21C1 22.1046 1.89543 23 3 23H10\"\r\n\t\t\t\tstroke={color}\r\n\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t/>\r\n\t\t\t<path d=\"M5 6H6\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t\t<path d=\"M9 6H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t\t<path d=\"M5 11H6\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t\t<path d=\"M9 11H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t\t<path d=\"M5 16H6\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t\t<path d=\"M9 16H11\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t\t<path d=\"M15 17L21 23\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t\t<path d=\"M21 17L15 23\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport const QuizEmptyList: React.FC<QuizEmptyListProps> = props => {\r\n\tconst styles = useStyles(getQuizEmptyListStyles, props.separateBlock);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\treturn (\r\n\t\t<Block styles={styles.wrap} secondary>\r\n\t\t\t<div className={css(styles.content)}>\r\n\t\t\t\t<div className={css(styles.icon)}>{props.icon || emptyQuiz(theme.colors.base.border)}</div>\r\n\t\t\t\t<T styles={styles.title} size={TextSizeType.body}>\r\n\t\t\t\t\t{props.title || t(\"Empty list\")}\r\n\t\t\t\t</T>\r\n\t\t\t</div>\r\n\t\t</Block>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { QuizEmptyList, QuizEmptyListProps } from \"./QuizEmptyList\";\r\nimport { SimpleListSkeleton } from \"../quizSkeleton/SkeletonList/SkeletonList\";\r\nimport { List } from \"quiz/components/listView/ListView\";\r\nimport { QuizError } from \"../errors/QuizError\";\r\n\r\ninterface QuizListProps {\r\n\tisLoading: boolean;\r\n\tisEmpty: boolean;\r\n\temptyList?: QuizEmptyListProps;\r\n\terrors: Error[];\r\n\tseparateErrorBlock?: boolean;\r\n\tloading?: () => React.ReactElement;\r\n\tnoHairlines?: boolean;\r\n}\r\n\r\nexport const QuizList: React.FC<QuizListProps> = React.memo(props => {\r\n\tconst errors = props.errors.filter(x => x);\r\n\tconst loading = () => (props.loading ? props.loading() : <SimpleListSkeleton totalBlocks={3} />);\r\n\tconst errorsBlock = () =>\r\n\t\terrors.map((err, idx) => <QuizError key={idx} error={err} separateBlock={props.separateErrorBlock} />);\r\n\tconst list = () => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{props.isEmpty ? (\r\n\t\t\t\t\t<QuizEmptyList {...props.emptyList} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<List noHairlines={props.noHairlines}>{props.children}</List>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\treturn <>{props.isLoading && !errors.length ? loading() : errors.length ? <div>{errorsBlock()}</div> : list()}</>;\r\n});\r\n\r\nQuizList.displayName = \"f7-list\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQuizEmptyListStyles = (theme: Theme, separateBlock: boolean) => {\r\n\tconst wrapMarginTop = separateBlock ? theme.sizing.sizes.md : \"unset\";\r\n\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tpadding: `${theme.sizing.sizes.md} 0`,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tmarginTop: wrapMarginTop\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tpadding: `${theme.sizing.sizes.md}`\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tmarginRight: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\tcolor: theme.colors.base.border\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css } from \"aphrodite\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { Icon, IconProp } from \"quiz/components/icon/Icon\";\r\nimport { getQuizListInputItemStyles } from \"./quizListInputItemStyles\";\r\nimport { QstListItemProps } from \"../questionListView/QuestionListItem\";\r\nimport { useKeyboardEnter } from \"hooks/useKeyboardEnter\";\r\nimport { TextWithIcon } from \"../question/common/textWithIcon/TextWithIcon\";\r\n\r\nexport interface QuizListInputItemProps extends QstListItemProps {\r\n\tvalue: string;\r\n\tplaceholder?: string;\r\n\ticon: IconProp;\r\n\ttype?: \"number\" | \"text\" | \"password\";\r\n\tinputMode?: \"decimal\" | \"numeric\" | \"email\" | \"text\" | \"url\";\r\n\tdanger?: boolean;\r\n\tonChange: (val: string) => void;\r\n\trequired?: boolean;\r\n}\r\n\r\nexport const QuizListInputItem: React.FC<QuizListInputItemProps> = props => {\r\n\tconst style = useStyles(getQuizListInputItemStyles);\r\n\tconst ref = React.useRef<HTMLInputElement>();\r\n\tconst enter = useKeyboardEnter();\r\n\r\n\treturn (\r\n\t\t<div className={css(props.dash && style.dash, props.danger && style.danger)}>\r\n\t\t\t<TextWithIcon icon={props.icon} styles={props.danger && style.danger}>\r\n\t\t\t\t<div className={css(style.inputWrap)}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype={props.type || \"text\"}\r\n\t\t\t\t\t\tinputMode={props.inputMode || \"text\"}\r\n\t\t\t\t\t\tplaceholder={t(props.placeholder) || t(\"Enter an answer\")}\r\n\t\t\t\t\t\tvalue={props.value || \"\"}\r\n\t\t\t\t\t\tonInput={e => props.onChange((e.target as any).value)}\r\n\t\t\t\t\t\tonChange={e => props.onChange((e.target as any).value)}\r\n\t\t\t\t\t\tonKeyDown={enter}\r\n\t\t\t\t\t\tclassName={css(style.input, props.danger && style.danger)}\r\n\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</div>\r\n\t\t\t\t{props.value?.length > 0 ? (\r\n\t\t\t\t\t<Icon\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tprops.onChange(\"\");\r\n\t\t\t\t\t\t\tref.current.focus();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ticon={[\"far\", \"times\"]}\r\n\t\t\t\t\t\tstyles={style.icon}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tprops.required && <Icon icon={[\"fas\", \"asterisk\"]} styles={style.asterisk} />\r\n\t\t\t\t)}\r\n\t\t\t</TextWithIcon>\r\n\t\t</div>\r\n\t);\r\n};\r\nQuizListInputItem.displayName = \"QuizListInputItem\";\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\nimport { Theme } from \"theme/theme\";\r\n\r\nexport const getQuizListInputItemStyles = (theme: Theme) => ({\r\n\tinput: {\r\n\t\toutline: \"none\",\r\n\t\t\"::placeholder\": {\r\n\t\t\tcolor: theme.colors.base.texts.muted\r\n\t\t},\r\n\t\twidth: \"100%\"\r\n\t} as CSSProp,\r\n\tinputWrap: {\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t\talignItems: \"center\",\r\n\t\twidth: \"100%\",\r\n\t\tmarginRight: theme.sizing.sizes.sm,\r\n\t\tcolor: theme.colors.base.text,\r\n\t\tflex: 1\r\n\t} as CSSProp,\r\n\ticon: {\r\n\t\tcolor: theme.colors.base.border\r\n\t},\r\n\tdash: {\r\n\t\tborderBottom: `1px dashed ${theme.colors.base.border}`\r\n\t},\r\n\tdanger: {\r\n\t\tcolor: theme.colors.danger.main\r\n\t},\r\n\tasterisk: {\r\n\t\tcolor: theme.colors.danger.main,\r\n\t\tfontWeight: theme.sizing.fontWeights.bold,\r\n\t\tfontSize: theme.sizing.sizes.sm\r\n\t} as CSSProp\r\n});\r\n","import { List, ListItem as ListItemBase, ListInput, F7ListItem } from \"framework7-react\";\r\nimport { quizListItemStyles } from \"./quizListItemStyles\";\r\nimport * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\n\r\nexport const QuizListItem: React.FC<F7ListItem.Props> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<style>{quizListItemStyles(theme)}</style>\r\n\t\t\t<ListItemBase {...props} className=\"quiz_ListItem\" />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nQuizListItem.displayName = \"f7-list-item\";\r\n","import { Theme } from \"theme/theme\";\r\n\r\nexport const quizListItemStyles = (theme: Theme): string =>\r\n\t`.quiz_ListItem .simple-list li:after, .links-list a:after, .list .item-inner:after {\r\n\t\twidth: unset;\r\n\t\tright: ${theme.constants.gridPadding};\r\n\t}`.trim();\r\n","import { Navbar, NavRight } from \"quiz/components/navbar/Navbar\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { css, StyleDeclarationValue } from \"wraps/styleCreators\";\r\nimport { getQuizNavBarStyles } from \"./quizNavBarStyles\";\r\nimport { QuizNavLeft } from \"./quizNavLeft/QuizNavLeft\";\r\nimport { ActionSheetLink } from \"./icons/actionSheetLink/ActionSheetLink\";\r\nimport { SearchLink } from \"./icons/searchLink/SearchLink\";\r\nimport { FAQLink } from \"./icons/faqLink/FAQLink\";\r\n\r\nexport interface QuizNavBarProps {\r\n\ttitle: string;\r\n\tsubtitle?: string;\r\n\tbackLink?: boolean;\r\n\tsearch?: boolean;\r\n\tsettings?: boolean;\r\n\tstyles?: StyleDeclarationValue;\r\n\tdark?: boolean;\r\n\tnoShadow?: boolean;\r\n\tactions?: {\r\n\t\tshow?: boolean;\r\n\t\tcb?: () => void;\r\n\t};\r\n\tfaq?: boolean;\r\n}\r\n\r\nexport interface QuizNavIconProps {\r\n\tclickAction?: () => void;\r\n}\r\n\r\nexport const QuizNavBar: React.FC<QuizNavBarProps> = props => {\r\n\tconst styles = useStyles(getQuizNavBarStyles, { noShadow: props.noShadow });\r\n\r\n\treturn (\r\n\t\t<Navbar\r\n\t\t\tclassName={`${css(styles.navbar, props.styles)} ${props.dark != null ? \"navbar-photo-browser-dark\" : \"\"}`}\r\n\t\t>\r\n\t\t\t<QuizNavLeft backLink={props.backLink} title={props.title} subtitle={props.subtitle} />\r\n\t\t\t<NavRight>\r\n\t\t\t\t{props.faq && <FAQLink />}\r\n\t\t\t\t{props.search && <SearchLink />}\r\n\t\t\t\t{props?.actions?.show && <ActionSheetLink onClick={() => props.actions.cb()} />}\r\n\t\t\t</NavRight>\r\n\t\t\t{props.children}\r\n\t\t</Navbar>\r\n\t);\r\n};\r\nQuizNavBar.displayName = \"f7-navbar\";\r\n","import { IconWrap } from \"quiz/components/iconWrap/IconWrap\";\r\nimport { Link } from \"quiz/components/link/Link\";\r\nimport * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\n\r\ntype ActionSheetLinkProps = {\r\n\tonClick: () => void;\r\n};\r\n\r\nexport const ActionSheetLink: React.FC<ActionSheetLinkProps> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\treturn (\r\n\t\t<Link onClick={props.onClick}>\r\n\t\t\t<IconWrap icon={[\"far\", \"ellipsis-v\"]} alignment=\"center-right\" iconSize={theme.sizing.sizes.md} />\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nActionSheetLink.displayName = \"ActionSheetLink\";\r\n","import { Link } from \"framework7-react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { IconWrap } from \"quiz/components/iconWrap/IconWrap\";\r\nimport { nav } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getBackLinkStyles } from \"./backLinkStyles\";\r\n\r\nconst navbackCb = () => nav.back();\r\n\r\nexport type BackLinkProps = {\r\n\tnoMargin?: boolean;\r\n};\r\n\r\nexport const BackLink: React.FC<BackLinkProps> = props => {\r\n\tconst styles = useStyles(getBackLinkStyles, props);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\treturn (\r\n\t\t<Link onClick={navbackCb} className={css(styles.link)}>\r\n\t\t\t<IconWrap icon={[\"far\", \"angle-left\"]} alignment=\"center-left\" iconSize={theme.sizing.sizes.md} />\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nBackLink.displayName = \"BackLink\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { BackLinkProps } from \"./BackLink\";\r\n\r\nexport const getBackLinkStyles = (theme: Theme, props: BackLinkProps) => {\r\n\treturn {\r\n\t\tlink: {\r\n\t\t\tmarginRight: props.noMargin ? \"unset\" : scale(theme.sizing.sizes.lg, ScaleEnum.Half)\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { IconWrap } from \"quiz/components/iconWrap/IconWrap\";\r\nimport { Link } from \"quiz/components/link/Link\";\r\nimport * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { navToFAQ } from \"utils/helpers\";\r\n\r\nexport const FAQLink: React.FC = () => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\treturn (\r\n\t\t<Link onClick={navToFAQ}>\r\n\t\t\t<IconWrap icon={[\"far\", \"life-ring\"]} alignment=\"center-right\" iconSize={theme.sizing.sizes.md} />\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nFAQLink.displayName = \"FAQLink\";\r\n","import { IconWrap } from \"quiz/components/iconWrap/IconWrap\";\r\nimport { Link } from \"quiz/components/link/Link\";\r\nimport { nav } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\n\r\nconst searchCb = () => nav.toSearchPage();\r\n\r\nexport const SearchLink: React.FC = () => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\treturn (\r\n\t\t<Link onClick={searchCb}>\r\n\t\t\t<IconWrap icon={[\"far\", \"search\"]} alignment=\"center-right\" iconSize={theme.sizing.sizes.md} />\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nSearchLink.displayName = \"SearchLink\";\r\n","import { useStyles } from \"hooks/useStyles\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport React from \"react\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { getNavTitleTextStyles } from \"./navTitleTextStyles\";\r\n\r\ntype NavTitleProps = {\r\n\ttext: string;\r\n};\r\n\r\nexport const NavTitleText: React.FC<NavTitleProps> = props => {\r\n\tconst styles = useStyles(getNavTitleTextStyles);\r\n\r\n\treturn (\r\n\t\t<T styles={styles.text} bold size={TextSizeType.body}>\r\n\t\t\t{props.text}\r\n\t\t</T>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getNavTitleTextStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\ttext: {\r\n\t\t\ttextOverflow: \"ellipsis\",\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\twhiteSpace: \"nowrap\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import React from \"react\";\r\n\r\nexport const OfflineIcon = React.memo(() => {\r\n\treturn (\r\n\t\t<svg width=\"16\" height=\"13\" viewBox=\"0 0 16 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path\r\n\t\t\t\td=\"M12.9 4.69332C12.4467 2.39332 10.4267 0.666656 8 0.666656C7.01333 0.666656 6.1 0.953323 5.32667 1.44666L6.3 2.41999C6.80667 2.15332 7.38667 1.99999 8 1.99999C10.0267 1.99999 11.6667 3.63999 11.6667 5.66666V5.99999H12.6667C13.7733 5.99999 14.6667 6.89332 14.6667 7.99999C14.6667 8.75332 14.24 9.40666 13.6267 9.74666L14.5933 10.7133C15.44 10.1067 16 9.11999 16 7.99999C16 6.23999 14.6333 4.81332 12.9 4.69332ZM2 1.51332L3.83333 3.33999C1.70667 3.43332 0 5.17999 0 7.33332C0 9.53999 1.79333 11.3333 4 11.3333H11.82L13.1533 12.6667L14 11.82L2.84667 0.666656L2 1.51332ZM5.15333 4.66666L10.4867 9.99999H4C2.52667 9.99999 1.33333 8.80666 1.33333 7.33332C1.33333 5.85999 2.52667 4.66666 4 4.66666H5.15333Z\"\r\n\t\t\t\tfill=\"#FF823C\"\r\n\t\t\t/>\r\n\t\t</svg>\r\n\t);\r\n});\r\n\r\nOfflineIcon.displayName = \"OfflineIcon\";\r\n","import { useNavigatorOnLine } from \"hooks/useNavigatorOnline\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport React from \"react\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { OfflineIcon } from \"./OfflineIcon\";\r\nimport { getOfflineIndicatorStyles } from \"./offlineIndicatorStyles\";\r\n\r\nexport const OfflineIndicator: React.FC = () => {\r\n\tconst styles = useStyles(getOfflineIndicatorStyles);\r\n\tconst isOnline = useNavigatorOnLine();\r\n\treturn (\r\n\t\t!isOnline && (\r\n\t\t\t<div className={css(styles.wrap)}>\r\n\t\t\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t\t\t<OfflineIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<T muted size={TextSizeType.caption}>\r\n\t\t\t\t\t{\"Wating for connection ...\"}\r\n\t\t\t\t</T>\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getOfflineIndicatorStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\tmarginRight: theme.sizing.sizes.sm\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { QuizNavBarProps } from \"./QuizNavBar\";\r\n\r\nexport const getQuizNavBarStyles = (theme: Theme, props: Pick<QuizNavBarProps, \"noShadow\">) => {\r\n\treturn {\r\n\t\tnavbar: {\r\n\t\t\tboxShadow: props.noShadow ? \"none\" : theme.shadows.normal\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport React from \"react\";\r\nimport { QuizNavBarProps } from \"../QuizNavBar\";\r\nimport { NavLeft, NavTitle } from \"quiz/components/navbar/Navbar\";\r\nimport { NavTitleText } from \"../navTitleText/NavTitleText\";\r\nimport { OfflineIndicator } from \"../offlineIndicator/OfflineIndicator\";\r\nimport { getQuizNavLeftStyles } from \"./quizNavLeftStyles\";\r\nimport { BackLink } from \"../icons/backlink/BackLink\";\r\n\r\nexport const QuizNavLeft: React.FC<Pick<QuizNavBarProps, \"backLink\" | \"title\" | \"subtitle\">> = props => {\r\n\tconst styles = useStyles(getQuizNavLeftStyles, props);\r\n\treturn (\r\n\t\t<NavLeft className={css(styles.navLeft)}>\r\n\t\t\t{props.backLink && <BackLink />}\r\n\t\t\t<NavTitle className={css(styles.navtitle)}>\r\n\t\t\t\t<NavTitleText text={props.title} />\r\n\t\t\t\t<OfflineIndicator />\r\n\t\t\t</NavTitle>\r\n\t\t</NavLeft>\r\n\t);\r\n};\r\nQuizNavLeft.displayName = \"f7-nav-left\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { QuizNavBarProps } from \"../QuizNavBar\";\r\n\r\nexport const getQuizNavLeftStyles = (theme: Theme, props: Pick<QuizNavBarProps, \"backLink\" | \"noShadow\">) => {\r\n\treturn {\r\n\t\tnavtitle: {\r\n\t\t\t//marginLeft: props.backLink ? 0 : theme.constants.gridPadding,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\tflexWrap: \"nowrap\",\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\toverflow: \"hidden\"\r\n\t\t} as CSSProp,\r\n\t\tnavLeft: {\r\n\t\t\tflexShrink: \"unset\",\r\n\t\t\tminWidth: \"0\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { css, CSSProp, StyleDeclarationValue } from \"wraps/styleCreators\";\r\n\r\nconst getInlineGroupStyles = () => {\r\n\treturn {\r\n\t\tinlineGroupWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\ninterface InlineGroupProps {\r\n\tstyles?: StyleDeclarationValue;\r\n}\r\n\r\nexport const InlineGroup: React.FunctionComponent<InlineGroupProps> = props => {\r\n\tconst styles = useStyles(getInlineGroupStyles);\r\n\treturn <div className={css(styles.inlineGroupWrap, props.styles)}>{props.children}</div>;\r\n};\r\n","import { TActions } from \"quiz/components/actions/Actions\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\nimport { quizAuthService, t } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { QuizNavBar, QuizNavBarProps } from \"../quizNavBar/QuizNavBar\";\r\nimport { ErrorBoundary } from \"../errorBoundary/ErrorBoundary\";\r\nimport { F7PageEvents } from \"quiz/services/QuizNavigationManager\";\r\nimport { QuizActions } from \"../actions/QuizActions\";\r\nimport { f7 } from \"framework7-react\";\r\nimport { FullscreenInfo } from \"../infoBlock/fullscreenInfoBlock/FullscreenInfo\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { userNotMatchedIcon } from \"../infoScreenIcons/userNotMatchedIcon\";\r\n\r\nconst PERMISSION_ERROR = \"User does not have permission to access the application\";\r\nconst PROFILE_ERROR = \"Your profile is not mapped to the employee directory\";\r\n\r\ninterface QuizPageProps {\r\n\tcomponent: React.FC | React.ComponentClass;\r\n\tcomponentProps: any;\r\n\tnavbar?: QuizNavBarProps;\r\n\tbackLink?: boolean;\r\n\tonSearch?: (query: string) => void;\r\n\tonError?: () => void;\r\n\tpageEvents?: F7PageEvents;\r\n}\r\n\r\nexport const QuizPage: React.FC<QuizPageProps> = props => {\r\n\tconst [title, setTitle] = React.useState<string>(props.navbar?.title);\r\n\tconst [subtitle, setSubtitle] = React.useState<string>();\r\n\tconst [actions, setActions] = React.useState();\r\n\tconst [search, setSearch] = React.useState();\r\n\tconst actionsRef = React.useRef<TActions>();\r\n\r\n\tconst errors = [\r\n\t\t!quizAuthService.hasAccessToQuiz() && PERMISSION_ERROR,\r\n\t\t!quizAuthService.state.user.employee && PROFILE_ERROR\r\n\t].filter(x => x);\r\n\r\n\tconst content = React.useCallback(() => {\r\n\t\tconst Component = props.component;\r\n\t\treturn (\r\n\t\t\t<ErrorBoundary>\r\n\t\t\t\t<Component\r\n\t\t\t\t\t{...props.componentProps}\r\n\t\t\t\t\tsetTitle={setTitle}\r\n\t\t\t\t\tsetSubtitle={setSubtitle}\r\n\t\t\t\t\tsetActions={setActions}\r\n\t\t\t\t\tsetSearch={setSearch}\r\n\t\t\t\t/>\r\n\t\t\t</ErrorBoundary>\r\n\t\t);\r\n\t}, [props.component, props.componentProps]);\r\n\r\n\treturn (\r\n\t\t<Page {...props.pageEvents}>\r\n\t\t\t{props.navbar && title && (\r\n\t\t\t\t<QuizNavBar\r\n\t\t\t\t\tbackLink={props.backLink}\r\n\t\t\t\t\t{...props.navbar}\r\n\t\t\t\t\ttitle={title}\r\n\t\t\t\t\tsubtitle={subtitle ?? props.navbar.subtitle}\r\n\t\t\t\t\tsearch={errors.length ? false : search ?? props.navbar.search}\r\n\t\t\t\t\tactions={{\r\n\t\t\t\t\t\tshow: props.navbar.actions?.show,\r\n\t\t\t\t\t\tcb: () => props.navbar.actions && actionsRef.current.open()\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{errors.length ? (\r\n\t\t\t\t<FullscreenInfo\r\n\t\t\t\t\ttitle={t(\"Access error\")}\r\n\t\t\t\t\ticon={userNotMatchedIcon}\r\n\t\t\t\t\tmessage={errors.reduce((prev, curr) => prev + t(curr) + \".\\n\", \"\")}\r\n\t\t\t\t\tcolorType={ColorTypes.danger}\r\n\t\t\t\t\tprimaryButton={{\r\n\t\t\t\t\t\ttitle: t(\"Logout\"),\r\n\t\t\t\t\t\ticon: [\"far\", \"sign-out-alt\"],\r\n\t\t\t\t\t\tcommand: async () => {\r\n\t\t\t\t\t\t\tawait quizAuthService.signOut();\r\n\t\t\t\t\t\t\tf7.views.main.router.refreshPage();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\tcontent()\r\n\t\t\t)}\r\n\t\t\t<QuizActions extend ref={actionsRef} actions={() => actions} />\r\n\t\t</Page>\r\n\t);\r\n};\r\nQuizPage.displayName = \"QuizPage\";\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { quizPreloaderStyles } from \"./quizPreloaderStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { Preloader } from \"framework7-react\";\r\n\r\nexport type QuizPreloaderProps = {\r\n\tpreloaderAreaWidth: number;\r\n\tpreloaderAreaHeight?: number;\r\n};\r\n\r\nexport const QuizPreloader: React.FC<QuizPreloaderProps> = props => {\r\n\tconst styles = useStyles(quizPreloaderStyles, props);\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrapper)}>\r\n\t\t\t<Preloader color=\"blue\" style={styles.preloader} />\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { QuizPreloaderProps } from \"./QuizPreloader\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const quizPreloaderStyles = (theme: Theme, props: QuizPreloaderProps) => {\r\n\tconst { preloaderAreaWidth, preloaderAreaHeight } = props;\r\n\tlet mainAxis = preloaderAreaWidth;\r\n\tif (preloaderAreaHeight && preloaderAreaWidth > preloaderAreaHeight) {\r\n\t\tmainAxis = preloaderAreaHeight;\r\n\t}\r\n\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\twidth: preloaderAreaWidth,\r\n\t\t\theight: preloaderAreaHeight || preloaderAreaWidth,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tpreloader: {\r\n\t\t\twidth: mainAxis / 2,\r\n\t\t\theight: mainAxis / 2\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { css, StyleDeclarationValue } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getQuizSkeletonStyles } from \"./quizSkeletonStyles\";\r\n\r\nexport type QuizSkeletonProps = {\r\n\tstyles?: StyleDeclarationValue;\r\n};\r\n\r\nexport const QuizSkeleton: React.FC<QuizSkeletonProps> = props => {\r\n\tconst styles = useStyles(getQuizSkeletonStyles);\r\n\treturn <div className={css(styles.skeleton || props.styles, styles.skeletonBorder)}>{props.children}</div>;\r\n};\r\n\r\nQuizSkeleton.displayName = \"QuizSkeleton\";\r\n","import { SkeletonItemStyles, skeletonClass } from \"./SkeletonItem\";\r\nimport React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getSkeletonIconStyles } from \"./SkeletonItemStyles\";\r\nimport { SkeletonBlock } from \"framework7-react\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\ntype SkeletonIconSize = \"small\" | \"medium\" | \"large\";\r\n\r\nexport type SkeletonIconProps = {\r\n\tsize: SkeletonIconSize;\r\n} & { [key in keyof SkeletonItemStyles]: SkeletonItemStyles[key] };\r\n\r\nexport const SkeletonIcon: React.FC<SkeletonIconProps> = props => {\r\n\tconst styles = useStyles(getSkeletonIconStyles, props);\r\n\treturn <SkeletonBlock className={`${skeletonClass} ${css(styles.icon)}`} />;\r\n};\r\n\r\nSkeletonIcon.displayName = \"SkeletonIcon\";\r\n","import { useStyles } from \"hooks/useStyles\";\r\nimport React from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { CSSPropertiesComplete } from \"aphrodite\";\r\nimport { getSkeletonItemWrapStyles } from \"./SkeletonItemStyles\";\r\n\r\nexport const skeletonClass = `skeleton-text skeleton-effect-fade`;\r\n\r\nexport type SkeletonItemStyles = {\r\n\tbackgroundColor?: CSSPropertiesComplete[\"backgroundColor\"];\r\n\tmargin?: CSSPropertiesComplete[\"margin\"];\r\n\tmarginTop?: CSSPropertiesComplete[\"marginTop\"];\r\n\tmarginRight?: CSSPropertiesComplete[\"marginRight\"];\r\n\tmarginBottom?: CSSPropertiesComplete[\"marginBottom\"];\r\n\tmarginLeft?: CSSPropertiesComplete[\"marginLeft\"];\r\n};\r\n\r\nexport type SkeletonItemWrapProps = {\r\n\tspacing?: CSSPropertiesComplete[\"justifyContent\"];\r\n\tdirection?: CSSPropertiesComplete[\"flexDirection\"];\r\n\talign?: CSSPropertiesComplete[\"alignItems\"];\r\n} & { [key in keyof SkeletonItemStyles]: SkeletonItemStyles[key] };\r\n\r\nexport const SkeletonItemWrap: React.FC<SkeletonItemWrapProps> = props => {\r\n\tconst { children, ...styleProps } = props;\r\n\tconst styles = useStyles(getSkeletonItemWrapStyles, styleProps);\r\n\treturn <div className={css(styles.wrap)}>{children}</div>;\r\n};\r\n\r\nSkeletonItemWrap.displayName = \"SkeletonItemWrap\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp, CSSSizeValue } from \"wraps/styleCreators\";\r\nimport { SkeletonItemWrapProps } from \"./SkeletonItem\";\r\nimport { SkeletonRowProps } from \"./SkeletonRow\";\r\nimport { SkeletonIconProps } from \"./SkeletonIcon\";\r\n\r\nexport const getSkeletonItemWrapStyles = (theme: Theme, props: SkeletonItemWrapProps) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\t...props,\r\n\t\t\tflexDirection: props.direction || \"initial\",\r\n\t\t\tjustifyContent: props.spacing || \"initial\",\r\n\t\t\talignItems: props.align || \"initial\",\r\n\t\t\tdisplay: \"flex\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const getSkeletonRowStyles = (theme: Theme, props: SkeletonRowProps) => {\r\n\treturn {\r\n\t\trow: {\r\n\t\t\t...props,\r\n\t\t\theight: props.type === \"title\" ? theme.sizing.sizes.md : theme.sizing.sizes.sm,\r\n\t\t\tborderRadius: theme.sizing.sizes.xxs\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const getSkeletonIconStyles = (theme: Theme, props: SkeletonIconProps) => {\r\n\t// todo 56px\r\n\tconst size =\r\n\t\tprops.size === \"large\"\r\n\t\t\t? (\"56px\" as CSSSizeValue)\r\n\t\t\t: props.size === \"medium\"\r\n\t\t\t? theme.sizing.sizes.xl\r\n\t\t\t: theme.sizing.sizes.md;\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\t...props,\r\n\t\t\twidth: size,\r\n\t\t\theight: size,\r\n\t\t\tborderRadius: \"50%\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { SkeletonItemStyles, skeletonClass } from \"./SkeletonItem\";\r\nimport React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { CSSPropertiesComplete } from \"aphrodite\";\r\nimport { getSkeletonRowStyles } from \"./SkeletonItemStyles\";\r\nimport { SkeletonBlock } from \"framework7-react\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\ntype SkeletonRowType = \"title\" | \"text\";\r\n\r\nexport type SkeletonRowProps = {\r\n\ttype: SkeletonRowType;\r\n\twidth: CSSPropertiesComplete[\"width\"];\r\n} & { [key in keyof SkeletonItemStyles]: SkeletonItemStyles[key] };\r\n\r\nexport const SkeletonRow: React.FC<SkeletonRowProps> = props => {\r\n\tconst styles = useStyles(getSkeletonRowStyles, props);\r\n\treturn <SkeletonBlock className={`${skeletonClass} ${css(styles.row)}`} />;\r\n};\r\n\r\nSkeletonRow.displayName = \"SkeletonRow\";\r\n","import * as React from \"react\";\r\nimport { List, ListItem } from \"quiz/components/listView/ListView\";\r\nimport { SkeletonBlock } from \"framework7-react\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\n\r\nexport type QuizListSkeletonProps = {\r\n\ttotalBlocks: number;\r\n\tblockTitle?: boolean;\r\n};\r\n\r\nexport const QuizSkeletonList: React.FC = props => {\r\n\treturn (\r\n\t\t<List>\r\n\t\t\t<Block secondary>{props.children}</Block>\r\n\t\t</List>\r\n\t);\r\n};\r\n\r\nexport const SimpleListSkeleton: React.FC<QuizListSkeletonProps> = props => {\r\n\treturn (\r\n\t\t<List>\r\n\t\t\t{Array.from(new Array(props.totalBlocks)).map((el, idx) => (\r\n\t\t\t\t<ListItem key={idx} link={\"#\"} noChevron>\r\n\t\t\t\t\t<SkeletonBlock />\r\n\t\t\t\t</ListItem>\r\n\t\t\t))}\r\n\t\t</List>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getQuizSkeletonStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tskeleton: {\r\n\t\t\tpadding: `${theme.sizing.sizes.md} 0`\r\n\t\t} as CSSProp,\r\n\t\tskeletonBorder: {\r\n\t\t\tborderBottom: `1px solid ${theme.colors.base.disabled}`,\r\n\t\t\t\":last-child\": {\r\n\t\t\t\tborderBottom: \"none\"\r\n\t\t\t}\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { SkeletonItemWrap } from \"../SkeletonItem/SkeletonItem\";\r\nimport { SkeletonRow } from \"../SkeletonItem/SkeletonRow\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\nconst getBlockTitleStyles = (theme: Theme) => ({\r\n\tblock: {\r\n\t\tmarginBottom: theme.sizing.sizes.sm,\r\n\t\tmarginTop: theme.sizing.sizes.md\r\n\t},\r\n\twrap: {\r\n\t\tpaddingTop: theme.sizing.sizes.xs,\r\n\t\tpaddingBottom: theme.sizing.sizes.xs\r\n\t}\r\n});\r\n\r\ntype BlockTitleSkeletonProps = {\r\n\ttitleOnly?: boolean;\r\n};\r\n\r\nexport const BlockTitleSkeleton: React.FC<BlockTitleSkeletonProps> = React.memo(props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst styles = useStyles(getBlockTitleStyles);\r\n\r\n\treturn (\r\n\t\t<Block styles={styles.block}>\r\n\t\t\t<div className={css(styles.wrap)}>\r\n\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} align=\"center\">\r\n\t\t\t\t\t<SkeletonRow type=\"text\" width={92} backgroundColor={theme.colors.base.border} />\r\n\t\t\t\t\t{!props.titleOnly && (\r\n\t\t\t\t\t\t<SkeletonRow type=\"text\" width={40} backgroundColor={theme.colors.base.border} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t</div>\r\n\t\t</Block>\r\n\t);\r\n});\r\n\r\nBlockTitleSkeleton.displayName = \"BlockTitleSkeleton\";\r\n","import * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { QuizSkeleton } from \"../QuizSkeleton\";\r\nimport { SkeletonItemWrap } from \"../SkeletonItem/SkeletonItem\";\r\nimport { SkeletonIcon } from \"../SkeletonItem/SkeletonIcon\";\r\nimport { SkeletonRow } from \"../SkeletonItem/SkeletonRow\";\r\nimport { QuizListSkeletonProps, QuizSkeletonList } from \"../SkeletonList/SkeletonList\";\r\n\r\nexport const OutletExtendableItemSkeleton: React.FC<QuizListSkeletonProps> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\treturn (\r\n\t\t<QuizSkeletonList>\r\n\t\t\t{Array.from(new Array(props.totalBlocks)).map((el, idx) => (\r\n\t\t\t\t<QuizSkeleton key={idx}>\r\n\t\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} align=\"center\">\r\n\t\t\t\t\t\t<SkeletonItemWrap direction=\"column\">\r\n\t\t\t\t\t\t\t<SkeletonItemWrap align=\"center\" marginBottom={12}>\r\n\t\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" marginRight={12} />\r\n\t\t\t\t\t\t\t\t<SkeletonRow type=\"title\" width={164} />\r\n\t\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={216} />\r\n\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t<SkeletonIcon size=\"small\" />\r\n\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t</QuizSkeleton>\r\n\t\t\t))}\r\n\t\t</QuizSkeletonList>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { QuizSkeleton } from \"../QuizSkeleton\";\r\nimport { SkeletonItemWrap } from \"../SkeletonItem/SkeletonItem\";\r\nimport { SkeletonIcon } from \"../SkeletonItem/SkeletonIcon\";\r\nimport { SkeletonRow } from \"../SkeletonItem/SkeletonRow\";\r\nimport { QuizListSkeletonProps, QuizSkeletonList } from \"../SkeletonList/SkeletonList\";\r\nimport { BlockTitleSkeleton } from \"./BlockTitleSkeleton\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const OutletSkeleton: React.FC<QuizListSkeletonProps> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst margin = scale(theme.sizing.sizes.lg, ScaleEnum.Half);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{props.blockTitle && <BlockTitleSkeleton />}\r\n\t\t\t<QuizSkeletonList>\r\n\t\t\t\t{Array.from(new Array(props.totalBlocks)).map((el, idx) => (\r\n\t\t\t\t\t<QuizSkeleton key={idx}>\r\n\t\t\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} marginBottom={margin}>\r\n\t\t\t\t\t\t\t<SkeletonItemWrap>\r\n\t\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" marginRight={margin} />\r\n\t\t\t\t\t\t\t\t<SkeletonRow width={164} type=\"title\" />\r\n\t\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={36} />\r\n\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t<SkeletonRow type=\"text\" width={160} marginBottom={margin} />\r\n\t\t\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} marginBottom={theme.sizing.sizes.sm}>\r\n\t\t\t\t\t\t\t<SkeletonRow width={216} type=\"text\" />\r\n\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" />\r\n\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t<SkeletonRow type=\"text\" width={116} marginBottom={theme.constants.gridPadding} />\r\n\t\t\t\t\t\t<SkeletonItemWrap spacing=\"space-between\">\r\n\t\t\t\t\t\t\t<SkeletonItemWrap align=\"center\">\r\n\t\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" marginRight={margin} />\r\n\t\t\t\t\t\t\t\t<SkeletonRow width={100} type=\"text\" />\r\n\t\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t\t<SkeletonItemWrap>\r\n\t\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" marginRight={margin} />\r\n\t\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" marginRight={margin} />\r\n\t\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" />\r\n\t\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t</QuizSkeleton>\r\n\t\t\t\t))}\r\n\t\t\t</QuizSkeletonList>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { QuizSkeleton } from \"../QuizSkeleton\";\r\nimport { SkeletonItemWrap } from \"../SkeletonItem/SkeletonItem\";\r\nimport { SkeletonIcon } from \"../SkeletonItem/SkeletonIcon\";\r\nimport { SkeletonRow } from \"../SkeletonItem/SkeletonRow\";\r\nimport { QuizListSkeletonProps, QuizSkeletonList } from \"../SkeletonList/SkeletonList\";\r\n\r\nexport const QstItemSkeleton: React.FC<QuizListSkeletonProps> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\treturn (\r\n\t\t<QuizSkeletonList>\r\n\t\t\t{Array.from(new Array(props.totalBlocks)).map((el, idx) => (\r\n\t\t\t\t<QuizSkeleton key={idx}>\r\n\t\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} align=\"center\">\r\n\t\t\t\t\t\t<SkeletonItemWrap direction=\"column\">\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"title\" width={164} marginBottom={18} />\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={216} marginBottom={theme.sizing.sizes.sm} />\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={116} />\r\n\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t<SkeletonIcon size=\"small\" />\r\n\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t</QuizSkeleton>\r\n\t\t\t))}\r\n\t\t</QuizSkeletonList>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { QuizSkeleton } from \"../QuizSkeleton\";\r\nimport { SkeletonItemWrap } from \"../SkeletonItem/SkeletonItem\";\r\nimport { SkeletonIcon } from \"../SkeletonItem/SkeletonIcon\";\r\nimport { SkeletonRow } from \"../SkeletonItem/SkeletonRow\";\r\nimport { QuizListSkeletonProps, QuizSkeletonList } from \"../SkeletonList/SkeletonList\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { CSSProp, css } from \"wraps/styleCreators\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\nimport { EmptyDivider } from \"quiz/components/divider/EmptyDivider\";\r\nimport { BackLink } from \"quiz/components/quizNavBar/icons/backlink/BackLink\";\r\n\r\nconst getQuestionnaireSkeletonStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tnavbarSkeleton: {\r\n\t\t\tboxShadow: theme.shadows.down.md,\r\n\t\t\theight: \"calc(60px + var(--f7-safe-area-top))\", //todo: 60px\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tbackground: theme.colors.primary.background,\r\n\t\t\tpaddingLeft: theme.constants.gridPadding,\r\n\t\t\tpaddingRight: theme.constants.gridPadding,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const QuestionnaireSkeleton: React.FC<QuizListSkeletonProps> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst styles = useStyles(getQuestionnaireSkeletonStyles);\r\n\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<div className={css(styles.navbarSkeleton)}>\r\n\t\t\t\t<SkeletonItemWrap align=\"center\">\r\n\t\t\t\t\t<BackLink />\r\n\t\t\t\t\t<SkeletonRow type=\"title\" width={164} />\r\n\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t<SkeletonIcon size=\"small\" />\r\n\t\t\t</div>\r\n\t\t\t<QuizSkeletonList>\r\n\t\t\t\t<QuizSkeleton key={0}>\r\n\t\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} align=\"center\">\r\n\t\t\t\t\t\t<SkeletonItemWrap direction=\"column\">\r\n\t\t\t\t\t\t\t<SkeletonItemWrap align=\"center\" marginBottom={12}>\r\n\t\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" marginRight={12} />\r\n\t\t\t\t\t\t\t\t<SkeletonRow type=\"title\" width={164} />\r\n\t\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={216} />\r\n\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t<SkeletonIcon size=\"small\" />\r\n\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t</QuizSkeleton>\r\n\t\t\t</QuizSkeletonList>\r\n\t\t\t<EmptyDivider height={theme.sizing.sizes.lg} />\r\n\t\t\t<QuizSkeletonList>\r\n\t\t\t\t{Array.from(new Array(props.totalBlocks)).map((el, idx) => (\r\n\t\t\t\t\t<QuizSkeleton key={++idx}>\r\n\t\t\t\t\t\t<SkeletonItemWrap align=\"center\">\r\n\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" marginRight={20} />\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={164} />\r\n\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t</QuizSkeleton>\r\n\t\t\t\t))}\r\n\t\t\t</QuizSkeletonList>\r\n\t\t</Page>\r\n\t);\r\n};\r\n\r\nQuestionnaireSkeleton.displayName = \"QuestionnaireSkeleton\";\r\n","import * as React from \"react\";\r\nimport { EmptyDivider } from \"quiz/components/divider/EmptyDivider\";\r\nimport { OutletExtendableItemSkeleton } from \"quiz/components/quizSkeleton/skeletons/OutletExtendableItemSkeleton\";\r\n\r\nexport const QuizOutletPageSkeleton = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<EmptyDivider />\r\n\t\t\t<OutletExtendableItemSkeleton totalBlocks={1} />\r\n\t\t</>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { QuizSkeleton } from \"../QuizSkeleton\";\r\nimport { SkeletonItemWrap } from \"../SkeletonItem/SkeletonItem\";\r\nimport { SkeletonIcon } from \"../SkeletonItem/SkeletonIcon\";\r\nimport { SkeletonRow } from \"../SkeletonItem/SkeletonRow\";\r\nimport { QuizListSkeletonProps, QuizSkeletonList } from \"../SkeletonList/SkeletonList\";\r\nimport { BlockTitleSkeleton } from \"./BlockTitleSkeleton\";\r\nimport { OutletExtendableItemSkeleton } from \"./OutletExtendableItemSkeleton\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { CSSProp, css } from \"wraps/styleCreators\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\n\r\nconst getStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tquestionDivider: {\r\n\t\t\tbackgroundColor: theme.colors.base.background,\r\n\t\t\theight: theme.sizing.sizes.lg\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const VisitReportSkeleton: React.FC<QuizListSkeletonProps> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst styles = useStyles(getStyles);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockTitleSkeleton titleOnly />\r\n\t\t\t<OutletExtendableItemSkeleton totalBlocks={1} />\r\n\t\t\t<QuizSkeletonList>\r\n\t\t\t\t<QuizSkeleton>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} align=\"center\">\r\n\t\t\t\t\t\t<SkeletonItemWrap direction=\"column\">\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"title\" width={164} marginBottom={18} />\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={216} marginBottom={theme.sizing.sizes.sm} />\r\n\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={116} />\r\n\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t</QuizSkeleton>\r\n\t\t\t\t<QuizSkeleton>\r\n\t\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} align=\"center\">\r\n\t\t\t\t\t\t<SkeletonRow type=\"text\" width={80} />\r\n\t\t\t\t\t\t<SkeletonRow type=\"text\" width={100} />\r\n\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t</QuizSkeleton>\r\n\t\t\t\t<QuizSkeleton>\r\n\t\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} align=\"center\">\r\n\t\t\t\t\t\t<SkeletonRow type=\"text\" width={100} />\r\n\t\t\t\t\t\t<SkeletonRow type=\"text\" width={80} />\r\n\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t</QuizSkeleton>\r\n\t\t\t</QuizSkeletonList>\r\n\t\t\t{Array.from(new Array(props.totalBlocks)).map((el, idx) => (\r\n\t\t\t\t<React.Fragment key={idx}>\r\n\t\t\t\t\t<div className={css(styles.questionDivider)} />\r\n\t\t\t\t\t<QuizSkeletonList>\r\n\t\t\t\t\t\t<QuizSkeleton>\r\n\t\t\t\t\t\t\t<SkeletonItemWrap direction=\"column\">\r\n\t\t\t\t\t\t\t\t<SkeletonRow type=\"title\" width={164} marginBottom={theme.sizing.sizes.md} />\r\n\t\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={216} />\r\n\t\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t</QuizSkeleton>\r\n\t\t\t\t\t\t<QuizSkeleton>\r\n\t\t\t\t\t\t\t<SkeletonItemWrap align=\"center\">\r\n\t\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" marginRight={20} />\r\n\t\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={164} />\r\n\t\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t</QuizSkeleton>\r\n\t\t\t\t\t</QuizSkeletonList>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t))}\r\n\t\t</>\r\n\t);\r\n};\r\nVisitReportSkeleton.displayName = \"VisitReportSkeleton\";\r\n","import * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { QuizSkeleton } from \"../QuizSkeleton\";\r\nimport { SkeletonItemWrap } from \"../SkeletonItem/SkeletonItem\";\r\nimport { SkeletonIcon } from \"../SkeletonItem/SkeletonIcon\";\r\nimport { SkeletonRow } from \"../SkeletonItem/SkeletonRow\";\r\nimport { QuizListSkeletonProps, QuizSkeletonList } from \"../SkeletonList/SkeletonList\";\r\nimport { BlockTitleSkeleton } from \"./BlockTitleSkeleton\";\r\n\r\nexport const VisitedOutletsSkeleton: React.FC<QuizListSkeletonProps> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockTitleSkeleton />\r\n\t\t\t<QuizSkeletonList>\r\n\t\t\t\t{Array.from(new Array(props.totalBlocks)).map((el, idx) => (\r\n\t\t\t\t\t<QuizSkeleton key={idx}>\r\n\t\t\t\t\t\t<SkeletonItemWrap spacing={\"space-between\"} align=\"center\">\r\n\t\t\t\t\t\t\t<SkeletonItemWrap direction=\"column\">\r\n\t\t\t\t\t\t\t\t<SkeletonRow type=\"title\" width={164} marginBottom={12} />\r\n\t\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={216} marginBottom={theme.sizing.sizes.sm} />\r\n\t\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={216} marginBottom={theme.sizing.sizes.md} />\r\n\t\t\t\t\t\t\t\t<SkeletonItemWrap align=\"center\">\r\n\t\t\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" marginRight={12} />\r\n\t\t\t\t\t\t\t\t\t<SkeletonRow type=\"text\" width={131} />\r\n\t\t\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t\t\t<SkeletonIcon size=\"small\" />\r\n\t\t\t\t\t\t</SkeletonItemWrap>\r\n\t\t\t\t\t</QuizSkeleton>\r\n\t\t\t\t))}\r\n\t\t\t</QuizSkeletonList>\r\n\t\t</>\r\n\t);\r\n};\r\nVisitedOutletsSkeleton.displayName = \"ReportSkeleton\";\r\n","import * as React from \"react\";\r\nimport { radioListStyles } from \"./radioListStyles\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { Fragment } from \"react\";\r\nimport { QuestionListItem } from \"../questionListView/QuestionListItem\";\r\nimport { QuestionList } from \"../questionListView/QuestionList\";\r\nimport { useGroupedAnswers } from \"hooks/useGroupedAnswers\";\r\nimport { GroupedAnswerHeader } from \"../question/common/groupedAnswerHeader/GroupedAnswerHeader\";\r\nimport { t } from \"quiz/QuizApp\";\r\n\r\ntype RadioItemValue = string | number;\r\n\r\nexport interface RadioItem {\r\n\tvalue: RadioItemValue;\r\n\ttitle: string;\r\n\tgroup?: string;\r\n}\r\n\r\nexport interface RadioListProps {\r\n\tonChange: (event: React.ChangeEvent<HTMLSelectElement>) => void;\r\n\titems: RadioItem[];\r\n\tvalue: RadioItemValue;\r\n\tdanger?: boolean;\r\n}\r\n\r\nfunction hasSingleNoCategory<T>(group: { [key: string]: ArrayLike<T> }) {\r\n\tconst g = Object.keys(group);\r\n\treturn g?.length > 1 ? false : g.includes(t(\"No category\"));\r\n}\r\n\r\nexport const RadioList: React.FunctionComponent<RadioListProps> = React.memo(({ onChange, items, value, danger }) => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst g = useGroupedAnswers(items);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<style>{radioListStyles(theme, danger)}</style>\r\n\t\t\t<QuestionList>\r\n\t\t\t\t{Object.keys(g).map(group => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Fragment key={group}>\r\n\t\t\t\t\t\t\t{!hasSingleNoCategory(g) && <GroupedAnswerHeader header={group} />}\r\n\t\t\t\t\t\t\t{g[group].map((item, idx, arr) => (\r\n\t\t\t\t\t\t\t\t<QuestionListItem\r\n\t\t\t\t\t\t\t\t\tradio\r\n\t\t\t\t\t\t\t\t\tkey={item.value}\r\n\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\tvalue={item.value}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tchecked={value === item.value}\r\n\t\t\t\t\t\t\t\t\tdash={arr.length > idx + 1}\r\n\t\t\t\t\t\t\t\t\tclassName={value === item.value ? \"check\" : \"\"}\r\n\t\t\t\t\t\t\t\t\tdanger={true}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</QuestionList>\r\n\t\t</Fragment>\r\n\t);\r\n});\r\nRadioList.displayName = \"RadioList\";\r\n","import { Theme } from \"theme/theme\";\r\n\r\nexport const radioListStyles = (theme: Theme, danger: boolean) =>\r\n\t`\r\n.check .icon-radio {\r\n\tborder-width: 5px !important;\r\n}\r\n.check .icon-radio::after {\r\n\tdisplay: none;\r\n}\r\n.questionList__block .radio-danger .item-radio {\r\n\tcolor: ${theme.colors.danger.main} !important;\r\n\t--f7-radio-inactive-color: ${theme.colors.danger.main} !important;\r\n}`.trim();\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getRenderErrorStyles } from \"./renderErrorStyles\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { AccordionContent } from \"framework7-react\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { nav, CONFIG, t } from \"quiz/QuizApp\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { FeedbackTypeEnum } from \"quiz/components/feedback/Feedback\";\r\nimport { ContextInfoBlock } from \"../infoBlock/contextInfoBlock/ContextInfoBlock\";\r\nimport \"typeface-roboto-mono\";\r\nimport { unexpectedIcon } from \"../infoScreenIcons/unexpectedErrorIcon\";\r\nimport { ColorTypes } from \"theme/colors\";\r\n\r\nexport type RenderErrorType = {\r\n\terror: Error;\r\n\terrorInfo: React.ErrorInfo;\r\n\tseparateBlock?: boolean;\r\n};\r\n\r\nconst listItemClassName = \"renderError__accordion\";\r\nconst appModesWithAccordion = [\"dev\", \"test\"];\r\n\r\nexport const RenderError: React.FC<RenderErrorType> = props => {\r\n\tconst styles = useStyles(getRenderErrorStyles);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\tconst stylesCSS = React.useMemo(\r\n\t\t() =>\r\n\t\t\t`.${listItemClassName} .item-link .item-inner:before {\r\n\t\t\t\tcolor: ${theme.colors.danger.main};\r\n\t\t\t}\r\n\t\t\t`.trim(),\r\n\t\t[]\r\n\t); //toDO: refactor\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<style>{stylesCSS}</style>\r\n\t\t\t<div className={listItemClassName}>\r\n\t\t\t\t<ContextInfoBlock\r\n\t\t\t\t\ticon={unexpectedIcon}\r\n\t\t\t\t\ttitle=\"Render error\"\r\n\t\t\t\t\tmessage={props.error.message}\r\n\t\t\t\t\twithAccordion={appModesWithAccordion.includes(CONFIG.appMode)}\r\n\t\t\t\t\tbuttons={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: \"Complain\",\r\n\t\t\t\t\t\t\ticon: [\"far\", \"comment-alt-lines\"],\r\n\t\t\t\t\t\t\tcommand: () =>\r\n\t\t\t\t\t\t\t\tnav.toFeedback({ type: FeedbackTypeEnum.Problem, value: props.error.message })\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: t(\"Refresh\"),\r\n\t\t\t\t\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\t\t\t\t\tcommand: () => location.reload()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tcolorType={ColorTypes.danger}\r\n\t\t\t\t\tseparateBlock={props.separateBlock}\r\n\t\t\t\t>\r\n\t\t\t\t\t<AccordionContent>\r\n\t\t\t\t\t\t<div className={css(styles.accordionContent)}>\r\n\t\t\t\t\t\t\t<div className={css(styles.errorText)}>\r\n\t\t\t\t\t\t\t\t<Text tag=\"p\" bold size={TextSizeType.bodyMin} styles={styles.stackTitle}>\r\n\t\t\t\t\t\t\t\t\tCall stack\r\n\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t<Text tag=\"pre\" size={TextSizeType.caption} muted styles={styles.stackText}>\r\n\t\t\t\t\t\t\t\t\t{props.error.stack}\r\n\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Text tag=\"p\" bold size={TextSizeType.bodyMin} styles={styles.stackTitle}>\r\n\t\t\t\t\t\t\t\t\t\tComponent stack\r\n\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Text tag=\"pre\" size={TextSizeType.caption} muted styles={styles.stackText}>\r\n\t\t\t\t\t\t\t\t\t{props.errorInfo.componentStack}\r\n\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</AccordionContent>\r\n\t\t\t\t</ContextInfoBlock>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getRenderErrorStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tborderLeft: `${theme.sizing.sizes.xs} solid ${theme.colors.danger.main}`\r\n\t\t} as CSSProp,\r\n\t\terrorText: {\r\n\t\t\tmarginTop: \"0\",\r\n\t\t\tbackgroundColor: theme.colors.base.background,\r\n\t\t\tpadding: `${scale(theme.sizing.sizes.lg, ScaleEnum.Half)} ${theme.sizing.sizes.md}`,\r\n\t\t\twhiteSpace: \"normal\",\r\n\t\t\twordBreak: \"break-word\"\r\n\t\t} as CSSProp,\r\n\t\theader: {\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.xs\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\talignItems: \"center\",\r\n\t\t\ttextAlign: \"center\",\r\n\t\t\tmarginRight: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\tdescription: {\r\n\t\t\tlineHeight: theme.sizing.lineHeights.heading\r\n\t\t} as CSSProp,\r\n\t\tbuttonsWrap: {\r\n\t\t\tmarginBottom: theme.sizing.sizes.md,\r\n\t\t\tdisplay: \"flex\"\r\n\t\t\t//justifyContent: \"space-between\"\r\n\t\t} as CSSProp,\r\n\t\tfeedbackIcon: {\r\n\t\t\tcolor: theme.colors.danger.main\r\n\t\t} as CSSProp,\r\n\t\tstackTitle: {\r\n\t\t\tmarginBottom: theme.sizing.sizes.sm,\r\n\t\t\tmarginTop: \"0px\"\r\n\t\t},\r\n\t\tstackText: {\r\n\t\t\tmarginTop: \"0px\",\r\n\t\t\tmarginBottom: scale(theme.sizing.sizes.lg, ScaleEnum.Half),\r\n\t\t\tfontFamily: \"Roboto Mono\",\r\n\t\t\twhiteSpace: \"pre\",\r\n\t\t\toverflowX: \"scroll\",\r\n\t\t\toverflowY: \"hidden\"\r\n\t\t} as CSSProp,\r\n\t\taccordionContent: {\r\n\t\t\tmarginBottom: theme.sizing.sizes.md\r\n\t\t}\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { StyleDeclarationValue, CSSProp, css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { Theme } from \"theme/theme\";\r\n\r\ninterface RowProps {\r\n\tstyles?: StyleDeclarationValue;\r\n}\r\n\r\nconst getRowStyles = (theme: Theme) => ({\r\n\trow: {\r\n\t\tdisplay: \"flex\",\r\n\t\twidth: \"100%\",\r\n\t\talignItems: \"center\",\r\n\t\tmarginBottom: theme.sizing.sizes.sm,\r\n\t\tlineHeight: \"1em\"\r\n\t} as CSSProp\r\n});\r\n\r\nexport const Row: React.FC<RowProps> = props => {\r\n\tconst styles = useStyles(getRowStyles);\r\n\treturn <div className={css(styles.row, props.styles)}>{props.children}</div>;\r\n};\r\n","import * as React from \"react\";\r\nimport { FieldControlLayout, FieldControlLayoutProps } from \"../fieldControlLayout/FieldControlLayout\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { filterProps } from \"utils/helpers\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { inheritFieldControlProps } from \"../input/InputControl\";\r\nimport { getSelectStyles } from \"./selectControlStyles\";\r\n\r\ntype SelectHTMLProps = React.DetailedHTMLProps<React.SelectHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\r\n\r\ninterface SelectControlProps\r\n\textends Pick<FieldControlLayoutProps, typeof inheritFieldControlProps[number]>,\r\n\t\tOmit<SelectHTMLProps, \"onChange\" | \"value\"> {}\r\n\r\nexport const SelectControl: React.FC<SelectControlProps> = props => {\r\n\tconst s = useStyles(getSelectStyles);\r\n\tconst fieldControlLayoutProps = filterProps(props, inheritFieldControlProps);\r\n\tconst htmlProps = filterProps(props, inheritFieldControlProps, false);\r\n\r\n\treturn (\r\n\t\t<FieldControlLayout\r\n\t\t\t{...fieldControlLayoutProps}\r\n\t\t\tvalue={props.value}\r\n\t\t\tcustomControl={(controlProps, styles) => (\r\n\t\t\t\t<select\r\n\t\t\t\t\t{...controlProps}\r\n\t\t\t\t\t{...htmlProps}\r\n\t\t\t\t\tclassName={css(styles, s.input)}\r\n\t\t\t\t\tvalue={controlProps.value != null ? controlProps.value : \"\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</select>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n};\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport function getSelectStyles() {\r\n\treturn {\r\n\t\tinput: {} as CSSProp\r\n\t};\r\n}\r\n","import * as React from \"react\";\r\nimport { Image } from \"quiz/components/image/Image\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { CSSProp, css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { nav } from \"quiz/QuizApp\";\r\nimport { QuestionActionButton } from \"quiz/components/question/common/questionActionButton/QuestionActionButton\";\r\n\r\nexport type SugnatureProps = {\r\n\tsignature?: string;\r\n\tonSave: () => void;\r\n};\r\n\r\nconst getSignatureStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\timage: {\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tediting: {\r\n\t\t\tfloat: \"right\"\r\n\t\t} as CSSProp,\r\n\t\tasteriksIcon: {\r\n\t\t\tfontWeight: theme.sizing.fontWeights.bold,\r\n\t\t\tfontSize: theme.sizing.sizes.sm,\r\n\t\t\tcolor: theme.colors.danger.main\r\n\t\t} as CSSProp,\r\n\t\temptySignature: {\r\n\t\t\tmarginTop: `-${theme.sizing.sizes.md}`\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\nexport const Signature = ({ signature, onSave }) => {\r\n\tconst styles = useStyles(getSignatureStyles);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\tconst edit = () => {\r\n\t\tnav.toSignature({\r\n\t\t\tonEnd: onSave,\r\n\t\t\timg: signature\r\n\t\t});\r\n\t};\r\n\r\n\treturn signature ? (\r\n\t\t<div onClick={edit}>\r\n\t\t\t<div className={css(styles.editing)}>\r\n\t\t\t\t<Icon icon={[\"far\", \"edit\"]} color={theme.colors.primary.main} />\r\n\t\t\t</div>\r\n\t\t\t<Image src={signature} styles={styles.image} />\r\n\t\t\t<Divider dash />\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className={css(styles.emptySignature)} onClick={edit}>\r\n\t\t\t<QuestionActionButton\r\n\t\t\t\ticon={[\"far\", \"signature\"]}\r\n\t\t\t\ttext={\"Set signature\"}\r\n\t\t\t\tonClick={() => {}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\t{...{ iconRight: [\"fas\", \"asterisk\"], iconRightStyles: styles.asteriksIcon }}\r\n\t\t\t/>\r\n\t\t\t<Divider dash />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nSignature.displayName = \"Signature\";\r\n","import { useStyles } from \"hooks/useStyles\";\r\nimport { VisitManager } from \"quiz/pages/questionnaire/VisitManager\";\r\nimport { Visit } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { MDTImage } from \"../mdtImages/MdtImage\";\r\nimport { getSignatureControlStyles } from \"./SignatureControlStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { QuizListInputItem } from \"quiz/components/quizListInputItem/QuizListInputItem\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { useForceUpdate } from \"hooks/useForceUpdate\";\r\nimport { Signature } from \"./Signature\";\r\n\r\ntype SignatureControlProps = {\r\n\treadonly?: boolean;\r\n\tvisitManager: VisitManager;\r\n\tvisit: Visit;\r\n\temptyText: string;\r\n\twidth?: number;\r\n\tonSignatureStateChange: () => void;\r\n};\r\n\r\nexport const SignatureControl: React.FC<SignatureControlProps> = props => {\r\n\tconst { readonly, visitManager, visit, emptyText } = { readonly: false, ...props };\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst styles = useStyles(getSignatureControlStyles);\r\n\tconst update = useForceUpdate();\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.signature)}>\r\n\t\t\t{!readonly ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Signature\r\n\t\t\t\t\t\tsignature={visitManager.getFileSignature()}\r\n\t\t\t\t\t\tonSave={data => {\r\n\t\t\t\t\t\t\tvisitManager.setFileSignature(data);\r\n\t\t\t\t\t\t\tprops.onSignatureStateChange();\r\n\t\t\t\t\t\t\tupdate();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\ticon={[\"far\", \"file-alt\"]}\r\n\t\t\t\t\t\tvalue={visitManager.getCommentSignature() || \"\"}\r\n\t\t\t\t\t\tonChange={v => {\r\n\t\t\t\t\t\t\tvisitManager.setCommentSignature(v);\r\n\t\t\t\t\t\t\tupdate();\r\n\t\t\t\t\t\t\tprops.onSignatureStateChange();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tplaceholder={\"Enter full name\"}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Divider dash />\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\ticon={[\"far\", \"comment-alt\"]}\r\n\t\t\t\t\t\tvalue={visitManager.getVisitComment() || \"\"}\r\n\t\t\t\t\t\tonChange={v => {\r\n\t\t\t\t\t\t\tvisitManager.setVisitComment(v);\r\n\t\t\t\t\t\t\tupdate();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tplaceholder={\"Enter a comment\"}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{visit.signatureId && !visit.signatureFile && (\r\n\t\t\t\t\t\t<MDTImage fileRecord={{ id: visit.signatureId, uid: visit.signatureUid }} styles={styles.img} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{visit.commentSignature && (\r\n\t\t\t\t\t\t<div className={css(styles.infoItemWrap)}>\r\n\t\t\t\t\t\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t\t\t\t\t\t<Icon color={theme.colors.primary.main} icon={[\"far\", \"file-alt\"]} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Text>{visit.commentSignature}</Text>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{visit.comment && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Divider dash />\r\n\t\t\t\t\t\t\t<div className={css(styles.infoItemWrap)}>\r\n\t\t\t\t\t\t\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t\t\t\t\t\t\t<Icon color={theme.colors.primary.main} icon={[\"far\", \"comment-alt\"]} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Text>{visit.comment}</Text>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getSignatureControlStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\timg: {\r\n\t\t\tmaxWidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tsignature: {\r\n\t\t\tpaddingTop: `${theme.sizing.sizes.md}`\r\n\t\t} as CSSProp,\r\n\t\tinfoItemWrap: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tmarginRight: theme.sizing.sizes.md,\r\n\t\t\tpadding: `${scale(theme.sizing.sizes.lg, ScaleEnum.Half)} 0`\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport SignatureCanvas from \"react-signature-canvas\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getSignaturePadStyles } from \"./signaturePadStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { ButtonSize, ButtonType } from \"quiz/components/button/Button\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { MobileActionButton } from \"quiz/components/button/MobileActionButton\";\r\nimport { t, nav, quizAuthService } from \"quiz/QuizApp\";\r\nimport { getCSSSizeValue } from \"utils/cssHelpers\";\r\nimport { FullscreenErrorPage } from \"../infoBlock/fullscreenInfoBlock/FullscreenErrorPage\";\r\nimport { accessDeniedIcon } from \"../infoScreenIcons/accessDeniedIcon\";\r\nimport { FeedbackTypeEnum } from \"quiz/components/feedback/Feedback\";\r\nimport { f7 } from \"framework7-react\";\r\nimport * as loadImage from \"blueimp-load-image\";\r\n\r\nexport type SignaturePadPageContext = {\r\n\tonEnd: (base64: string) => void;\r\n\timg?: string;\r\n};\r\n\r\nexport type SignatureProps = {\r\n\temptyText?: string;\r\n\timg?: string;\r\n\twidth?: number;\r\n\tonEnd: (img: string) => void;\r\n\tcontext?: SignaturePadPageContext;\r\n};\r\n\r\nconst signatureHeightHard = 240;\r\nconst smallScreen = document.body.clientWidth < 768;\r\n\r\nconst rotateImg = async (img: string, afterRotateCb) => {\r\n\tconst canvas = await loadImage(img, {\r\n\t\torientation: 6\r\n\t});\r\n\tafterRotateCb(canvas.image);\r\n};\r\n\r\nlet mountedCb;\r\nexport const onSignaturePadPageMounted = () => {\r\n\tmountedCb();\r\n};\r\n\r\nlet scalling = false;\r\n\r\nexport const SignaturePad: React.FC<SignatureProps> = props => {\r\n\tconst styles = useStyles(getSignaturePadStyles, smallScreen);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\tconst sign = React.useRef<SignatureCanvas>();\r\n\tconst signatureDivRef = React.useRef<HTMLDivElement>();\r\n\r\n\tconst [signatureEmpty, setSignatureEmpty] = React.useState<boolean>(true);\r\n\tconst [signatureWidth, setSignatureWidth] = React.useState<number>();\r\n\tconst [signatureHeight, setSignatureHeight] = React.useState<number>();\r\n\tconst [mounted, setMounted] = React.useState(false);\r\n\tmountedCb = () => setMounted(true);\r\n\r\n\tconst ratio = Math.max(window.devicePixelRatio || 1, 1);\r\n\tconst width = props.width || document.body.clientWidth;\r\n\r\n\tconst canvasSizes = () => {\r\n\t\tif (!smallScreen) {\r\n\t\t\treturn {\r\n\t\t\t\theight: signatureHeightHard * ratio + 5,\r\n\t\t\t\twidth: width * ratio - getCSSSizeValue(theme.constants.gridPadding) * 4\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\theight: signatureHeight * ratio || 0,\r\n\t\t\twidth: signatureWidth * ratio || 0\r\n\t\t};\r\n\t};\r\n\r\n\tconst drawImage = React.useCallback((img, ctx) => {\r\n\t\tctx.drawImage(img, 0, 0);\r\n\t\tctx.scale(ratio, ratio);\r\n\t\tsetSignatureEmpty(false);\r\n\t}, []);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (!props.context) {\r\n\t\t\treturn void 0;\r\n\t\t}\r\n\r\n\t\tconst canvas = sign.current.getCanvas();\r\n\t\tconst ctx = canvas.getContext(\"2d\");\r\n\r\n\t\tsetSignatureWidth(signatureDivRef.current.clientWidth);\r\n\t\tsetSignatureHeight(signatureDivRef.current.clientHeight);\r\n\r\n\t\tif (props.context?.img && mounted && signatureWidth && signatureHeight) {\r\n\t\t\tif (smallScreen) {\r\n\t\t\t\trotateImg(props.context?.img, img => {\r\n\t\t\t\t\tdrawImage(img, ctx);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconst img = new Image();\r\n\t\t\t\timg.onload = function() {\r\n\t\t\t\t\tdrawImage(img, ctx);\r\n\t\t\t\t};\r\n\t\t\t\timg.src = props.context?.img;\r\n\t\t\t}\r\n\t\t} else if (!props.context?.img && scalling) ctx.scale(ratio, ratio);\r\n\r\n\t\tsign.current.on();\r\n\r\n\t\treturn () => {\r\n\t\t\tsign.current.off();\r\n\t\t};\r\n\t}, [mounted]);\r\n\r\n\tif (!props.context) {\r\n\t\treturn (\r\n\t\t\t<FullscreenErrorPage\r\n\t\t\t\ticon={accessDeniedIcon}\r\n\t\t\t\ttitle={t(\"Access error\")}\r\n\t\t\t\tmessage={t(\"Access denied\")}\r\n\t\t\t\tcolorType={ColorTypes.danger}\r\n\t\t\t\tprimaryButton={{\r\n\t\t\t\t\ttitle: t(\"Complain\"),\r\n\t\t\t\t\ticon: [\"far\", \"comment-alt-lines\"],\r\n\t\t\t\t\tcommand: () => nav.toFeedback({ type: FeedbackTypeEnum.Problem, value: t(\"Access denied\") })\r\n\t\t\t\t}}\r\n\t\t\t\tsecondaryButton={{\r\n\t\t\t\t\ttitle: t(\"Logout\"),\r\n\t\t\t\t\ticon: [\"far\", \"sign-out-alt\"],\r\n\t\t\t\t\tcommand: async () => {\r\n\t\t\t\t\t\tawait quizAuthService.signOut();\r\n\t\t\t\t\t\tf7.views.main.router.navigate(\"/\");\r\n\t\t\t\t\t\tf7.views.main.router.refreshPage();\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<style>\r\n\t\t\t\t{`.signature canvas {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t}`}\r\n\t\t\t</style>\r\n\t\t\t<div className={css(styles.content)}>\r\n\t\t\t\t<div className={css(styles.padWrap)}>\r\n\t\t\t\t\t<div ref={signatureDivRef} className={css(styles.signatureWrap)}>\r\n\t\t\t\t\t\t<div className=\"signature\">\r\n\t\t\t\t\t\t\t<SignatureCanvas\r\n\t\t\t\t\t\t\t\tref={sign}\r\n\t\t\t\t\t\t\t\tonBegin={() => {\r\n\t\t\t\t\t\t\t\t\tsetSignatureEmpty(false);\r\n\t\t\t\t\t\t\t\t\tif (signatureEmpty && !scalling && smallScreen) {\r\n\t\t\t\t\t\t\t\t\t\tconst canvas = sign.current.getCanvas();\r\n\t\t\t\t\t\t\t\t\t\tconst ctx = canvas.getContext(\"2d\");\r\n\t\t\t\t\t\t\t\t\t\tctx.scale(ratio, ratio);\r\n\t\t\t\t\t\t\t\t\t\tscalling = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tcanvasProps={{ ...canvasSizes() }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={css(styles.buttons)}>\r\n\t\t\t\t\t\t<div className={css(styles.buttonClear)}>\r\n\t\t\t\t\t\t\t<MobileActionButton\r\n\t\t\t\t\t\t\t\ttype={ButtonType.transparent}\r\n\t\t\t\t\t\t\t\tcolorType={ColorTypes.info}\r\n\t\t\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\t\t\ttitle={t(\"Clear\")}\r\n\t\t\t\t\t\t\t\ticon={[\"far\", \"eraser\"]}\r\n\t\t\t\t\t\t\t\tcommand={() => {\r\n\t\t\t\t\t\t\t\t\tsign.current.clear();\r\n\t\t\t\t\t\t\t\t\tsetSignatureEmpty(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={css(styles.buttonSave)}>\r\n\t\t\t\t\t\t\t<MobileActionButton\r\n\t\t\t\t\t\t\t\ttype={ButtonType.normal}\r\n\t\t\t\t\t\t\t\tcolorType={ColorTypes.info}\r\n\t\t\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\t\t\ttitle={t(\"Save\")}\r\n\t\t\t\t\t\t\t\ticon={[\"far\", \"signature\"]}\r\n\t\t\t\t\t\t\t\tcommand={async () => {\r\n\t\t\t\t\t\t\t\t\tlet source = sign.current;\r\n\t\t\t\t\t\t\t\t\tif (smallScreen && !signatureEmpty) {\r\n\t\t\t\t\t\t\t\t\t\tconst canvas = await loadImage(sign.current.toDataURL(), {\r\n\t\t\t\t\t\t\t\t\t\t\tcanvas: true,\r\n\t\t\t\t\t\t\t\t\t\t\torientation: 8\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tsource = canvas.image;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t!signatureEmpty\r\n\t\t\t\t\t\t\t\t\t\t? props.context?.onEnd(source.toDataURL())\r\n\t\t\t\t\t\t\t\t\t\t: props.context?.onEnd(null);\r\n\t\t\t\t\t\t\t\t\tnav.back();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { CONFIG } from \"quiz/QuizApp\";\r\n\r\nexport const getSignaturePadStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tcontent: {\r\n\t\t\tbackgroundColor: theme.colors.base.main,\r\n\t\t\twidth: \"100vw\",\r\n\t\t\theight: CONFIG.appMode == \"prod\" ? \"100%\" : \"calc(100% - var(--instanceBarIndent))\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tpaddingTop: \"var(--f7-safe-area-top)\"\r\n\t\t} as CSSProp,\r\n\t\tpadWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\tbackgroundColor: theme.colors.base.main,\r\n\t\t\tboxSizing: \"border-box\",\r\n\t\t\tpadding: `${theme.sizing.sizes.md} ${theme.constants.gridPadding}`,\r\n\t\t\t\"@media (max-width: 767px)\": {\r\n\t\t\t\tflexGrow: 2,\r\n\t\t\t\tflexDirection: \"row\",\r\n\t\t\t\theight: \"100%\",\r\n\t\t\t\tboxSizing: \"border-box\",\r\n\t\t\t\tpaddingLeft: \"0\",\r\n\t\t\t\tpaddingBottom: `calc(${theme.sizing.sizes.md} + var(--f7-safe-area-top))`\r\n\t\t\t}\r\n\t\t} as CSSProp,\r\n\t\tsignatureWrap: {\r\n\t\t\tboxSizing: \"border-box\",\r\n\t\t\tborder: `1px solid ${theme.colors.base.border}`,\r\n\t\t\tmarginBottom: theme.sizing.sizes.md,\r\n\t\t\t\"@media (max-width: 767px)\": {\r\n\t\t\t\tflexGrow: 2,\r\n\t\t\t\tmarginBottom: \"0\"\r\n\t\t\t}\r\n\t\t} as CSSProp,\r\n\t\tbuttons: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\t\"@media (max-width: 767px)\": {\r\n\t\t\t\tflexDirection: \"column\",\r\n\t\t\t\torder: \"-1\"\r\n\t\t\t}\r\n\t\t} as CSSProp,\r\n\t\tbuttonClear: {\r\n\t\t\t\"@media (max-width: 767px)\": {\r\n\t\t\t\ttransform: \"rotateZ(90deg) scale(1.0) translateX(45%)\"\r\n\t\t\t}\r\n\t\t} as CSSProp,\r\n\t\tbuttonSave: {\r\n\t\t\t\"@media (max-width: 767px)\": {\r\n\t\t\t\ttransform: \" rotateZ(90deg) scale(1.0)translateX(-40%)\"\r\n\t\t\t}\r\n\t\t} as CSSProp,\r\n\t\tclearLink: {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0\r\n\t\t} as CSSProp,\r\n\t\tclearIconWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tframe: {\r\n\t\t\tborder: `1px dashed ${theme.colors.base.border}`,\r\n\t\t\ttextAlign: \"center\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\tcolor: theme.colors.base.border\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getSpinnerStyles } from \"./spinnerStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\nexport const Spinner: React.FC = () => {\r\n\tconst styles = useStyles(getSpinnerStyles);\r\n\r\n\tconst triangleClass = css(styles.triangle);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<style>\r\n\t\t\t\t{`\r\n.${triangleClass}:first-child {\r\n  opacity: .1;\r\n  transform: rotate(30deg);\r\n  }\r\n.${triangleClass}:nth-child(2) {\r\n  transform: rotate(90deg);\r\n  opacity: .3;\r\n  }\r\n.${triangleClass}:nth-child(3) {\r\n  transform: rotate(150deg);\r\n  opacity: .5;\r\n  }\r\n.${triangleClass}:nth-child(4) {\r\n  transform: rotate(210deg);\r\n  opacity: .7;\r\n  }\r\n.${triangleClass}:nth-child(5) {\r\n  transform: rotate(270deg);\r\n  opacity: .9;\r\n  }\r\n.${triangleClass}:nth-child(6) {\r\n  transform: rotate(330deg);\r\n  opacity: 1;\r\n  }\r\n@keyframes spin {\r\n    0 {transform: rotate(60deg);}\r\n    100% {transform: rotate(360deg);}\r\n}`}\r\n\t\t\t</style>\r\n\t\t\t<div className={css(styles.hexagonWrapper)}>\r\n\t\t\t\t<div className={triangleClass}></div>\r\n\t\t\t\t<div className={triangleClass}></div>\r\n\t\t\t\t<div className={triangleClass}></div>\r\n\t\t\t\t<div className={triangleClass}></div>\r\n\t\t\t\t<div className={triangleClass}></div>\r\n\t\t\t\t<div className={triangleClass}></div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getSpinnerStyles = (theme: Theme) => ({\r\n\thexagonWrapper: {\r\n\t\tfontSize: \"10px\",\r\n\t\tposition: \"relative\",\r\n\t\twidth: \"4em\",\r\n\t\theight: \"4em\",\r\n\t\tanimation: \"spin .6s infinite\",\r\n\t\tanimationTimingFunction: \"steps(6, end)\"\r\n\t} as CSSProp,\r\n\ttriangle: {\r\n\t\t\"-webkit-clip-path\": \"polygon(50% 0, 0 86%, 100% 86%)\",\r\n\t\tclipPath: \"polygon(50% 0, 0 86%, 100% 86%)\",\r\n\t\twidth: \"2em\",\r\n\t\theight: \"2em\",\r\n\t\tbackground: theme.colors.primary.main,\r\n\t\tposition: \"absolute\",\r\n\t\tbottom: \"0\",\r\n\t\tleft: \"1em\",\r\n\t\ttransformOrigin: \"top\"\r\n\t} as CSSProp\r\n});\r\n","import { SplashScreenStyles } from \"./splashScreenStyles\";\r\nimport * as React from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { Spinner } from \"../spinner/Spinner\";\r\nimport { T } from \"../text/T\";\r\n\r\ntype SplashScreenProps = {\r\n\ttext?: string;\r\n\tonLogoClick?: () => void;\r\n};\r\n\r\nexport const SplashScreen: React.FC<SplashScreenProps> = React.memo(({ onLogoClick, text }) => {\r\n\tconst styles = useStyles(SplashScreenStyles);\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t<div className={css(styles.content)}>\r\n\t\t\t\t<div className={css(styles.logoWrap)}>\r\n\t\t\t\t\t<svg width=\"80\" height=\"83\" viewBox=\"0 0 80 83\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M20 10.2744L40 0.0243835L60 10.2744L80 20.5244L60 30.7744L40 20.5244L20 10.2744Z\"\r\n\t\t\t\t\t\t\tfill=\"#29ABE2\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M60 30.7744L80 20.5244V41.0244L60 51.2744V30.7744Z\"\r\n\t\t\t\t\t\t\tfill=\"#47C5FA\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M60 51.2744L40 41.0244V61.5244L60 71.7744L80 82.0244V61.5244L60 51.2744Z\"\r\n\t\t\t\t\t\t\tfill=\"#41DD92\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M20 10.2744L0 20.5244V41.0244V61.5244L20 51.2744V30.7744V10.2744Z\"\r\n\t\t\t\t\t\t\tfill=\"#47C5FA\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M0 61.5244L20 51.2744L40 61.5244L60 71.7744L40 82.0244L20 71.7744L0 61.5244Z\"\r\n\t\t\t\t\t\t\tfill=\"#29ABE2\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={css(styles.secondaryBlockWrap)}>\r\n\t\t\t\t\t<div className={css(styles.secondaryBlock)}>\r\n\t\t\t\t\t\t<div className={css(styles.textWrap)}>\r\n\t\t\t\t\t\t\t<T styles={styles.text}>{text || `Wait a bit ...`}</T>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Spinner />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\nSplashScreen.displayName = \"SplashScreen\";\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\nimport { theme } from \"themes/defaultTheme\";\r\n\r\nexport const SplashScreenStyles = () => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\theight: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: \"fit-content\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\talignContent: \"space-between\"\r\n\t\t} as CSSProp,\r\n\t\tlogoWrap: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tflexGrow: 2,\r\n\t\t\talignItems: \"center\",\r\n\t\t\ttextAlign: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tdisplay: \"flex\"\r\n\t\t} as CSSProp,\r\n\t\tsecondaryBlockWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexFlow: \"column\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"flex-start\",\r\n\t\t\tposition: \"relative\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tflexGrow: 2\r\n\t\t} as CSSProp,\r\n\t\tsecondaryBlock: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\tpadding: theme.sizing.sizes.lg,\r\n\t\t\tborderRadius: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\ttextWrap: {\r\n\t\t\tmarginBottom: theme.sizing.sizes.lg,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\ttextOverflow: \"ellipsis\",\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\tfontSize: theme.sizing.fontSizes.bodyMax,\r\n\t\t\tlineHeight: theme.sizing.lineHeights.title\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { SwipeoutActions, SwipeoutButton } from \"framework7-react\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport React, { Fragment } from \"react\";\r\n\r\ntype QuizDeleteSwipeoutProps = {\r\n\tonDelete: () => void;\r\n};\r\nconst deleteText = () => t(\"Delete\");\r\n\r\nexport const QuizDeleteSwipeout: React.FC<QuizDeleteSwipeoutProps> = ({ onDelete }) => {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{Array.from(Array(2).keys()).map((k, idx) => (\r\n\t\t\t\t<SwipeoutActions key={idx} left={!idx} right={!!idx}>\r\n\t\t\t\t\t<SwipeoutButton onClick={onDelete} delete>\r\n\t\t\t\t\t\t{deleteText()}\r\n\t\t\t\t\t</SwipeoutButton>\r\n\t\t\t\t</SwipeoutActions>\r\n\t\t\t))}\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nQuizDeleteSwipeout.displayName = \"QuizDeleteSwipeout\";\r\n","import { useStyles } from \"hooks/useStyles\";\r\nimport {\r\n\tMerchandiserMainPage,\r\n\tbeforeMerchandiserPageInit,\r\n\tafterMerchandiserPageOut\r\n} from \"quiz/pages/merchandiser/MerchandiserMainPage\";\r\nimport { ProfilePage } from \"quiz/pages/profile/profilePage/Profile\";\r\nimport { SupervisorMainPage } from \"quiz/pages/SupervisorMainPage\";\r\nimport * as React from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { historyIcon } from \"./history\";\r\nimport { posIcon } from \"./pos\";\r\nimport { profileIcon } from \"./profile\";\r\nimport { QuizPageComponentProps } from \"quiz/QuizAppRoutes\";\r\nimport { toTop } from \"utils/helpers\";\r\nimport { getTabNavigationStyles } from \"./getTabNavigationStyles\";\r\nimport { TabTransition } from \"./TabTransition\";\r\n\r\nconst tabs = [\r\n\t{\r\n\t\ticon: historyIcon,\r\n\t\ttype: \"stroke\",\r\n\t\tcontent: SupervisorMainPage,\r\n\t\ttitle: \"\" //нужно, чтобы использовать свой навбар\r\n\t},\r\n\t{\r\n\t\ticon: posIcon,\r\n\t\ttype: \"stroke\",\r\n\t\tcontent: MerchandiserMainPage,\r\n\t\ttitle: \"Outlets\",\r\n\t\tsearch: true\r\n\t},\r\n\t{\r\n\t\ticon: profileIcon,\r\n\t\ttype: \"fill\",\r\n\t\tcontent: ProfilePage,\r\n\t\ttitle: \"Profile\"\r\n\t}\r\n];\r\n\r\ninterface TabNavigationProps extends QuizPageComponentProps {\r\n\tactiveTab: number;\r\n}\r\n\r\nexport const TabNavigation: React.FC<TabNavigationProps> = props => {\r\n\tconst [active, setActiveState] = React.useState(props.activeTab || 0);\r\n\tconst lineRef = React.useRef<HTMLDivElement>();\r\n\tconst styles = useStyles(getTabNavigationStyles, tabs.length);\r\n\r\n\tconst Component = tabs[active].content;\r\n\r\n\tconst getIconStyles = tab => ({\r\n\t\tbaseStyles: tab.type == \"stroke\" ? styles.tabIconStroke : styles.tabIconFill,\r\n\t\tactiveStyles: tab.type == \"stroke\" ? styles.tabIconStrokeActive : styles.tabIconFillActive\r\n\t});\r\n\r\n\tconst setActive = idx => {\r\n\t\tlineRef.current.style.transform = `translate3d(${idx * 100}%, 0px, 0px)`;\r\n\r\n\t\tprops.setTitle(tabs[idx].title);\r\n\t\tprops.setSearch(tabs[idx].search || false);\r\n\t\tsetActiveState(idx);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\tlineRef.current.style.transform = `translate3d(${active * 100}%, 0px, 0px)`;\r\n\t\tprops.setTitle(tabs[active].title);\r\n\t\tprops.setSearch(tabs[active].search || false);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t<TabTransition animationKey={active}>\r\n\t\t\t\t<Component {...props} />\r\n\t\t\t</TabTransition>\r\n\t\t\t<div className={css(styles.tabs)}>\r\n\t\t\t\t<div className={css(styles.line)} ref={lineRef}></div>\r\n\t\t\t\t{tabs.map((tab, idx) => {\r\n\t\t\t\t\tconst { baseStyles, activeStyles } = getIconStyles(tab);\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={css(styles.tab, baseStyles, idx == active && activeStyles)}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconst MerchandiserMainPageIdx = 1;\r\n\t\t\t\t\t\t\t\tif (idx === MerchandiserMainPageIdx) {\r\n\t\t\t\t\t\t\t\t\tbeforeMerchandiserPageInit();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tafterMerchandiserPageOut();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"currentTab\", String(idx));\r\n\t\t\t\t\t\t\t\ttoTop();\r\n\t\t\t\t\t\t\t\tsetActive(idx);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tab.icon}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { Transition } from \"react-transition-group\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getTabNavigationStyles } from \"./getTabNavigationStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\ninterface TabTransitionProps {\r\n\tanimationKey: number;\r\n}\r\n\r\nexport const TabTransition: React.FC<TabTransitionProps> = props => {\r\n\tconst styles = useStyles(getTabNavigationStyles);\r\n\r\n\tconst initStyle = {\r\n\t\ttransition: `opacity ${250}ms ease-in-out`,\r\n\t\topacity: 0\r\n\t};\r\n\r\n\tconst transitionStyles = {\r\n\t\tentering: { opacity: 1 },\r\n\t\tentered: { opacity: 1 },\r\n\t\texiting: { opacity: 0 },\r\n\t\texited: { opacity: 0 }\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Transition in={true} timeout={250}>\r\n\t\t\t{state => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t...initStyle,\r\n\t\t\t\t\t\t...transitionStyles[state]\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tkey={props.animationKey}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={css(styles.content)}>{props.children}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Transition>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport { appMode2ColorMap } from \"../instanceBar/instanceBarStyles\";\r\nimport { CONFIG } from \"quiz/QuizApp\";\r\n\r\nconst opacityKeyframes = {\r\n\tfrom: {\r\n\t\topacity: 0\r\n\t},\r\n\r\n\tto: {\r\n\t\topacity: 1\r\n\t}\r\n};\r\n\r\nexport const getTabNavigationStyles = (theme: Theme, count: number) => {\r\n\tconst environmentColorKey = appMode2ColorMap[CONFIG.appMode];\r\n\tconst activeColor = theme.colors[environmentColorKey].main;\r\n\tconst baseColor = theme.colors.secondary.border;\r\n\tconst baseWidth = 100 / count;\r\n\treturn {\r\n\t\twrap: {} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tmarginBottom: `calc(${scale(theme.sizing.sizes.lg, ScaleEnum.Double)} + var(--instanceBarIndent, 0px))`,\r\n\t\t\tanimationName: [opacityKeyframes],\r\n\t\t\tanimationDuration: \"250ms\"\r\n\t\t} as CSSProp,\r\n\t\ttabs: {\r\n\t\t\tposition: \"fixed\",\r\n\t\t\tbottom: 0,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t\tbackground: theme.colors.base.main,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"space-evenly\",\r\n\t\t\tboxShadow: theme.shadows.up.md,\r\n\t\t\tpaddingBottom: \"calc(env(safe-area-inset-bottom) + var(--instanceBarIndent))\"\r\n\t\t} as CSSProp,\r\n\t\ttab: {\r\n\t\t\twidth: baseWidth + \"%\",\r\n\t\t\tflexGrow: 1,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\ttransition: theme.transitions.base\r\n\t\t} as CSSProp,\r\n\t\ttabActive: {} as CSSProp,\r\n\t\ttabIconFill: {\r\n\t\t\tfill: baseColor\r\n\t\t},\r\n\t\ttabIconFillActive: {\r\n\t\t\tfill: activeColor\r\n\t\t},\r\n\t\ttabIconStroke: {\r\n\t\t\tstroke: baseColor\r\n\t\t},\r\n\t\ttabIconStrokeActive: {\r\n\t\t\tstroke: activeColor\r\n\t\t},\r\n\t\tline: {\r\n\t\t\twidth: baseWidth + \"%\",\r\n\t\t\tposition: \"absolute\",\r\n\t\t\theight: theme.sizing.sizes.xxs,\r\n\t\t\tbackground: theme.colors[environmentColorKey].main,\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\ttransition: theme.transitions.base\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\n\r\nexport const historyIcon = (\r\n\t<svg width=\"48\" height=\"48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<path\r\n\t\t\td=\"M30 23v-9a2 2 0 00-2-2H14a2 2 0 00-2 2v18a2 2 0 002 2h7M31 28.083A6.002 6.002 0 0130 40a6 6 0 01-4.5-9.969\"\r\n\t\t\tstrokeWidth=\"2\"\r\n\t\t\tstrokeLinecap=\"round\"\r\n\t\t/>\r\n\t\t<path\r\n\t\t\td=\"M31.121 30.243L29 28.12 31.121 26M32 34h-2l-2 2M16 17h10M16 22h10M16 27h4\"\r\n\t\t\tstrokeWidth=\"2\"\r\n\t\t\tstrokeLinecap=\"round\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n","import * as React from \"react\";\r\n\r\nexport const posIcon = (\r\n\t<svg width=\"48\" height=\"48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<path\r\n\t\t\td=\"M12 28v4.25M36 28v8h-6m-18-3.75V36h18m-18-3.75h9m9 0V36m0-3.75V28m0 4.25h-9m0 0V28\"\r\n\t\t\tstrokeWidth=\"2\"\r\n\t\t\tstrokeLinecap=\"round\"\r\n\t\t/>\r\n\t\t<path\r\n\t\t\td=\"M12.333 24a3.33 3.33 0 002.917-1.728A3.33 3.33 0 0018.167 24a3.33 3.33 0 002.916-1.728A3.33 3.33 0 0024 24a3.33 3.33 0 002.917-1.728A3.33 3.33 0 0029.833 24a3.33 3.33 0 002.917-1.728A3.33 3.33 0 0035.667 24 3.343 3.343 0 0039 20.647L35.667 12H12.333L9 20.647A3.343 3.343 0 0012.333 24z\"\r\n\t\t\tstrokeWidth=\"2\"\r\n\t\t\tstrokeLinejoin=\"round\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n","import * as React from \"react\";\r\n\r\nexport const profileIcon = (\r\n\t<svg width=\"48\" height=\"48\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<path d=\"M30 24l.447.894.553-.276V24h-1zm-12 0h-1v.618l.553.276L18 24zm10.447 4.106a1 1 0 10-.894 1.788l.894-1.788zm-8.894-2.212a1 1 0 10.894-1.788l-.894 1.788zm-5.975 6.317l-.447-.894.447.894zm20.844 0l.448-.894-.448.894zM29 18v6h2v-6h-2zm-10 6v-6h-2v6h2zm10.553-.894l-16.422 8.21.894 1.79 16.422-8.212-.894-1.788zM14.473 37h19.055v-2H14.472v2zm20.397-5.683l-6.423-3.211-.894 1.788 6.422 3.212.895-1.79zm-17.317-6.423l2 1 .894-1.788-2-1-.894 1.788zm-4.423 6.423C10.3 32.733 11.306 37 14.473 37v-2c-1.055 0-1.39-1.422-.447-1.894l-.895-1.79zM24 13a5 5 0 015 5h2a7 7 0 00-7-7v2zm9.528 24c3.166 0 4.173-4.267 1.342-5.683l-.895 1.789c.944.471.608 1.894-.447 1.894v2zM24 11a7 7 0 00-7 7h2a5 5 0 015-5v-2z\" />\r\n\t</svg>\r\n);\r\n","import * as React from \"react\";\r\nimport { Tabs as TabsBase, Toolbar as ToolbarBase, Tab as TabBase, F7Toolbar } from \"framework7-react\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { applyTheme, tabsStyles } from \"./tabsStyles\";\r\n\r\nexport const Tabs = TabsBase;\r\n\r\nexport const Toolbar: React.FunctionComponent<F7Toolbar.Props> = props => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tReact.useEffect(() => {\r\n\t\tapplyTheme(theme);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<style>{tabsStyles(theme)}</style>\r\n\t\t\t<ToolbarBase {...props}>{props.children} </ToolbarBase>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport const Tab = TabBase;\r\n","import { createThemeApplier } from \"wraps/component\";\r\nimport { Theme } from \"theme/theme\";\r\n\r\nexport const applyTheme = createThemeApplier((theme: Theme) => {\r\n\treturn {\r\n\t\t\"f7-toolbar-bg-color\": theme.colors.primary.background,\r\n\t\t\"f7-toolbar-border-color\": theme.colors.base.background,\r\n\t\t\"f7-tabbar-link-text-transform\": \"none\",\r\n\t\t\"f7-tabbar-link-active-color\": theme.colors.base.text,\r\n\t\t\"f7-toolbar-height\": \"40px\",\r\n\t\t\"f7-toolbar-top-shadow-image\": \"none\"\r\n\t};\r\n});\r\n\r\nexport const tabsStyles = (theme: Theme) => {\r\n\treturn `\r\n\t\t.toolbar-top {\r\n\t\t\ttop: 0 !important\r\n\t\t}\r\n\t\t.md .tabbar .tab-link-highlight {\r\n\t\t\tz-index: 20\r\n\t\t}\r\n\t`.trim();\r\n};\r\n","import * as React from \"react\";\r\nimport { Text, TextProps } from \"quiz/components/text/Text\";\r\nimport { t } from \"quiz/QuizApp\";\r\n\r\nexport interface TProps extends TextProps {\r\n\tchildren: string;\r\n\targs?: Record<string, string>;\r\n}\r\n\r\nexport const T: React.FC<TProps> = React.memo(props => {\r\n\treturn <Text {...props}>{t(props.children, props.args) || props.children}</Text>;\r\n});\r\nT.displayName = \"Text\";\r\n","import { useStyles, StyleCreatorFunction } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { css, StyleDeclarationValue, StyleDeclarationValues } from \"wraps/styleCreators\";\r\nimport { getTextStyles } from \"./textStyles\";\r\n\r\ntype TextTags = \"div\" | \"span\" | \"p\" | \"i\" | \"b\" | \"strong\" | \"pre\" | \"code\";\r\n\r\nexport interface TextProps {\r\n\tcolorType?: ColorTypes;\r\n\tsize?: TextSizeType;\r\n\ttag?: TextTags;\r\n\titalic?: boolean;\r\n\tbold?: boolean;\r\n\tmuted?: boolean;\r\n\taccent?: boolean;\r\n\t/** CSS in JS styling */\r\n\tstyles?: StyleDeclarationValue;\r\n}\r\n\r\nexport const Text: React.FunctionComponent<TextProps> = React.memo(props => {\r\n\tconst styles = useStyles(getTextStyles as StyleCreatorFunction<React.PropsWithChildren<TextProps>, unknown>, props);\r\n\r\n\tconst Tag = props.tag || \"span\";\r\n\r\n\treturn (\r\n\t\t<Tag className={css((styles as { text: StyleDeclarationValues<unknown> }).text, props.styles)}>\r\n\t\t\t{props.children}\r\n\t\t</Tag>\r\n\t);\r\n});\r\nText.displayName = \"Text\";\r\n","import { ColorTypes } from \"theme/colors\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { CSSProps } from \"wraps/styleCreators\";\r\nimport { TextProps } from \"./Text\";\r\n\r\nexport const getTextStyles = (theme: Theme, props: TextProps) => {\r\n\tconst colorType = props.colorType || ColorTypes.base;\r\n\tconst size = props.size || TextSizeType.body;\r\n\tconst s = theme.sizing;\r\n\r\n\tconst vars = {\r\n\t\tfontFamily: theme.typography.fonts.base,\r\n\t\tfontSize: s.fontSizes[size],\r\n\t\tlineHeight: s.lineHeights[size],\r\n\t\tfontWeight: props.bold ? s.fontWeights.bold : s.fontWeights.medium,\r\n\t\tfontStyle: <CSSProps[\"fontStyle\"]>(props.italic ? \"italic\" : \"normal\"),\r\n\t\tcolor: props.muted\r\n\t\t\t? theme.colors[colorType].texts.muted\r\n\t\t\t: props.accent\r\n\t\t\t? theme.colors[colorType].texts.accent\r\n\t\t\t: theme.colors[colorType].texts.main\r\n\t};\r\n\r\n\treturn {\r\n\t\ttext: {\r\n\t\t\tfontFamily: vars.fontFamily,\r\n\t\t\tfontSize: vars.fontSize,\r\n\t\t\tlineHeight: vars.lineHeight,\r\n\t\t\tfontWeight: vars.fontWeight,\r\n\t\t\tfontStyle: vars.fontStyle,\r\n\t\t\tcolor: vars.color,\r\n\t\t\twhiteSpace: \"normal\"\r\n\t\t} as CSSProps\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { FunctionComponent } from \"react\";\r\nimport { FieldControlLayout, FieldControlLayoutProps } from \"../fieldControlLayout/FieldControlLayout\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { filterProps } from \"utils/helpers\";\r\nimport { inheritFieldControlProps } from \"../input/InputControl\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getTextareaStyles } from \"./textareaStyles\";\r\n\r\ntype TextareaHTMLProps = React.DetailedHTMLProps<\r\n\tReact.TextareaHTMLAttributes<HTMLTextAreaElement>,\r\n\tHTMLTextAreaElement\r\n>;\r\n\r\ninterface TextareaControlProps\r\n\textends Pick<FieldControlLayoutProps, typeof inheritFieldControlProps[number]>,\r\n\t\tOmit<TextareaHTMLProps, \"onChange\" | \"value\"> {}\r\n\r\nexport const TextareaControl: FunctionComponent<TextareaControlProps> = function InputCtrl(props) {\r\n\tconst s = useStyles(getTextareaStyles);\r\n\tconst fieldControlLayoutProps = filterProps(props, inheritFieldControlProps);\r\n\tconst htmlProps = filterProps(props, inheritFieldControlProps, false);\r\n\tconst textAreaRef = React.useRef<HTMLTextAreaElement>();\r\n\r\n\treturn (\r\n\t\t<FieldControlLayout\r\n\t\t\t{...fieldControlLayoutProps}\r\n\t\t\tvalue={props.value}\r\n\t\t\tonClearClick={() => textAreaRef && textAreaRef.current.focus()}\r\n\t\t\tcustomControl={(props, styles) => (\r\n\t\t\t\t<textarea\r\n\t\t\t\t\trows={4}\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\t{...htmlProps}\r\n\t\t\t\t\tclassName={css(styles, s.textarea)}\r\n\t\t\t\t\tvalue={props.value != null ? props.value : \"\"}\r\n\t\t\t\t\tref={textAreaRef}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n};\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport function getTextareaStyles() {\r\n\treturn {\r\n\t\ttextarea: {\r\n\t\t\tresize: \"none\"\r\n\t\t} as CSSProp\r\n\t};\r\n}\r\n","import * as React from \"react\";\r\nimport { Toggle as ToggleBase } from \"framework7-react\";\r\nimport { applyTheme, toggleStyles } from \"./toggleStyles\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { RefObject } from \"react\";\r\n\r\nexport const Toggle = React.forwardRef<ToggleBase, ToggleBase.Props>((props, ref: RefObject<ToggleBase>) => {\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tReact.useEffect(() => {\r\n\t\tapplyTheme(theme);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<style>{toggleStyles(theme)}</style>\r\n\t\t\t<ToggleBase {...props} ref={ref} />\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nToggle.displayName = \"Toggle\";\r\n","import { createThemeApplier } from \"wraps/component\";\r\nimport { Theme } from \"theme/theme\";\r\n\r\nexport const applyTheme = createThemeApplier((theme: Theme) => {\r\n\treturn {\r\n\t\t\"f7-toggle-height\": theme.sizing.sizes.md,\r\n\t\t\"f7-toggle-width\": theme.sizing.sizes.xl,\r\n\t\t\"f7-toggle-active-color\": theme.colors.primary.main,\r\n\t\t\"f7-toggle-inactive-color\": theme.colors.base.border\r\n\t};\r\n});\r\n\r\nexport const toggleStyles = (theme: Theme): string =>\r\n\t`\r\n\t.md .toggle input[type=\"checkbox\"]:checked + .toggle-icon {\r\n\t\tbackground: ${theme.colors.base.border} !important;\r\n\t}\r\n\t.md .toggle-icon:after {\r\n\t\theight: calc(var(--f7-toggle-height)) !important;\r\n\t\twidth: calc(var(--f7-toggle-height) ) !important;\r\n\t\ttop: 0;\r\n\t\tbackground: ${theme.colors.secondary.border};\r\n\t\tbox-shadow: none !important;\r\n\t}\r\n\t.md .toggle input[type=\"checkbox\"]:checked + .toggle-icon:after {\r\n\t\ttransform: translateX(calc(var(--f7-toggle-width) - var(--f7-toggle-height) )) !important;\r\n\t}\r\n`.trim();\r\n","import { faAngleRight } from \"@fortawesome/pro-regular-svg-icons/faAngleRight\";\r\nimport { faExclamationCircle } from \"@fortawesome/pro-solid-svg-icons/faExclamationCircle\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { setupIcons } from \"quiz/components/icon/setup\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { Gauge } from \"framework7-react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { quizQstService } from \"quiz/QuizApp\";\r\nimport { VisitUploadData } from \"quiz/services/QuizDraftService\";\r\nimport * as React from \"react\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { css, CSSProp } from \"wraps/styleCreators\";\r\nimport { getCSSSizeValue } from \"utils/cssHelpers\";\r\n\r\nsetupIcons(faExclamationCircle, faAngleRight);\r\n\r\nconst getStyle = (theme: Theme) => {\r\n\treturn {\r\n\t\tprogressWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tprogressText: {\r\n\t\t\tfontSize: theme.sizing.fontSizes.caption,\r\n\t\t\tlineHeight: theme.sizing.lineHeights.caption,\r\n\t\t\tcolor: theme.colors.base.texts.muted,\r\n\t\t\tmarginRight: theme.sizing.sizes.sm\r\n\t\t},\r\n\t\texclamationIcon: {\r\n\t\t\tcolor: theme.colors.danger.main,\r\n\t\t\tmarginRight: theme.sizing.sizes.sm\r\n\t\t},\r\n\t\tangleIcon: {\r\n\t\t\tcolor: theme.colors.danger.main\r\n\t\t},\r\n\t\terrorZone: {\r\n\t\t\tdisplay: \"flex\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n\r\ninterface UnsentReportIconProps {\r\n\tdata: VisitUploadData;\r\n}\r\n\r\nexport const UnsentReportIcon: React.FC<UnsentReportIconProps> = React.memo(({ data }) => {\r\n\tconst styles = useStyles(getStyle);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\r\n\tconst hasErrors = quizQstService.hasUploadErrors(data);\r\n\r\n\tif (hasErrors) {\r\n\t\treturn (\r\n\t\t\t<div className={css(styles.errorZone)}>\r\n\t\t\t\t<Icon icon={[\"fas\", \"exclamation-circle\"]} styles={styles.exclamationIcon} />\r\n\t\t\t\t<Icon icon={[\"far\", \"angle-right\"]} styles={styles.angleIcon} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tconst progress = quizQstService.getUploadProgress(data);\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.progressWrap)}>\r\n\t\t\t<Text styles={styles.progressText}>{Math.round(progress * 100)}%</Text>\r\n\t\t\t<Gauge\r\n\t\t\t\ttype=\"circle\"\r\n\t\t\t\tvalue={progress}\r\n\t\t\t\tsize={getCSSSizeValue(theme.sizing.sizes.md)}\r\n\t\t\t\tborderColor={theme.colors.primary.main}\r\n\t\t\t\tborderWidth={getCSSSizeValue(theme.sizing.sizes.xs)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n});\r\nUnsentReportIcon.displayName = \"UnsentReportIcon\";\r\n","import { BlockTitle } from \"quiz/components/block/Block\";\r\nimport { OutletItem, OutletItemProps } from \"quiz/components/outletItem/OutletItem\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport { quizDraftService, quizQstService, t, nav } from \"quiz/QuizApp\";\r\nimport { VisitUploadData } from \"quiz/services/QuizDraftService\";\r\nimport * as React from \"react\";\r\nimport { ErrorBoundary } from \"../errorBoundary/ErrorBoundary\";\r\nimport { QuizList } from \"../quizList/QuizList\";\r\nimport { UnsentReportIcon } from \"./UnsentReportIcon\";\r\n\r\ntype UnsentReportsProps = {\r\n\treports: VisitUploadData[];\r\n};\r\n\r\ntype OutletItemInteraction = Pick<OutletItemProps, 'itemLink' | 'onClick' | 'onDeleteSwipeout'>;\r\n\r\nexport const UnsentReports: React.FC<UnsentReportsProps> = props => {\r\n\tconst [reports, setReports] = React.useState<VisitUploadData[]>(props.reports);\r\n\tconst [updateKey, setUpdateKey] = React.useState(Math.random());\r\n\r\n\tuseCancellablePromise(() => quizDraftService.getVisitUploadData(), {\r\n\t\tonSuccess: reports => {\r\n\t\t\tsetReports(reports.length > 0 ? reports : null);\r\n\t\t},\r\n\t\tonError: e => {\r\n\t\t\tthrow e;\r\n\t\t},\r\n\t\tdeps: [updateKey]\r\n\t});\r\n\r\n\tconst toUnsentReport = React.useCallback(\r\n\t\t(visitData: VisitUploadData) => {\r\n\t\t\tnav.toUnsentReport({\r\n\t\t\t\tvisitData,\r\n\t\t\t\topen: false,\r\n\t\t\t\tisCompleted: true\r\n\t\t\t});\r\n\t\t},\r\n\t\t[reports]\r\n\t);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst unbindProgress = quizQstService.events.on(\"visitUploadProgress\", () => setUpdateKey(Math.random()));\r\n\t\tconst unbindRetry = quizQstService.events.on(\"visitUploadRetry\", () => setUpdateKey(Math.random()));\r\n\t\tconst unbindDelete = quizQstService.events.on(\"visitUploadDelete\", () => setUpdateKey(Math.random()));\r\n\t\treturn () => {\r\n\t\t\tunbindProgress();\r\n\t\t\tunbindRetry();\r\n\t\t\tunbindDelete();\r\n\t\t};\r\n\t}, [reports]);\r\n\r\n\tif (!reports || !reports.length) return null;\r\n\r\n\treturn (\r\n\t\t<ErrorBoundary>\r\n\t\t\t<div>\r\n\t\t\t\t<BlockTitle title={t(\"Unsent Reports\")} counter={reports.length} />\r\n\t\t\t\t<QuizList isLoading={false} isEmpty={false} errors={[]}>\r\n\t\t\t\t\t{reports.map(r => {\r\n\t\t\t\t\t\tconst interactionProps: OutletItemInteraction = quizQstService.hasUploadErrors(r)\r\n\t\t\t\t\t\t\t? { itemLink: true, onClick: () => toUnsentReport(r), onDeleteSwipeout: () => quizQstService.deleteUploadData(r) }\r\n\t\t\t\t\t\t\t: { itemLink: false, onClick: null, onDeleteSwipeout: null }\r\n\t\t\t\t\t\treturn <OutletItem\r\n\t\t\t\t\t\t\t{...interactionProps}\r\n\t\t\t\t\t\t\tkey={r.key}\r\n\t\t\t\t\t\t\toutlet={{\r\n\t\t\t\t\t\t\t\t...r.visit.outlet,\r\n\t\t\t\t\t\t\t\temployee: r.visit.employee,\r\n\t\t\t\t\t\t\t\toutletChain: r.visit.outlet?.outletChain,\r\n\t\t\t\t\t\t\t\ttype: null,\r\n\t\t\t\t\t\t\t\tquestionnaireName: r.visit.questionnaire.name,\r\n\t\t\t\t\t\t\t\ttime: r.visit.dateEnd,\r\n\t\t\t\t\t\t\t\ticonView: <UnsentReportIcon data={r} />\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</QuizList>\r\n\t\t\t</div>\r\n\t\t</ErrorBoundary>\r\n\t);\r\n};\r\nUnsentReports.displayName = \"UnsentReports\";\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getAvatarStyles } from \"./avatarStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { colorGen } from \"utils/helpers\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\n\r\nexport interface AvatarProps {\r\n\ttext: string;\r\n\ttype?: \"small\" | \"big\" | \"normal\" | \"badge\";\r\n}\r\n\r\nexport const Avatar: React.FC<AvatarProps> = React.memo(props => {\r\n\tconst styles = useStyles(getAvatarStyles);\r\n\tconst color = colorGen(props.text);\r\n\r\n\tconst size = props.type || \"normal\";\r\n\r\n\tconst sizeStyle = {\r\n\t\tnormal: {\r\n\t\t\twrap: styles.wrap,\r\n\t\t\ttext: styles.text\r\n\t\t},\r\n\t\tsmall: {\r\n\t\t\twrap: styles.wrapSmall,\r\n\t\t\ttext: styles.textSmall\r\n\t\t},\r\n\t\tbig: {\r\n\t\t\twrap: styles.wrapBig,\r\n\t\t\ttext: styles.textBig\r\n\t\t},\r\n\t\tbadge: {\r\n\t\t\twrap: styles.wrapBadge,\r\n\t\t\ttext: styles.textBadge\r\n\t\t}\r\n\t}; //toDO: from styles? typing\r\n\r\n\treturn (\r\n\t\t<span className={css(sizeStyle[size].wrap)} style={{ background: color }}>\r\n\t\t\t<Text styles={sizeStyle[size].text}>{props.text}</Text>\r\n\t\t</span>\r\n\t);\r\n});\r\nAvatar.displayName = \"Avatar\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport function getAvatarStyles(theme: Theme) {\r\n\tconst wrapBase: CSSProp = {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\"\r\n\t};\r\n\tconst textBase: CSSProp = {\r\n\t\tcolor: theme.colors.base.texts.contrast,\r\n\t\tfontSize: theme.sizing.fontSizes.caption,\r\n\t\tlineHeight: theme.sizing.lineHeights.caption\r\n\t};\r\n\tconst bigWrapSize = scale(theme.sizing.sizes.xl, ScaleEnum.Double);\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\t...wrapBase,\r\n\t\t\twidth: theme.sizing.sizes.xl,\r\n\t\t\theight: theme.sizing.sizes.xl,\r\n\t\t\tborderRadius: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\ttext: {\r\n\t\t\t...textBase\r\n\t\t} as CSSProp,\r\n\t\twrapSmall: {\r\n\t\t\t...wrapBase,\r\n\t\t\theight: theme.constants.gridPadding,\r\n\t\t\twidth: theme.constants.gridPadding\r\n\t\t} as CSSProp,\r\n\t\ttextSmall: {\r\n\t\t\t...textBase\r\n\t\t} as CSSProp,\r\n\t\twrapBig: {\r\n\t\t\t...wrapBase,\r\n\t\t\theight: bigWrapSize,\r\n\t\t\twidth: bigWrapSize,\r\n\t\t\tborderRadius: theme.sizing.sizes.xl //toDO: calc\r\n\t\t} as CSSProp,\r\n\t\ttextBig: {\r\n\t\t\tcolor: theme.colors.base.texts.contrast,\r\n\t\t\tfontSize: theme.sizing.fontSizes.title\r\n\t\t},\r\n\t\twrapBadge: {\r\n\t\t\tpadding: `0 ${theme.sizing.sizes.xs}`,\r\n\t\t\tborderRadius: theme.sizing.sizes.xs,\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\tflexWrap: \"nowrap\",\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\tdisplay: \"flex\"\r\n\t\t} as CSSProp,\r\n\t\ttextBadge: {\r\n\t\t\t...textBase,\r\n\t\t\tlineHeight: theme.sizing.lineHeights.bodyMax,\r\n\t\t\twhiteSpace: \"nowrap\",\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\ttextOverflow: \"ellipsis\"\r\n\t\t} as CSSProp\r\n\t};\r\n}\r\n","import { BlockTitle } from \"quiz/components/block/Block\";\r\nimport { OutletItem } from \"quiz/components/outletItem/OutletItem\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport * as React from \"react\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { QuizList } from \"../quizList/QuizList\";\r\nimport { getVisitedOutletStyles } from \"./visitedOutletStyles\";\r\nimport { OutletFullData, ID } from \"quiz/services/models\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useAnimation } from \"hooks/useAnimation\";\r\nimport { formatDateTime, compareStringDate, getAnimationKey } from \"utils/helpers\";\r\nimport { VisitedOutletsSkeleton } from \"../quizSkeleton/skeletons/VisitedOutletsSkeleton\";\r\nimport { QuizFade } from \"../fade/QuizFade\";\r\n\r\ninterface VisitedOutletsProps {\r\n\tvisits: ViewVisitInfo[];\r\n\trequestError: any;\r\n\tonOutletClick: (idVisit: ID) => void;\r\n}\r\n\r\nexport interface ViewVisitInfo extends OutletFullData {\r\n\tidVisit: ID;\r\n}\r\n\r\nexport const VisitedOutlets: React.FC<VisitedOutletsProps> = ({ visits, requestError, onOutletClick }) => {\r\n\tconst styles = useStyles(getVisitedOutletStyles);\r\n\tconst animation = useAnimation();\r\n\r\n\tconst gHash: [string, ViewVisitInfo[]][] = React.useMemo(() => {\r\n\t\tconst groupHash: { [key: string]: ViewVisitInfo[] } = {};\r\n\t\tvisits?.forEach(visit => {\r\n\t\t\tconst key = formatDateTime(visit.lastVisit.dateEnd);\r\n\t\t\tconst gCode = key === formatDateTime(new Date()) ? t(\"Today\") : key;\r\n\t\t\tif (!groupHash[gCode]) groupHash[gCode] = [];\r\n\t\t\tgroupHash[gCode].push(visit);\r\n\t\t});\r\n\t\treturn Object.entries(groupHash).sort((a, b) => compareStringDate(b[0], a[0]));\r\n\t}, [visits]); //toDO: to hook?\r\n\r\n\tconst [isEmpty, isLoading] = [visits?.length == 0, !visits?.length];\r\n\tconst fadeAnimationKey = getAnimationKey(!isEmpty && isLoading, [requestError?.message]);\r\n\r\n\treturn (\r\n\t\t<QuizFade animationKey={fadeAnimationKey}>\r\n\t\t\t<div className={css(styles.visited)}>\r\n\t\t\t\t{gHash?.length > 0 ? (\r\n\t\t\t\t\tgHash?.map(el => {\r\n\t\t\t\t\t\tconst title = el[0];\r\n\t\t\t\t\t\tconst dayVisit: ViewVisitInfo[] = el[1];\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={el[0]}>\r\n\t\t\t\t\t\t\t\t{title && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<BlockTitle title={title} counter={dayVisit.length} />\r\n\t\t\t\t\t\t\t\t\t\t<QuizList\r\n\t\t\t\t\t\t\t\t\t\t\tisEmpty={false}\r\n\t\t\t\t\t\t\t\t\t\t\tisLoading={false}\r\n\t\t\t\t\t\t\t\t\t\t\terrors={[requestError]}\r\n\t\t\t\t\t\t\t\t\t\t\tseparateErrorBlock\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dayVisit &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tdayVisit.map((visit, idx) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OutletItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlet={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...visit,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdistance: null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttime: visit.lastVisit.dateEnd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onOutletClick(visit.idVisit)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={animation.animationDelay(idx)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</QuizList>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<QuizList\r\n\t\t\t\t\t\tisEmpty={isEmpty}\r\n\t\t\t\t\t\tisLoading={!isEmpty && isLoading}\r\n\t\t\t\t\t\temptyList={{ separateBlock: true }}\r\n\t\t\t\t\t\terrors={[requestError]}\r\n\t\t\t\t\t\tloading={() => <VisitedOutletsSkeleton totalBlocks={10} />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</QuizFade>\r\n\t);\r\n};\r\nVisitedOutlets.displayName = \"VisitedOutlets\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getVisitedOutletStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tvisited: {\r\n\t\t\tpaddingBottom: theme.sizing.sizes.md,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { QuizApp, quizExtensionService } from \"./QuizApp\";\r\nimport { fixClicks } from \"utils/helpers\";\r\nimport { MobileAppFacade } from \"./MobileAppFacade\";\r\n\r\nquizExtensionService.startApp((onInit?: () => void) => {\r\n\tReactDOM.render(<QuizApp onInit={() => onInit && onInit()} />, document.getElementById(\"root\"));\r\n\t// fixClicks();\r\n});\r\n\r\n(window as any).mobileAppFacade = new MobileAppFacade();\r\n","import { TabNavigation } from \"quiz/components/tabBar/TabNavigation\";\r\nimport * as React from \"react\";\r\nimport { quizAuthService } from \"quiz/QuizApp\";\r\n\r\nexport const QuizMainPage = props => {\r\n\tconst currentTab = localStorage.getItem(\"currentTab\");\r\n\treturn (\r\n\t\t<TabNavigation\r\n\t\t\t{...props}\r\n\t\t\tactiveTab={currentTab ? Number(currentTab) : quizAuthService.isSupervisor() ? 0 : 1}\r\n\t\t/>\r\n\t);\r\n};\r\n","import { VisitedOutlets, ViewVisitInfo } from \"quiz/components/visitedOutets/VisitedOutlets\";\r\nimport { nav, t, quizDataService, quizAuthService } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { DatePickerButton } from \"quiz/components/datepicker/DatePicker\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport { ExtendableNavbarPage } from \"quiz/components/extendableNavbarPage/ExtendableNavbarPage\";\r\nimport { QuizNavBar } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { ExtendableNavbarBlock } from \"quiz/components/extendableNavbarPage/ExtendableNavbarBlock\";\r\nimport { QuizError } from \"quiz/components/errors/QuizError\";\r\n\r\ntype SupervisorMainPageState = {\r\n\tdate?: Date;\r\n\tvisits?: ViewVisitInfo[];\r\n\trequestError?: any;\r\n};\r\n\r\nexport const SupervisorMainPage: React.FC = () => {\r\n\tconst [state, setState] = React.useState<SupervisorMainPageState>({ date: null, visits: null, requestError: null });\r\n\tuseCancellablePromise(\r\n\t\ta =>\r\n\t\t\tstate.date\r\n\t\t\t\t? quizDataService.getVisitData(\r\n\t\t\t\t\t\t{ userId: quizAuthService.state.user.id, date: state.date },\r\n\t\t\t\t\t\t{ signal: a }\r\n\t\t\t\t  )\r\n\t\t\t\t: quizDataService.getVisitData({ userId: quizAuthService.state.user.id }, { signal: a }),\r\n\r\n\t\t{\r\n\t\t\tonSuccess: data => setState(prev => ({ ...prev, visits: data, requestError: null })),\r\n\t\t\tonError: err => setState(prev => ({ ...prev, requestError: err })),\r\n\t\t\tdeps: [state?.date]\r\n\t\t}\r\n\t);\r\n\r\n\treturn (\r\n\t\t<ExtendableNavbarPage\r\n\t\t\twrap\r\n\t\t\thasError={state?.requestError}\r\n\t\t\tnavbarContent={() => <QuizNavBar title=\"Visited outlets\" noShadow />}\r\n\t\t\textendableContent={() => (\r\n\t\t\t\t<ExtendableNavbarBlock>\r\n\t\t\t\t\t<DatePickerButton\r\n\t\t\t\t\t\tresetButton={!!state?.date}\r\n\t\t\t\t\t\tresetButtonTitle={t(\"Reset\")}\r\n\t\t\t\t\t\tonResetButtonClick={() => setState({ requestError: null, date: null, visits: null })}\r\n\t\t\t\t\t\tonDateClick={d => setState({ requestError: null, date: d, visits: null })}\r\n\t\t\t\t\t\ttitle={t(\"Choose\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ExtendableNavbarBlock>\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t{!state?.requestError ? (\r\n\t\t\t\t<VisitedOutlets\r\n\t\t\t\t\tonOutletClick={o => nav.toVisit(o)}\r\n\t\t\t\t\tvisits={state.visits}\r\n\t\t\t\t\trequestError={state?.requestError}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<QuizError error={state?.requestError} fullScreen />\r\n\t\t\t)}\r\n\t\t</ExtendableNavbarPage>\r\n\t);\r\n};\r\nSupervisorMainPage.displayName = \"SupervisorMainPage\";\r\n","import * as React from \"react\";\r\nimport { QuizPage } from \"quiz/components/quizPage/QuizPage\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { PrivacyPolicy } from \"quiz/components/privacyPolicy/PrivacyPolicy\";\r\n\r\nexport const AcceptPrivacyPolicyPage: React.FC = React.memo(() => {\r\n\treturn (\r\n\t\t<QuizPage\r\n\t\t\tcomponent={PrivacyPolicy}\r\n\t\t\tcomponentProps={{ isButtonShow: true }}\r\n\t\t\tnavbar={{ title: t(\"Terms of use\") }}\r\n\t\t/>\r\n\t);\r\n});\r\n\r\nAcceptPrivacyPolicyPage.displayName = \"AcceptPrivacyPolicyPage\";\r\n","import { ButtonSize } from \"quiz/components/button/Button\";\r\nimport { Feedback, FeedbackTypeEnum, FeedbackTypeTranslate, FeedbackContext } from \"quiz/components/feedback/Feedback\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\nimport { feedbackClient, quizAuthService, t, logger, nav, CONFIG } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { Toast } from \"quiz/components/interaction/toast/Toast\";\r\nimport { QuizNavBar } from \"quiz/components/quizNavBar/QuizNavBar\";\r\n\r\nexport type QuizFeedbackPage = {\r\n\tcontext?: FeedbackContext;\r\n};\r\n\r\nconst appModeToInstanceIdMap = {\r\n\tprod: 2455,\r\n\tpreprod: 2452,\r\n\ttest: 2458,\r\n\tdev: 2457\r\n}; //todo: из внешнего конфига\r\n\r\nexport const QuizFeedbackPage: React.FC<QuizFeedbackPage> = props => {\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<QuizNavBar title={t(\"Feedback\")} backLink />\r\n\t\t\t<Feedback\r\n\t\t\t\tcontext={props.context}\r\n\t\t\t\ttitle={t(\"Review\")}\r\n\t\t\t\tdescription={t(\"Your feedback helps us improve the application\")}\r\n\t\t\t\tfeedbackTypeLabel={t(\"Report type\")}\r\n\t\t\t\tinputLabel={t(\"Enter your comment\")}\r\n\t\t\t\tsendButton={{ icon: \"paper-plane\", title: t(\"Send\"), fullWidth: true, size: ButtonSize.large }}\r\n\t\t\t\ttypes={Object.keys(FeedbackTypeEnum).reduce(\r\n\t\t\t\t\t(obj, item) => Object.assign(obj, { [item]: t(item) }),\r\n\t\t\t\t\t{} as FeedbackTypeTranslate\r\n\t\t\t\t)}\r\n\t\t\t\tonSubmit={formData => {\r\n\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tconst user = quizAuthService.state.user;\r\n\t\t\t\t\t\tfeedbackClient\r\n\t\t\t\t\t\t\t.send({\r\n\t\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\t\toriginUrl: location.href,\r\n\t\t\t\t\t\t\t\tversion: `${CONFIG.version}:${CONFIG.revision}`,\r\n\t\t\t\t\t\t\t\tinstanceId: `${appModeToInstanceIdMap[CONFIG.appMode]}`,\r\n\t\t\t\t\t\t\t\t...(user && {\r\n\t\t\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\t\t\tuser: JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\tid: user.id,\r\n\t\t\t\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\t\t\t\tlogin: user.identityName,\r\n\t\t\t\t\t\t\t\t\t\tfullName: user.fullName\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tdebug: JSON.stringify({\r\n\t\t\t\t\t\t\t\t\tuserAgent: navigator.userAgent,\r\n\t\t\t\t\t\t\t\t\tactions: logger.getLog().map(item => ({\r\n\t\t\t\t\t\t\t\t\t\ttime: item.time,\r\n\t\t\t\t\t\t\t\t\t\ttype: item.type,\r\n\t\t\t\t\t\t\t\t\t\tcode: item.code,\r\n\t\t\t\t\t\t\t\t\t\tdetails: item.data\r\n\t\t\t\t\t\t\t\t\t})),\r\n\t\t\t\t\t\t\t\t\terrorContext: props.context?.errorContext\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tToast.create({\r\n\t\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\t\ttext: t(\"Feedback successfully sent\")\r\n\t\t\t\t\t\t\t\t}).open();\r\n\t\t\t\t\t\t\t\tnav.back();\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\t\tToast.create({\r\n\t\t\t\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\t\t\t\ttext: t(\"Failed to send feedback\")\r\n\t\t\t\t\t\t\t\t}).open();\r\n\t\t\t\t\t\t\t\tnav.back();\r\n\t\t\t\t\t\t\t\treject();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t);\r\n};\r\n\r\nQuizFeedbackPage.displayName = \"QuizFeedbackPage\";\r\n","import * as React from \"react\";\r\nimport { Button } from \"quiz/components/button/MobileButton\";\r\nimport { t, quizAuthService, nav } from \"quiz/QuizApp\";\r\nimport { OutletVisits } from \"quiz/components/outletVisits/OutletVisits\";\r\nimport { ListNearOutlets } from \"quiz/components/listNearOutlets/ListNearOutlets\";\r\n\r\nexport const FilterPage: React.FC = props => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<Button onClick={() => {}}>{t(\"Filter\")}</Button>\r\n\t\t\t</div>\r\n\t\t\t{quizAuthService.isSupervisor() ? (\r\n\t\t\t\t<OutletVisits id={\"131877\"} />\r\n\t\t\t) : (\r\n\t\t\t\t<ListNearOutlets onOutletClick={outlet => nav.toOutlet(outlet.id)} />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\nimport { navigate, quizAuthService, t } from \"quiz/QuizApp\";\r\nimport { QuizNavBar } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { css } from \"aphrodite\";\r\nimport { Block, BlockDescription, BlockTitle } from \"quiz/components/block/Block\";\r\nimport { ButtonType, ButtonSize } from \"quiz/components/button/Button\";\r\nimport { Toast } from \"quiz/components/interaction/toast/Toast\";\r\nimport { QuizListInputItem } from \"quiz/components/quizListInputItem/QuizListInputItem\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { getApiErrorForT } from \"utils/helpers\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getForgotPasswordPageStyles } from \"./forgotPasswordPageStyles\";\r\nimport { ServerInteractionButton } from \"quiz/components/button/ServerInteractionButton\";\r\n\r\ntype ForgotPasswordPageProps = {\r\n\t$f7route?: any; //toDo: typing?\r\n};\r\n\r\ntype ForgotPasswordPageState = {\r\n\tvalue: string;\r\n\terror: any;\r\n};\r\n\r\nexport const ForgotPasswordPage: React.FC<ForgotPasswordPageProps> = props => {\r\n\tconst [state, setState] = React.useState<ForgotPasswordPageState>({\r\n\t\tvalue: props?.$f7route?.context?.login,\r\n\t\terror: null\r\n\t});\r\n\tconst style = useStyles(getForgotPasswordPageStyles);\r\n\r\n\tconst onChange = React.useCallback((v: string) => setState({ value: v, error: null }), []);\r\n\tconst submitEnabled = React.useCallback(() => !!state.value, [state.value]);\r\n\tconst command = React.useCallback(() => {\r\n\t\treturn new Promise<void>((resolve, reject) => {\r\n\t\t\tquizAuthService\r\n\t\t\t\t.forgotPassword(state.value)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tToast.create({\r\n\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\tposition: \"bottom\",\r\n\t\t\t\t\t\ttext: t(\"The letter has been sent to your mail\"),\r\n\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\tclosed: () => navigate(\"/\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).open();\r\n\t\t\t\t\treturn resolve();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconst [error, args] = getApiErrorForT(err);\r\n\t\t\t\t\tsetState(prev => ({ ...prev, error: t(error, args) }));\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}, [state.value]);\r\n\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<QuizNavBar backLink title={t(\"Forgot password?\")} faq />\r\n\t\t\t<div className={css(style.forgotPage)}>\r\n\t\t\t\t<BlockTitle title={t(\"Reset password\")} />\r\n\t\t\t\t<Block secondary>\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tinputMode=\"email\"\r\n\t\t\t\t\t\ticon={[\"far\", \"envelope\"]}\r\n\t\t\t\t\t\tvalue={state.value}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tplaceholder={t(\"Enter e-mail\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Block>\r\n\t\t\t\t{state.error && <BlockDescription text={state.error} styles={style.error} />}\r\n\t\t\t\t<BlockDescription\r\n\t\t\t\t\tmuted={false}\r\n\t\t\t\t\tcolorType={ColorTypes.base}\r\n\t\t\t\t\tstyles={style.description}\r\n\t\t\t\t\ttext={t(\r\n\t\t\t\t\t\t\"A letter will be sent to the specified e-mail address with a link to reset password and install a new one\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Block>\r\n\t\t\t\t\t<ServerInteractionButton\r\n\t\t\t\t\t\ttype={ButtonType.normal}\r\n\t\t\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\ttitle={t(\"Reset password\")}\r\n\t\t\t\t\t\tenabled={submitEnabled}\r\n\t\t\t\t\t\tcommand={command}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Block>\r\n\t\t\t</div>\r\n\t\t</Page>\r\n\t);\r\n};\r\n\r\nForgotPasswordPage.displayName = \"ForgotPasswordPage\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getForgotPasswordPageStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tforgotPage: {\r\n\t\t\theight: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexFlow: \"column\"\r\n\t\t} as CSSProp,\r\n\t\tdescription: {\r\n\t\t\tmarginBottom: theme.sizing.sizes.xl,\r\n\t\t\tcolor: theme.colors.base.hover\r\n\t\t} as CSSProp,\r\n\t\terror: {\r\n\t\t\tcolor: theme.colors.danger.main,\r\n\t\t\tmarginBottom: \"0\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Page } from \"quiz/components/page/Page\";\r\nimport { quizAuthService, t } from \"quiz/QuizApp\";\r\nimport { QuizAuthData } from \"quiz/services/QuizAuthService\";\r\nimport * as React from \"react\";\r\nimport { getApiErrorForT } from \"utils/helpers\";\r\nimport { getMobileLoginPageStyles } from \"./loginPageStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { Image } from \"quiz/components/image/Image\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { QuizNavBar } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { Block, BlockDescription } from \"quiz/components/block/Block\";\r\nimport { QuizListInputItem } from \"quiz/components/quizListInputItem/QuizListInputItem\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { ServerInteractionButton } from \"quiz/components/button/ServerInteractionButton\";\r\nimport { ButtonSize, ButtonType } from \"quiz/components/button/Button\";\r\nimport { f7 } from \"framework7-react\";\r\nimport { FieldControlLayoutProps } from \"quiz/components/fieldControlLayout/FieldControlLayout\";\r\n\r\nconst logo = require(\"../logo.svg\");\r\n\r\nexport type InputControlProps = Partial<Pick<FieldControlLayoutProps, \"colorType\" | \"description\">> & {\r\n\tvalue?: string;\r\n};\r\n\r\ninterface LoginPageState extends Partial<QuizAuthData> {\r\n\temail: string;\r\n\tpassword: string;\r\n\terror: any;\r\n\tready: boolean;\r\n}\r\n\r\nconst initialState: LoginPageState = {\r\n\temail: \"\",\r\n\tpassword: \"\",\r\n\terror: null,\r\n\tready: false\r\n};\r\n\r\nexport const LoginPage: React.FC = () => {\r\n\tconst styles = useStyles(getMobileLoginPageStyles);\r\n\tconst [state, setState] = React.useState<LoginPageState>(initialState);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tquizAuthService\r\n\t\t\t.getLoginData()\r\n\t\t\t.then(authData => setState(prev => ({ ...prev, ready: true, ...authData })))\r\n\t\t\t.catch(() => void 0); // do notnig\r\n\t}, []);\r\n\r\n\tconst onEmailChange = React.useCallback((v: string) => setState(p => ({ ...p, email: v, error: null })), []);\r\n\tconst onPassChange = React.useCallback((v: string) => setState(p => ({ ...p, password: v, error: null })), []);\r\n\tconst onSignIn = React.useCallback(() => {\r\n\t\treturn new Promise<void>((resolve, reject) => {\r\n\t\t\tquizAuthService\r\n\t\t\t\t.signIn(state.email, state.password)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tf7.views.main.router.refreshPage();\r\n\t\t\t\t\treturn resolve();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconst [error, args] = getApiErrorForT(err);\r\n\t\t\t\t\tsetState(prev => ({ ...prev, error: t(error, args) }));\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}, [state.email, state.password]);\r\n\r\n\tconst signInEnabled = React.useCallback(() => {\r\n\t\treturn !!(state.email && state.password);\r\n\t}, [state.email, state.password]);\r\n\r\n\tconst onForgotPass = React.useCallback(() => {\r\n\t\tf7.views.main.router.navigate(\"/forgot-password/\", { context: { login: state.email } });\r\n\t}, [state.email]);\r\n\r\n\tconst onRegister = React.useCallback(() => {\r\n\t\tf7.views.main.router.navigate(\"/registration/\");\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<QuizNavBar title={t(\"Authorization\")} faq />\r\n\t\t\t<div className={css(styles.wrap)}>\r\n\t\t\t\t<div className={css(styles.iosSaveArea)}>\r\n\t\t\t\t\t<div className={css(styles.content)}>\r\n\t\t\t\t\t\t<div className={css(styles.logoWrap)}>\r\n\t\t\t\t\t\t\t<Image src={logo} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={css(styles.relativeForm)}>\r\n\t\t\t\t\t\t\t<div className={css(styles.inputsWrap)}>\r\n\t\t\t\t\t\t\t\t<Block secondary>\r\n\t\t\t\t\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tinputMode=\"email\"\r\n\t\t\t\t\t\t\t\t\t\ticon={[\"far\", \"envelope\"]}\r\n\t\t\t\t\t\t\t\t\t\tvalue={state.email}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onEmailChange}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"Enter e-mail\")}\r\n\t\t\t\t\t\t\t\t\t\tdash\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tinputMode=\"text\"\r\n\t\t\t\t\t\t\t\t\t\ticon={[\"far\", \"lock-alt\"]}\r\n\t\t\t\t\t\t\t\t\t\tvalue={state.password}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onPassChange}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={t(\"Enter password\")}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Block>\r\n\t\t\t\t\t\t\t\t{state.error && <BlockDescription text={state.error} styles={styles.error} />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={css(styles.buttonsWrap)}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Block styles={styles.signInBtnBlock}>\r\n\t\t\t\t\t\t\t\t\t\t<ServerInteractionButton\r\n\t\t\t\t\t\t\t\t\t\t\tenabled={signInEnabled}\r\n\t\t\t\t\t\t\t\t\t\t\ttype={ButtonType.normal}\r\n\t\t\t\t\t\t\t\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={t(\"Enter\")}\r\n\t\t\t\t\t\t\t\t\t\t\ticon={[\"far\", \"sign-in\"]}\r\n\t\t\t\t\t\t\t\t\t\t\tcommand={onSignIn}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Block>\r\n\t\t\t\t\t\t\t\t\t<Block>\r\n\t\t\t\t\t\t\t\t\t\t<ServerInteractionButton\r\n\t\t\t\t\t\t\t\t\t\t\ttype={ButtonType.link}\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={t(\"Forgot password?\")}\r\n\t\t\t\t\t\t\t\t\t\t\tcommand={onForgotPass}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Block>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Block>\r\n\t\t\t\t\t\t\t\t\t<ServerInteractionButton\r\n\t\t\t\t\t\t\t\t\t\ttype={ButtonType.transparent}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\t\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\t\t\t\t\ttitle={t(\"Registration\")}\r\n\t\t\t\t\t\t\t\t\t\ticon={[\"far\", \"user-plus\"]}\r\n\t\t\t\t\t\t\t\t\t\tcommand={onRegister}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Block>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Page>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getMobileLoginPageStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\theight: \"100%\",\r\n\t\t\tboxSizing: \"border-box\"\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: \"auto\",\r\n\t\t\theight: `calc(100% - ${theme.sizing.sizes.lg} - ${theme.sizing.sizes.lg})`,\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\talignContent: \"space-between\",\r\n\t\t\tpadding: `${theme.sizing.sizes.lg} 0`\r\n\t\t} as CSSProp,\r\n\t\tiosSaveArea: {\r\n\t\t\theight: \"100%\",\r\n\t\t\tpaddingBottom: \"env(safe-area-inset-bottom)\"\r\n\t\t},\r\n\t\tlogoWrap: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tflexGrow: 1,\r\n\t\t\talignItems: \"center\",\r\n\t\t\ttextAlign: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.xl\r\n\t\t} as CSSProp,\r\n\t\trelativeForm: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexGrow: 1,\r\n\t\t\tflexFlow: \"column\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tposition: \"relative\",\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tinputsWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.xl,\r\n\t\t\tflexFlow: \"column\",\r\n\t\t\twidth: \"100%\"\r\n\t\t} as CSSProp,\r\n\t\tbuttonsWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexFlow: \"column\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tflexGrow: 1\r\n\t\t} as CSSProp,\r\n\t\tsignInBtnBlock: {\r\n\t\t\tpaddingBottom: theme.sizing.sizes.xl\r\n\t\t} as CSSProp,\r\n\t\terror: {\r\n\t\t\tcolor: theme.colors.danger.main,\r\n\t\t\tmarginBottom: \"0\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","module.exports = __webpack_public_path__ + \"fonts/logo.svg\";","import { Link } from \"quiz/components/link/Link\";\r\nimport { Tab, Tabs, Toolbar } from \"quiz/components/tabs/Tabs\";\r\nimport { Draft } from \"quiz/components/draft/Draft\";\r\nimport { ListNearOutlets } from \"quiz/components/listNearOutlets/ListNearOutlets\";\r\nimport { OutletRoutes } from \"quiz/components/outletRoutes/OuletRoutes\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { UnsentReports } from \"quiz/components/unsentReports/UnsentReports\";\r\nimport { nav, quizAuthService, t, quizDraftService } from \"quiz/QuizApp\";\r\nimport { QuizPageComponentProps } from \"quiz/QuizAppRoutes\";\r\nimport * as React from \"react\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { ErrorBoundary } from \"quiz/components/errorBoundary/ErrorBoundary\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getMerchandiserMainPageStyles } from \"./merchandiserMainPageStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { BlockTitle } from \"quiz/components/block/Block\";\r\nimport { OutletFullData, Visit } from \"quiz/services/models\";\r\nimport { VisitUploadData } from \"quiz/services/QuizDraftService\";\r\n\r\ntype MerchandiserMainPageState = {\r\n\tdrafts: Visit[];\r\n\treports: VisitUploadData[];\r\n\tallDataLoaded: boolean;\r\n\troutesActive: boolean;\r\n};\r\n\r\nexport const beforeMerchandiserPageInit = async () => {\r\n\tconst drafts = await quizDraftService.getAllDrafts();\r\n\tconst reports = await quizDraftService.getVisitUploadData();\r\n\tnav.events.emit(\"beforeMerchandiserPageInit\", { drafts, reports });\r\n};\r\n\r\nexport const afterMerchandiserPageOut = () => nav.events.emit(\"afterMerchandiserPageOut\", void 0);\r\n\r\nexport const MerchandiserMainPage: React.FC<QuizPageComponentProps> = React.memo(() => {\r\n\tconst routeExists = quizAuthService.state.user.flagRouteExists;\r\n\tconst styles = useStyles(getMerchandiserMainPageStyles, routeExists);\r\n\tconst outletsCb = React.useCallback((outlet: OutletFullData) => nav.toOutlet(outlet.id), []);\r\n\tconst [state, setState] = React.useState<MerchandiserMainPageState>({\r\n\t\tdrafts: null,\r\n\t\treports: null,\r\n\t\tallDataLoaded: false,\r\n\t\troutesActive: quizAuthService.state.user.flagRouteExists\r\n\t});\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst unsubscribeBeforeEvent = nav.subscribe(\"beforeMerchandiserPageInit\", data =>\r\n\t\t\tsetState(prev => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\troutesActive: routeExists,\r\n\t\t\t\tdrafts: data.drafts,\r\n\t\t\t\treports: data.reports,\r\n\t\t\t\tallDataLoaded: true\r\n\t\t\t}))\r\n\t\t);\r\n\t\tconst unsubscribeAfterEvent = nav.subscribe(\"afterMerchandiserPageOut\", () =>\r\n\t\t\tsetState(prev => ({ ...prev, allDataLoaded: false }))\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\tunsubscribeBeforeEvent();\r\n\t\t\tunsubscribeAfterEvent();\r\n\t\t};\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{state.allDataLoaded && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<ErrorBoundary separateBlock>\r\n\t\t\t\t\t\t<UnsentReports reports={state.reports} />\r\n\t\t\t\t\t</ErrorBoundary>\r\n\t\t\t\t\t<ErrorBoundary separateBlock>\r\n\t\t\t\t\t\t<Draft\r\n\t\t\t\t\t\t\tdrafts={state.drafts}\r\n\t\t\t\t\t\t\tonDraftClick={draft => nav.toQst(draft.outletId, draft.qstId)}\r\n\t\t\t\t\t\t\tonDeleteSwipeout={async d => {\r\n\t\t\t\t\t\t\t\tawait quizDraftService.delete(d.outletId, d.qstId);\r\n\t\t\t\t\t\t\t\tconst drafts = await quizDraftService.getAllDrafts();\r\n\t\t\t\t\t\t\t\tsetState(prev => ({ ...prev, drafts: drafts }));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ErrorBoundary>\r\n\t\t\t\t\t<div className={css(styles.tabs)}>\r\n\t\t\t\t\t\t{routeExists ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Toolbar tabbar noBorder top className={css(styles.toolbar)}>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tclassName={css(styles.tabLink)}\r\n\t\t\t\t\t\t\t\t\t\ttabLink=\"#tab-1\"\r\n\t\t\t\t\t\t\t\t\t\ttabLinkActive={state.routesActive}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setState(prev => ({ ...prev, routesActive: true }))}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<T size={TextSizeType.bodyMin}>Route</T>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tclassName={css(styles.tabLink)}\r\n\t\t\t\t\t\t\t\t\t\ttabLink=\"#tab-2\"\r\n\t\t\t\t\t\t\t\t\t\ttabLinkActive={!state.routesActive}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setState(prev => ({ ...prev, routesActive: false }))}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<T size={TextSizeType.bodyMin}>Closest</T>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t\t\t\t<Tabs>\r\n\t\t\t\t\t\t\t\t\t<Tab id=\"tab-1\" tabActive={state.routesActive}>\r\n\t\t\t\t\t\t\t\t\t\t{state.routesActive && (\r\n\t\t\t\t\t\t\t\t\t\t\t<OutletRoutes onOutletClick={outlet => nav.toOutlet(outlet.id)} />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t<Tab id=\"tab-2\" tabActive={!state.routesActive}>\r\n\t\t\t\t\t\t\t\t\t\t{!state.routesActive && <ListNearOutlets onOutletClick={outletsCb} />}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<BlockTitle title={t(\"Closest\")} />\r\n\t\t\t\t\t\t\t\t<ListNearOutlets onOutletClick={outletsCb} />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n});\r\n\r\nMerchandiserMainPage.displayName = \"MerchandiserMainPage\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getMerchandiserMainPageStyles = (theme: Theme, flagRouteExists: boolean) => {\r\n\treturn {\r\n\t\ttoolbar: {\r\n\t\t\tmarginTop: theme.sizing.sizes.lg\r\n\t\t} as CSSProp,\r\n\t\trouteLink: (flagRouteExists ? {} : { pointerEvents: \"none\", opacity: 0.4 }) as CSSProp,\r\n\t\ttabs: {\r\n\t\t\tpaddingBottom: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\tlistNearOutlets: {\r\n\t\t\tpaddingBottom: theme.sizing.sizes.md\r\n\t\t},\r\n\t\ttabLink: {\r\n\t\t\tborderBottom: `1px solid ${theme.colors.base.background}`\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { Page } from \"framework7-react\";\r\nimport { QuizNavBar } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { FullscreenInfo } from \"quiz/components/infoBlock/fullscreenInfoBlock/FullscreenInfo\";\r\nimport { emptyIcon } from \"quiz/components/infoScreenIcons/emptyIcon\";\r\nimport { ColorTypes } from \"theme/colors\";\r\n\r\nexport const PageNotFound: React.FC = () => {\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<QuizNavBar title={t(\"Page not found\")} backLink />\r\n\t\t\t<FullscreenInfo icon={emptyIcon} title=\"404\" message={t(\"Page not found\")} colorType={ColorTypes.warning} />\r\n\t\t</Page>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { CONFIG } from \"quiz/QuizApp\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\n\r\nexport const Version: React.FC = () => (\r\n\t<div>\r\n\t\t<T size={TextSizeType.caption}>Version</T>\r\n\t\t<Text size={TextSizeType.caption}>: {`${CONFIG.version}:${CONFIG.revision}`}</Text>\r\n\t</div>\r\n); //toDo: to extManager\r\n","import * as React from \"react\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { logo } from \"../../../QuizApp\";\r\nimport { Image } from \"quiz/components/image/Image\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getAboutPageStyles } from \"./aboutPageStyles\";\r\nimport { Version } from \"../Version\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\nexport const AboutPage: React.FC = () => {\r\n\tconst styles = useStyles(getAboutPageStyles);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Block secondary styles={styles.wrap}>\r\n\t\t\t\t<div className={css(styles.logo)}>\r\n\t\t\t\t\t<Image src={logo} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Version />\r\n\t\t\t\t</div>\r\n\t\t\t</Block>\r\n\t\t</>\r\n\t);\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getAboutPageStyles = (theme: Theme) => ({\r\n\twrap: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexFlow: \"column\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\theight: \"250px\", //todo: fix\r\n\t\tmarginTop: theme.sizing.sizes.lg,\r\n\t\tmarginBottom: theme.sizing.sizes.lg\r\n\t} as CSSProp,\r\n\tlogo: {\r\n\t\tmarginBottom: theme.sizing.sizes.xxl\r\n\t} as CSSProp\r\n});\r\n","import * as React from \"react\";\r\nimport { BlockTitle, Block, BlockDescription } from \"quiz/components/block/Block\";\r\nimport { t, quizAuthService } from \"quiz/QuizApp\";\r\nimport { QuizListInputItem, QuizListInputItemProps } from \"quiz/components/quizListInputItem/QuizListInputItem\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { ButtonType, ButtonSize } from \"quiz/components/button/Button\";\r\nimport { Toast } from \"quiz/components/interaction/toast/Toast\";\r\nimport { getApiErrorForT } from \"utils/helpers\";\r\nimport { ServerInteractionButton } from \"quiz/components/button/ServerInteractionButton\";\r\n\r\ntype PasswordItemProps = Pick<QuizListInputItemProps, \"onChange\" | \"value\" | \"placeholder\" | \"dash\" | \"danger\">;\r\n\r\nconst PasswordItem: React.FC<PasswordItemProps> = props => (\r\n\t<QuizListInputItem type=\"password\" icon={[\"far\", \"key\"]} {...props} />\r\n);\r\n\r\nexport const ChangePasswordPage: React.FC = props => {\r\n\tconst [oldPassword, setOldPassword] = React.useState<string>();\r\n\tconst [newPassword, setNewPassword] = React.useState<string>();\r\n\tconst [confirmPassword, setConfirmPassword] = React.useState<string>();\r\n\tconst [error, setError] = React.useState<any>();\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockTitle title={t(\"Old password\")} />\r\n\t\t\t<Block secondary>\r\n\t\t\t\t<PasswordItem\r\n\t\t\t\t\tvalue={oldPassword}\r\n\t\t\t\t\tonChange={s => setOldPassword(s)}\r\n\t\t\t\t\tplaceholder=\"Enter the current password\"\r\n\t\t\t\t/>\r\n\t\t\t</Block>\r\n\r\n\t\t\t<BlockTitle title={t(\"New password\")} />\r\n\t\t\t<Block secondary>\r\n\t\t\t\t<PasswordItem\r\n\t\t\t\t\tvalue={newPassword}\r\n\t\t\t\t\tonChange={s => {\r\n\t\t\t\t\t\tsetNewPassword(s);\r\n\t\t\t\t\t\tsetError(null);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdash\r\n\t\t\t\t\tdanger={!!error}\r\n\t\t\t\t\tplaceholder={\"Enter a new password\"}\r\n\t\t\t\t/>\r\n\t\t\t\t<PasswordItem\r\n\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\tonChange={s => {\r\n\t\t\t\t\t\tsetConfirmPassword(s);\r\n\t\t\t\t\t\tsetError(null);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdanger={!!error}\r\n\t\t\t\t\tplaceholder={\"Repeat new password\"}\r\n\t\t\t\t/>\r\n\t\t\t</Block>\r\n\t\t\t<BlockDescription text={t(error)} colorType={ColorTypes.danger} />\r\n\t\t\t<ServerInteractionButton\r\n\t\t\t\twrap\r\n\t\t\t\ttype={ButtonType.normal}\r\n\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\ttitle={t(\"Send\")}\r\n\t\t\t\ticon=\"paper-plane\"\r\n\t\t\t\tcommand={(): any => {\r\n\t\t\t\t\tif (!oldPassword || !(newPassword && confirmPassword)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} //toDo: нормальную обработку отсутствующих полей\r\n\t\t\t\t\treturn newPassword === confirmPassword\r\n\t\t\t\t\t\t? quizAuthService.changePassword({ oldPassword: oldPassword, newPassword: newPassword }).then(\r\n\t\t\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\t\t\tToast.create({\r\n\t\t\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\t\t\ttext: t(\"Password successfully changed\")\r\n\t\t\t\t\t\t\t\t\t}).open();\r\n\t\t\t\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\treject => {\r\n\t\t\t\t\t\t\t\t\tconst [error, args] = getApiErrorForT(reject);\r\n\t\t\t\t\t\t\t\t\tsetError(t(error, args));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: setError(t(\"Passwords must match\"));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}; //toDO: button to component\r\n","import * as React from \"react\";\r\nimport { t, quizAuthService, textService, quizUserService, nav } from \"quiz/QuizApp\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { ButtonType, ButtonSize } from \"quiz/components/button/Button\";\r\nimport { RadioList } from \"quiz/components/radioList/RadioList\";\r\nimport { Theme } from \"theme/theme\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { BlockDescription } from \"quiz/components/block/Block\";\r\nimport { ServerInteractionButton } from \"quiz/components/button/ServerInteractionButton\";\r\n\r\nconst getChooseLanguagePageStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tlanguageList: {\r\n\t\t\tmarginTop: theme.sizing.sizes.lg\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const ChooseLanguagePage: React.FC = () => {\r\n\tconst styles = useStyles(getChooseLanguagePageStyles);\r\n\tconst currentLangId = quizAuthService.state.user.languageId;\r\n\tconst [langId, setLangId] = React.useState<number>(currentLangId);\r\n\tconst [error, setError] = React.useState();\r\n\tconst languageItems = textService.availableLangs.map(lang => ({ value: lang.ID, title: lang.Title }));\r\n\r\n\tconst onSave = async () =>\r\n\t\tquizUserService.changeLanguage(langId).then(\r\n\t\t\t() => nav.back(),\r\n\t\t\terr => setError(err.toString())\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={css(styles.languageList)}>\r\n\t\t\t\t<RadioList\r\n\t\t\t\t\titems={languageItems}\r\n\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\tsetLangId(Number(e.target.value));\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={langId}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<BlockDescription text={t(error)} colorType={ColorTypes.danger} />\r\n\t\t\t<ServerInteractionButton\r\n\t\t\t\twrap\r\n\t\t\t\tenabled={() => langId != currentLangId}\r\n\t\t\t\ttype={ButtonType.normal}\r\n\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\ttitle={t(\"Apply\")}\r\n\t\t\t\tcommand={() => {\r\n\t\t\t\t\tonSave();\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}; //toDO: button to component\r\n","import { Icon, IconProp } from \"quiz/components/icon/Icon\";\r\nimport { Text } from \"quiz/components/text/Text\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { List } from \"quiz/components/listView/ListView\";\r\nimport { f7 } from \"framework7-react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { Avatar } from \"quiz/components/user/Avatar\";\r\nimport { nav, quizAuthService, t } from \"quiz/QuizApp\";\r\nimport * as React from \"react\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { abbr, navToFAQ } from \"utils/helpers\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getMenuListItemStyles, getProfilePageStyles } from \"./profilePageStyles\";\r\nimport { Version } from \"../Version\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { Dialog, F7Dialog } from \"quiz/components/interaction/Dialog\";\r\nimport { TextWithIcon } from \"quiz/components/question/common/textWithIcon/TextWithIcon\";\r\n\r\ntype MenuListItemProps = {\r\n\ticon: IconProp;\r\n\ttext: string;\r\n\tisDash?: boolean;\r\n\tcolor?: ColorTypes;\r\n\tonClick: () => void;\r\n};\r\n\r\nexport const MenuListItem: React.FC<MenuListItemProps> = props => {\r\n\tconst isDanger = props.color === \"danger\";\r\n\tconst styles = useStyles(getMenuListItemStyles, isDanger);\r\n\r\n\treturn (\r\n\t\t<div className={`item-link ${css(styles.list)}`} onClick={props.onClick}>\r\n\t\t\t<li className={css([styles.wrap])}>\r\n\t\t\t\t<div className={css([styles.content])}>\r\n\t\t\t\t\t<TextWithIcon icon={props.icon} styles={styles.icon}>\r\n\t\t\t\t\t\t<T colorType={props.color || ColorTypes.base}>{props.text}</T>\r\n\t\t\t\t\t</TextWithIcon>\r\n\t\t\t\t\t<Icon icon={[\"far\", \"angle-right\"]} styles={styles.icon} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{props.isDash && <Divider dash />}\r\n\t\t\t</li>\r\n\t\t</div>\r\n\t);\r\n};\r\nMenuListItem.displayName = \"f7-list-item\";\r\n\r\nexport const FAQListItem = (props: { isDash?: boolean }) => {\r\n\treturn <MenuListItem isDash={props.isDash} text={t(\"FAQ\")} icon={[\"far\", \"life-ring\"]} onClick={navToFAQ} />;\r\n};\r\nFAQListItem.displayName = \"f7-list-item\";\r\n\r\nconst handleLogOutClick = () => {\r\n\tconst options: F7Dialog.Parameters = {\r\n\t\ttitle: t(\"Exit\"),\r\n\t\ttext: t(\"Are you sure you want to exit the application?\"),\r\n\t\tbuttons: [\r\n\t\t\t{\r\n\t\t\t\ttext: t(\"Logout\"),\r\n\t\t\t\tonClick: async () => {\r\n\t\t\t\t\treturn quizAuthService.signOut().then(() => f7.views.main.router.refreshPage());\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tclose: true,\r\n\t\t\t\ttext: t(\"Cancel\")\r\n\t\t\t}\r\n\t\t]\r\n\t};\r\n\tDialog.create(options).open();\r\n};\r\n\r\nexport const ProfilePage: React.FC = () => {\r\n\tconst styles = useStyles(getProfilePageStyles);\r\n\tconst { fullName, email } = quizAuthService.state.user;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Block secondary styles={styles.userInfoBlock}>\r\n\t\t\t\t<div className={css(styles.wrap)}>\r\n\t\t\t\t\t<div className={css(styles.avatar)}>\r\n\t\t\t\t\t\t<Avatar text={abbr(fullName)} type={\"big\"} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={css(styles.fullName)}>\r\n\t\t\t\t\t\t<Text size={TextSizeType.title}>{fullName}</Text>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Text size={TextSizeType.bodyMin} muted>\r\n\t\t\t\t\t\t\t{email}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Block>\r\n\r\n\t\t\t<div className={css(styles.block)}>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<MenuListItem\r\n\t\t\t\t\t\tisDash\r\n\t\t\t\t\t\ttext={t(\"Change password\")}\r\n\t\t\t\t\t\ticon={[\"far\", \"unlock\"]}\r\n\t\t\t\t\t\tonClick={() => nav.toChangePassword()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MenuListItem\r\n\t\t\t\t\t\ttext={t(\"Interface language\")}\r\n\t\t\t\t\t\ticon={[\"far\", \"language\"]}\r\n\t\t\t\t\t\tonClick={() => nav.toChangeLanguage()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={css(styles.block)}>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<FAQListItem isDash />\r\n\t\t\t\t\t<MenuListItem\r\n\t\t\t\t\t\tisDash\r\n\t\t\t\t\t\ttext={t(\"Feedback\")}\r\n\t\t\t\t\t\ticon={[\"far\", \"comment-alt-lines\"]}\r\n\t\t\t\t\t\tonClick={() => nav.toFeedback()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MenuListItem\r\n\t\t\t\t\t\tisDash\r\n\t\t\t\t\t\ttext={t(\"About App\")}\r\n\t\t\t\t\t\ticon={[\"far\", \"info-circle\"]}\r\n\t\t\t\t\t\tonClick={() => nav.toAbout()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MenuListItem\r\n\t\t\t\t\t\ttext={t(\"Privacy policy\")}\r\n\t\t\t\t\t\ticon={[\"far\", \"user-shield\"]}\r\n\t\t\t\t\t\tonClick={() => nav.toPrivacyPolicy()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\t\t\t<div className={css(styles.block)}>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<MenuListItem\r\n\t\t\t\t\t\ttext={t(\"Logout\")}\r\n\t\t\t\t\t\ticon={[\"far\", \"sign-out-alt\"]}\r\n\t\t\t\t\t\tonClick={handleLogOutClick}\r\n\t\t\t\t\t\tcolor={ColorTypes.danger}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Block>\r\n\t\t\t\t<Version />\r\n\t\t\t</Block>\r\n\t\t</>\r\n\t);\r\n};\r\nProfilePage.displayName = \"ProfilePage\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getProfilePageStyles = (theme: Theme) => ({\r\n\tuserInfoBlock: {\r\n\t\tmarginTop: theme.sizing.sizes.lg,\r\n\t\tmarginBottom: theme.sizing.sizes.xl\r\n\t} as CSSProp,\r\n\twrap: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexFlow: \"column\",\r\n\t\talignItems: \"center\",\r\n\t\tmarginTop: theme.sizing.sizes.lg,\r\n\t\tmarginBottom: theme.sizing.sizes.lg\r\n\t} as CSSProp,\r\n\tavatar: {\r\n\t\tmarginBottom: scale(theme.sizing.sizes.lg, ScaleEnum.Half)\r\n\t},\r\n\tfullName: {\r\n\t\tmarginBottom: theme.sizing.sizes.sm\r\n\t},\r\n\tblock: {\r\n\t\tmarginBottom: theme.sizing.sizes.lg\r\n\t}\r\n});\r\n\r\nexport const getMenuListItemStyles = (theme: Theme, isDanger: boolean) => {\r\n\treturn {\r\n\t\tlist: {\r\n\t\t\tbackgroundColor: theme.colors.primary.background\r\n\t\t},\r\n\t\twrap: {\r\n\t\t\tpaddingLeft: theme.constants.gridPadding,\r\n\t\t\tpaddingRight: theme.constants.gridPadding\r\n\t\t} as CSSProp,\r\n\t\ticon: {\r\n\t\t\tcolor: isDanger ? theme.colors.danger.main : theme.colors.primary.main\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { Questionnaire } from \"quiz/components/questionnaire/Questionnaire\";\r\nimport { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { quizDataService, quizDraftService, quizCompareQstService, t } from \"quiz/QuizApp\";\r\nimport { QuizPageComponentProps } from \"quiz/QuizAppRoutes\";\r\nimport { IQuestionnaire, OutletFullData, Visit } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\nimport { PageWrap } from \"quiz/components/pageWrap/PageWrap\";\r\nimport { QuestionnaireSkeleton } from \"quiz/components/quizSkeleton/skeletons/QuestionnaireSkeleton\";\r\nimport { QuestionnaireNavbar } from \"quiz/components/questionnaire/navbar/QuestionnaireNavbar\";\r\nimport { QuizError } from \"quiz/components/errors/QuizError\";\r\n\r\ninterface QuestionnairePageProps extends QuizPageComponentProps {\r\n\tqstId: MDTRecordId;\r\n\toutletId: MDTRecordId;\r\n}\r\n\r\nexport interface QuestionnairePageState {\r\n\tvisit: Visit;\r\n\tqst?: IQuestionnaire;\r\n\toutlet?: OutletFullData;\r\n\tloading?: boolean;\r\n}\r\n\r\nexport const QuestionnairePage: React.FC<QuestionnairePageProps> = props => {\r\n\tconst [state, setState] = React.useState<QuestionnairePageState>({ visit: null, loading: true });\r\n\r\n\tconst onChange = React.useCallback(\r\n\t\t(visit: Visit) => {\r\n\t\t\tquizDraftService.set(visit);\r\n\t\t\tsetState({ ...state, visit: visit });\r\n\t\t},\r\n\t\t[state.loading]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<PageWrap\r\n\t\t\tfetchData={a => quizDataService.getQuestionnaireData(props.outletId, props.qstId, { signal: a })}\r\n\t\t\tonSuccess={({ q, o, v, online }) => {\r\n\t\t\t\tconst actualVisit = online ? quizCompareQstService.getActualVisit(v, q) : v;\r\n\t\t\t\tconst visit = {\r\n\t\t\t\t\tflagRoute: props.context?.flagRoute,\r\n\t\t\t\t\t...(actualVisit ? actualVisit : {})\r\n\t\t\t\t};\r\n\t\t\t\tsetState({ visit, qst: q, outlet: o } as QuestionnairePageState);\r\n\t\t\t}}\r\n\t\t\tisState={!!state.outlet && !!state.qst}\r\n\t\t\terrorBlock={error => (\r\n\t\t\t\t<Page>\r\n\t\t\t\t\t<QuestionnaireNavbar title={t(\"Error getting questionnaire\")} />\r\n\t\t\t\t\t<QuizError error={error} fullScreen fullHeight={false} />\r\n\t\t\t\t</Page>\r\n\t\t\t)}\r\n\t\t\tloading={() => <QuestionnaireSkeleton totalBlocks={30} />}\r\n\t\t>\r\n\t\t\t<Page>\r\n\t\t\t\t<Questionnaire\r\n\t\t\t\t\tsetActions={props.setActions.bind(props)}\r\n\t\t\t\t\tvisit={state.visit}\r\n\t\t\t\t\tquestionnaire={state.qst}\r\n\t\t\t\t\toutlet={state.outlet}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t/>\r\n\t\t\t</Page>\r\n\t\t</PageWrap>\r\n\t);\r\n};\r\nQuestionnairePage.displayName = \"QuestionnairePage\";\r\n","import { IQuestion } from \"quiz/services/models\";\r\nimport NanoEvents from \"nanoevents\";\r\n\r\nexport class VirtualDataManager {\r\n\tprivate events = new NanoEvents<any>();\r\n\tvirtualData;\r\n\r\n\tconstructor(virtualData) {\r\n\t\tthis.virtualData = virtualData;\r\n\t}\r\n\r\n\tsubscribe(event, callback) {\r\n\t\tthis.events.on(event, callback);\r\n\t}\r\n\r\n\tsetVD(data) {\r\n\t\tthis.virtualData = data;\r\n\t}\r\n\r\n\tupdateVD() {\r\n\t\tthis.events.emit(\"changed\", this.virtualData);\r\n\t}\r\n}\r\n","import { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport NanoEvents from \"nanoevents\";\r\nimport * as immutable from \"object-path-immutable\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { QuizQstService } from \"quiz/services/data/QuizQstService\";\r\nimport {\r\n\tAnswerType,\r\n\tEmployee,\r\n\tIQuestion,\r\n\tQuestionAttachPhoto,\r\n\tVisit,\r\n\tVisitAnswer,\r\n\tVisitAnswerFile,\r\n\tVisitAnswerItem,\r\n\tID\r\n} from \"quiz/services/models\";\r\nimport { QuizDraftService } from \"quiz/services/QuizDraftService\";\r\nimport { updateArray } from \"utils/helpers\";\r\nimport { IQuestionnaire, OutletFullData } from \"./../../services/models\";\r\nimport { ProgressBlockState } from \"quiz/components/progressBar/ProgressBlock\";\r\nimport { Photo } from \"quiz/services/extension/uploadPhoto/models\";\r\n\r\n//typing fix\r\ndeclare module \"object-path-immutable\" {\r\n\texport function update<T = object>(src: T, path?: Path, updater?: (formerValue: any) => any): T;\r\n}\r\n\r\nexport interface VisitManagerOptions {\r\n\tinitVisit?: Partial<Visit>;\r\n}\r\n\r\nexport interface VisitManagerEvents {\r\n\tchanged: {\r\n\t\tvisit: Visit;\r\n\t\tprev: Visit;\r\n\t};\r\n}\r\n\r\nexport enum ValidationErrorType {\r\n\tRequiredAnswer,\r\n\tRequiredComment,\r\n\tRequiredPhoto\r\n}\r\n\r\nexport interface ValidationError {\r\n\ttitle: string;\r\n\ttype: ValidationErrorType;\r\n\titemsId?: ID[];\r\n}\r\n\r\nexport class VisitManager {\r\n\tprivate visit: Visit;\r\n\tprivate prevVisit: Visit;\r\n\tprivate events = new NanoEvents<VisitManagerEvents>();\r\n\tprivate progress: ProgressBlockState[];\r\n\r\n\tconstructor(\r\n\t\tprivate questionnaire: IQuestionnaire,\r\n\t\tprivate outlet: OutletFullData,\r\n\t\tprivate employee: Employee,\r\n\t\tprivate options: VisitManagerOptions,\r\n\t\tprivate quizDraftService: QuizDraftService,\r\n\t\tprivate quizQstService: QuizQstService\r\n\t) {\r\n\t\tthis.visit = { ...this.createVisit(), ...this.options.initVisit };\r\n\t\tnavigator.geolocation.getCurrentPosition(position => {\r\n\t\t\tthis.visit.latitude = position.coords.latitude;\r\n\t\t\tthis.visit.longitude = position.coords.longitude;\r\n\t\t}); //toDO: refactor\r\n\t\tthis.prevVisit = this.visit?.questionnaire?.prevVisit;\r\n\t\tquestionnaire.questions.forEach(q => {\r\n\t\t\tconst curAnswer = this.visit.answers.find(a => a.questionId == q.id);\r\n\t\t\tif (!curAnswer) {\r\n\t\t\t\tconst answer = { ...this.createAnswer(q), items: [] };\r\n\t\t\t\tthis.visit.answers.push(answer);\r\n\t\t\t\tif (q.items?.length) {\r\n\t\t\t\t\t// for boolean type with items, all question items should have answer\r\n\t\t\t\t\tif (q.answerType == AnswerType.Boolean || q.answerType == AnswerType.ManyOptions) {\r\n\t\t\t\t\t\tq.items.forEach(item => {\r\n\t\t\t\t\t\t\tanswer.items.push({\r\n\t\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\t\tvalue: false,\r\n\t\t\t\t\t\t\t\tanswer: item.name\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (q.answerType == AnswerType.Text || q.answerType == AnswerType.Number) {\r\n\t\t\t\t\t\tq.items.forEach(item => {\r\n\t\t\t\t\t\t\tanswer.items.push({\r\n\t\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\t\t\tanswer: item.name\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.visit.answers.sort((a, b) => a.question.sortOrder - b.question.sortOrder);\r\n\t\tthis.progress = this.prepareProgress(this.visit);\r\n\t}\r\n\r\n\tprivate prepareProgress(visit: Visit): ProgressBlockState[] {\r\n\t\treturn visit.answers.map((a, idx) => {\r\n\t\t\tif (idx == 0) {\r\n\t\t\t\treturn ProgressBlockState.Viewed;\r\n\t\t\t}\r\n\t\t\tif (a.viewed) {\r\n\t\t\t\tconst isValid = this.validateAnswer(a).length == 0;\r\n\t\t\t\treturn isValid ? ProgressBlockState.Success : ProgressBlockState.Invalid;\r\n\t\t\t} else return ProgressBlockState.Unchanged;\r\n\t\t});\r\n\t}\r\n\r\n\tgetVisit(): Visit {\r\n\t\treturn this.visit;\r\n\t}\r\n\r\n\tgetPrevVisit(): Visit {\r\n\t\treturn this.prevVisit;\r\n\t}\r\n\r\n\tgetProgress(): ProgressBlockState[] {\r\n\t\treturn this.progress;\r\n\t}\r\n\r\n\tcreateVisit(): Visit {\r\n\t\treturn {\r\n\t\t\tdateBegin: new Date(),\r\n\t\t\toutletId: this.outlet.id,\r\n\t\t\toutlet: this.outlet,\r\n\t\t\temployeeId: this.employee.id,\r\n\t\t\temployee: this.employee,\r\n\t\t\tquestionnaireId: this.questionnaire.id,\r\n\t\t\tquestionnaire: this.questionnaire,\r\n\t\t\tanswers: []\r\n\t\t};\r\n\t}\r\n\r\n\tgetAnswer(questionId: MDTRecordId) {\r\n\t\treturn this.visit.answers.find(a => a.questionId == questionId);\r\n\t}\r\n\r\n\tgetPrevAnswer(questionId: MDTRecordId) {\r\n\t\treturn this.prevVisit?.answers?.find(a => a.questionId == questionId);\r\n\t}\r\n\r\n\tgetAnswerItems(questionId: MDTRecordId) {\r\n\t\treturn this.getAnswer(questionId)?.items;\r\n\t}\r\n\r\n\tgetComment(questionId: MDTRecordId) {\r\n\t\treturn this.getAnswer(questionId)?.comment;\r\n\t}\r\n\r\n\tgetAnswersFiles(): VisitAnswerFile[] {\r\n\t\treturn [].concat(...this.visit.answers?.filter(a => a?.files?.length).map(a => a.files));\r\n\t}\r\n\r\n\tgetTotalQuestions(): number {\r\n\t\treturn this.visit.questionnaire.questions.length || 0;\r\n\t}\r\n\r\n\tprivate createAnswer(question: IQuestion) {\r\n\t\treturn {\r\n\t\t\tquestionId: question.id,\r\n\t\t\tquestion,\r\n\t\t\tquestionnaireId: this.questionnaire.id,\r\n\t\t\tanswerType: question.answerType\r\n\t\t};\r\n\t}\r\n\r\n\tprivate updateVisitAnswer<T extends VisitAnswer>(\r\n\t\tquestionId: MDTRecordId,\r\n\t\tdata: Partial<T>,\r\n\t\tprepareData?: (o: T, v: T) => T\r\n\t) {\r\n\t\tconst visit = immutable.update(this.visit, \"answers\", (answers: VisitAnswer[]) => {\r\n\t\t\tconst question = this.questionnaire.questions.find(q => q.id == questionId);\r\n\t\t\tconst answer: Partial<VisitAnswer> = {\r\n\t\t\t\t...this.createAnswer(question),\r\n\t\t\t\t...data\r\n\t\t\t};\r\n\t\t\treturn updateArray(answers, [answer], (o, v) => o.questionId == v.questionId, prepareData).sort(\r\n\t\t\t\t(a, b) => a.question.sortOrder - b.question.sortOrder\r\n\t\t\t);\r\n\t\t});\r\n\t\tthis.update(visit);\r\n\t}\r\n\r\n\tsetComment(questionId: MDTRecordId, comment: string) {\r\n\t\tthis.updateVisitAnswer(questionId, { comment }, (o, n) => ({ ...o, ...n }));\r\n\t}\r\n\r\n\tsetAnswer(questionId: MDTRecordId, items: VisitAnswerItem[], replace?: boolean) {\r\n\t\tthis.updateVisitAnswer(questionId, { items }, (originalAnswer, newAnswer) => {\r\n\t\t\treturn {\r\n\t\t\t\t...originalAnswer,\r\n\t\t\t\titems:\r\n\t\t\t\t\t!replace && originalAnswer?.items\r\n\t\t\t\t\t\t? updateArray(originalAnswer.items, items, (o, v) => o.id == v.id)\r\n\t\t\t\t\t\t: newAnswer.items\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tsetViewed(questionId: MDTRecordId) {\r\n\t\tthis.updateVisitAnswer(questionId, { viewed: true }, (o, n) => ({ ...o, ...n }));\r\n\t}\r\n\r\n\tprivate static fileId = new Date().getTime();\r\n\tcreateFileId(): number {\r\n\t\treturn VisitManager.fileId++;\r\n\t}\r\n\r\n\tasync addFiles(questionId: MDTRecordId, files: Photo[]): Promise<void> {\r\n\t\tconst fileItems: VisitAnswerFile[] = files.map(data => {\r\n\t\t\treturn {\r\n\t\t\t\tdraftFileId: data.photoId,\r\n\t\t\t\tdata\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tawait this.quizDraftService.setFiles(fileItems);\r\n\t\tfileItems.forEach(file => delete file.data);\r\n\r\n\t\tthis.updateVisitAnswer(questionId, {}, origAnswer => {\r\n\t\t\treturn {\r\n\t\t\t\t...origAnswer,\r\n\t\t\t\tfiles: [...(origAnswer.files || []), ...fileItems]\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tasync removeFile(questionId: MDTRecordId, fileIndex: number): Promise<void> {\r\n\t\tconst answer = this.visit.answers.find(answer => answer.questionId == questionId);\r\n\t\tif (answer.files?.[fileIndex]) await this.quizDraftService.removeFiles([answer.files[fileIndex]]);\r\n\t\tthis.updateVisitAnswer(questionId, {}, origAnswer => ({\r\n\t\t\t...origAnswer,\r\n\t\t\tfiles: immutable.del(origAnswer.files, `${fileIndex}`)\r\n\t\t}));\r\n\t}\r\n\r\n\tasync getFilesSrc(files: VisitAnswerFile[]): Promise<VisitAnswerFile[]> {\r\n\t\treturn this.quizDraftService.getFiles(files);\r\n\t}\r\n\r\n\t//блок подписи\r\n\tsetVisitComment(comment: string) {\r\n\t\tconst visit = immutable.update(this.visit, \"comment\", () => comment);\r\n\t\tthis.update(visit);\r\n\t}\r\n\r\n\tgetVisitComment() {\r\n\t\treturn this.visit.comment;\r\n\t}\r\n\r\n\tsetCommentSignature(comment: string) {\r\n\t\tconst visit = immutable.update(this.visit, \"commentSignature\", () => comment);\r\n\t\tthis.update(visit);\r\n\t}\r\n\r\n\tgetCommentSignature() {\r\n\t\treturn this.visit.commentSignature;\r\n\t}\r\n\r\n\tsetFileSignature(data: string) {\r\n\t\tconst visit = immutable.set(this.visit, \"signatureFile\", data);\r\n\t\tthis.update(visit);\r\n\t}\r\n\r\n\tgetFileSignature() {\r\n\t\treturn this.visit.signatureFile;\r\n\t}\r\n\r\n\tvalidateSignature() {\r\n\t\treturn !!this.visit.commentSignature && !!this.visit.signatureFile;\r\n\t}\r\n\r\n\tisValidQuestionnaire() {\r\n\t\treturn this.visit.questionnaire.flagSignature\r\n\t\t\t? this.isValidAnswers() && this.validateSignature()\r\n\t\t\t: this.isValidAnswers();\r\n\t}\r\n\r\n\tsubscribe<U extends keyof VisitManagerEvents>(event: U, callback: (arg: VisitManagerEvents[U]) => any) {\r\n\t\treturn this.events.on(event, callback);\r\n\t}\r\n\r\n\tisValidAnswers() {\r\n\t\treturn this.visit.answers.every(a => this.isAnswerValid(a)) && this.visit.questionnaire.questions.length;\r\n\t}\r\n\r\n\tchangeProgress(changeIdx: number, currentIdx?: number): ProgressBlockState[] {\r\n\t\tconst viewedIdx = this.progress.findIndex(progressVal => progressVal === ProgressBlockState.Viewed);\r\n\t\tif (viewedIdx !== changeIdx) {\r\n\t\t\tthis.setProgressValidateStatus(viewedIdx);\r\n\t\t} else if (changeIdx != currentIdx) {\r\n\t\t\tthis.setProgressValidateStatus(changeIdx);\r\n\t\t}\r\n\t\tthis.progress[currentIdx] = ProgressBlockState.Viewed;\r\n\r\n\t\tthis.setViewed(this.visit.answers[changeIdx].questionId);\r\n\r\n\t\treturn this.progress;\r\n\t} //todo: скорее всего не очень идея завязыватся на структуру, мб лучше по questionId\r\n\r\n\tsetProgressValidateStatus(idx: number) {\r\n\t\tthis.progress[idx] = this.isAnswerValid(this.visit.answers[idx])\r\n\t\t\t? ProgressBlockState.Success\r\n\t\t\t: ProgressBlockState.Invalid;\r\n\t}\r\n\r\n\tisAnswerValid(answer: VisitAnswer): boolean {\r\n\t\treturn !this.validateAnswer(answer).length;\r\n\t}\r\n\r\n\tprivate isEmpty(v) {\r\n\t\treturn v != null && v !== \"\" && !Number.isNaN(v);\r\n\t}\r\n\r\n\t//todo validation refactoring\r\n\tvalidateAnswer(answer: VisitAnswer): ValidationError[] {\r\n\t\tconst errors: ValidationError[] = [];\r\n\t\tconst question = this.questionnaire.questions.find(q => q.id == answer.question.id);\r\n\t\tlet invalidItemsIds: MDTRecordId[] = [];\r\n\t\tif (question?.flagAnswerRequired) {\r\n\t\t\tlet valid = true;\r\n\t\t\tif (question.answerType === AnswerType.Text || question.answerType === AnswerType.Number) {\r\n\t\t\t\tif (question.items?.length > 0) {\r\n\t\t\t\t\tinvalidItemsIds = question.items.reduce((acc, questionItem) => {\r\n\t\t\t\t\t\tif (!answer.items.filter(answerItem => answerItem.id == questionItem.id)[0]?.value) {\r\n\t\t\t\t\t\t\tacc.push(questionItem.id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn acc;\r\n\t\t\t\t\t}, []);\r\n\r\n\t\t\t\t\tvalid = invalidItemsIds.length == 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalid = answer.items?.some(i => this.isEmpty(i.value));\r\n\t\t\t\t}\r\n\t\t\t} else if (question.answerType == AnswerType.OneOption) {\r\n\t\t\t\tvalid = answer.items.some(i => this.isEmpty(i.id));\r\n\t\t\t} else if (question.answerType == AnswerType.AttachPhoto) {\r\n\t\t\t\tvalid = answer.files?.length > 0;\r\n\t\t\t} else if (question.answerType != AnswerType.ManyOptions) {\r\n\t\t\t\tvalid = answer.items.some(i => this.isEmpty(i.value));\r\n\t\t\t}\r\n\r\n\t\t\tif (!valid) {\r\n\t\t\t\terrors.push({\r\n\t\t\t\t\ttitle: t(\"Answer required\"),\r\n\t\t\t\t\ttype: ValidationErrorType.RequiredAnswer,\r\n\t\t\t\t\titemsId: invalidItemsIds\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tanswer.question.questionAttachPhoto === QuestionAttachPhoto.Required ||\r\n\t\t\tquestion.answerType == AnswerType.AttachPhoto\r\n\t\t) {\r\n\t\t\tif (!answer.files?.length) {\r\n\t\t\t\terrors.push({\r\n\t\t\t\t\ttitle: t(\"Photo required\"),\r\n\t\t\t\t\ttype: ValidationErrorType.RequiredPhoto\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn errors;\r\n\t}\r\n\r\n\tprivate update(visit: Visit) {\r\n\t\tconst prev = this.visit;\r\n\t\tthis.visit = visit;\r\n\t\tthis.events.emit(\"changed\", { visit: this.visit, prev });\r\n\t}\r\n\r\n\tpublic isQuickTransition(q: IQuestion): boolean {\r\n\t\tconst res = !(\r\n\t\t\tq.flagComment ||\r\n\t\t\tq.questionAttachPhoto !== QuestionAttachPhoto.None ||\r\n\t\t\tq.answerType === AnswerType.AttachPhoto\r\n\t\t);\r\n\t\treturn res;\r\n\t}\r\n\r\n\tasync finishVisit(): Promise<Visit> {\r\n\t\tconst visit: Visit = await new Promise(resolve => {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\t\t({ coords: { latitude, longitude } }) =>\r\n\t\t\t\t\tresolve({ ...this.visit, latitudeEnd: latitude, longitudeEnd: longitude }),\r\n\t\t\t\t() => resolve(this.visit)\r\n\t\t\t);\r\n\t\t});\r\n\t\tvisit.dateEnd = new Date();\r\n\t\tvisit.elapsedSeconds = Math.round((visit.dateEnd.getTime() - visit.dateBegin.getTime()) / 1000);\r\n\r\n\t\tawait this.quizQstService.finishVisit(visit);\r\n\t\treturn visit;\r\n\t}\r\n}\r\n","import * as React from \"react\";\r\nimport { IQuestion } from \"quiz/services/models\";\r\nimport { VirtualDataManager } from \"./VirtualDataManager\";\r\n\r\nexport function useVirtualDataManager(virtualData) {\r\n\tconst virtualDataManager = new VirtualDataManager(virtualData);\r\n\treturn virtualDataManager;\r\n}\r\n","import * as React from \"react\";\r\nimport { VisitManager, VisitManagerOptions } from \"./VisitManager\";\r\nimport { OutletFullData, IQuestionnaire, Employee, Visit } from \"quiz/services/models\";\r\nimport { quizDraftService, quizQstService } from \"quiz/QuizApp\";\r\n\r\nexport function useVisitManager(\r\n\tquestionnaire: IQuestionnaire,\r\n\toutlet: OutletFullData,\r\n\temployee: Employee,\r\n\toptions: VisitManagerOptions\r\n): { visit: Visit; visitManager: VisitManager } {\r\n\tconst visitManager = React.useMemo(\r\n\t\t() => new VisitManager(questionnaire, outlet, employee, options, quizDraftService, quizQstService),\r\n\t\t[]\r\n\t);\r\n\tconst [visit, setVisit] = React.useState(visitManager.getVisit());\r\n\tReact.useEffect(() => visitManager.subscribe(\"changed\", ({ visit }) => setVisit(visit)), []);\r\n\treturn { visit, visitManager };\r\n}\r\n","import { OutletExtendableItem } from \"quiz/components/outletExtendableView/OutletExtendableItem\";\r\nimport { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { PageWrap } from \"quiz/components/pageWrap/PageWrap\";\r\nimport { QstList } from \"quiz/components/qstList/QstList\";\r\nimport { quizDataService, t, quizDraftService, logger, cleaningService } from \"quiz/QuizApp\";\r\nimport { QuizPageComponentProps } from \"quiz/QuizAppRoutes\";\r\nimport { OutletFullData } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { QuizNavBar } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { F7Toggle } from \"framework7-react\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { Toggle } from \"quiz/components/toggle/Toggle\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { ExtendableNavbarPage } from \"quiz/components/extendableNavbarPage/ExtendableNavbarPage\";\r\nimport { Dialog } from \"quiz/components/interaction/Dialog\";\r\nimport { getOutletPageStyles } from \"./quizOutletPageStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useNavigatorOnLine } from \"hooks/useNavigatorOnline\";\r\nimport { BlockDescription } from \"quiz/components/block/Block\";\r\nimport { getTimeDiffInMinutes, cacheIsValid } from \"utils/helpers\";\r\nimport { OutletCache } from \"quiz/services/QuizDraftService\";\r\nimport { Toast } from \"quiz/components/interaction/toast/Toast\";\r\nimport { LogType } from \"quiz/services/Logger\";\r\nimport { QuizError } from \"quiz/components/errors/QuizError\";\r\nimport { QuizOutletPageSkeleton } from \"../../components/quizSkeleton/skeletons/QuizOutletPageSkeleton\";\r\n\r\nconst timerUpdateDelay = 1 * 60 * 1000; // 1m\r\n\r\ninterface QuizOutletPage extends QuizPageComponentProps {\r\n\tid: MDTRecordId;\r\n}\r\n\r\ntype OutletPageState = {\r\n\toutlet?: OutletFullData;\r\n\tcacheDateExpired?: Date;\r\n\terror?: any;\r\n};\r\n\r\nexport const QuizOutletPage: React.FC<QuizOutletPage> = props => {\r\n\tconst [state, setState] = React.useState<OutletPageState>({\r\n\t\toutlet: null,\r\n\t\tcacheDateExpired: null,\r\n\t\terror: null\r\n\t});\r\n\tconst styles = useStyles(getOutletPageStyles, state.cacheDateExpired);\r\n\tconst toggleRef = React.useRef<F7Toggle>();\r\n\tconst isOnline = useNavigatorOnLine();\r\n\r\n\tconst handleOutletCache = React.useCallback(async () => {\r\n\t\tconst cache = await quizDraftService.getOutletCache(props.id);\r\n\t\tif (cache && cacheIsValid(cache.dateExpired)) {\r\n\t\t\tsetState(prev => ({ ...prev, cacheDateExpired: cache?.dateExpired }));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetState(prev => ({ ...prev, cacheDateExpired: null }));\r\n\t}, []);\r\n\r\n\tReact.useEffect(() => {\r\n\t\thandleOutletCache();\r\n\t}, []);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst interval = window.setInterval(() => {\r\n\t\t\thandleOutletCache();\r\n\t\t}, timerUpdateDelay);\r\n\t\treturn () => window.clearInterval(interval);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<ExtendableNavbarPage\r\n\t\t\tnavbarContent={() => <QuizNavBar title={t(\"Outlet\")} backLink noShadow />}\r\n\t\t\textendableContent={() => (\r\n\t\t\t\t<div className={css(styles.toggleWrap)}>\r\n\t\t\t\t\t<div className={css(styles.toggleContent)}>\r\n\t\t\t\t\t\t<div onClick={() => isOnline && !state.error && toggleRef.current?.toggle()}>\r\n\t\t\t\t\t\t\t<T size={TextSizeType.bodyMin}>Offline mode</T>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tisOnline && !state.error && toggleRef?.current?.toggle();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Toggle\r\n\t\t\t\t\t\t\t\tref={toggleRef}\r\n\t\t\t\t\t\t\t\tdisabled={!isOnline || state.error}\r\n\t\t\t\t\t\t\t\tchecked={!!state.cacheDateExpired}\r\n\t\t\t\t\t\t\t\tonToggleChange={async checked => {\r\n\t\t\t\t\t\t\t\t\tlet data: OutletCache = null;\r\n\t\t\t\t\t\t\t\t\tif (checked) {\r\n\t\t\t\t\t\t\t\t\t\tconst controller = new AbortController();\r\n\t\t\t\t\t\t\t\t\t\tconst dialog = Dialog.customPreloader({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: t(\"Saving questionnaires\"),\r\n\t\t\t\t\t\t\t\t\t\t\tbuttons: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t(\"Cancel\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => controller.abort()\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tdialog.open();\r\n\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\tdata = await quizDataService.getDataForOutletCaching(props.id, {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsignal: controller.signal\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tawait quizDraftService.setOutletCache(props.id, data);\r\n\t\t\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (e?.message != \"The user aborted a request.\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlogger.log(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"offline-mode\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror: e,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstage: \"Save oulet cache\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tLogType.error\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\tToast.create({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t(\"Failed to save questionnaires\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}).open();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tsetState(prev => ({ ...prev, cacheDateExpired: null }));\r\n\t\t\t\t\t\t\t\t\t\t\tawait cleaningService.removeOutletCache(props.id);\r\n\t\t\t\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tawait cleaningService.removeOutletCache(props.id);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tsetState(prev => ({\r\n\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\tcacheDateExpired: data?.dateExpired\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\thasError={state.error}\r\n\t\t>\r\n\t\t\t<PageWrap\r\n\t\t\t\tfetchData={async a => quizDataService.getOutletInfo(props.id, { signal: a })}\r\n\t\t\t\tonSuccess={(data: OutletFullData) => setState(prev => ({ ...prev, outlet: data }))}\r\n\t\t\t\tdeps={[props.id]}\r\n\t\t\t\tisState={!!state.outlet}\r\n\t\t\t\tonError={err => setState(prev => ({ ...prev, error: err }))}\r\n\t\t\t\tloading={() => <QuizOutletPageSkeleton />}\r\n\t\t\t\terrorBlock={err => <QuizError error={err} fullScreen />}\r\n\t\t\t>\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className={css(styles.contentWrap)}>\r\n\t\t\t\t\t\t{state.cacheDateExpired && (\r\n\t\t\t\t\t\t\t<BlockDescription\r\n\t\t\t\t\t\t\t\ttext={\r\n\t\t\t\t\t\t\t\t\tt(\"Qusetionnaires saved, left\") +\r\n\t\t\t\t\t\t\t\t\t` ${getTimeDiffInMinutes(state.cacheDateExpired, new Date())} ` +\r\n\t\t\t\t\t\t\t\t\tt(\"min\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<OutletExtendableItem {...state.outlet}></OutletExtendableItem>\r\n\t\t\t\t\t\t<div className={css(styles.content)}>{<QstList {...props}></QstList>}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t</PageWrap>\r\n\t\t</ExtendableNavbarPage>\r\n\t);\r\n};\r\nQuizOutletPage.displayName = \"QuizOutletPage\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getOutletPageStyles = (theme: Theme, cacheDateExpired: Date) => {\r\n\treturn {\r\n\t\ttoggleWrap: {\r\n\t\t\theight: scale(theme.sizing.sizes.lg, ScaleEnum.Double),\r\n\t\t\tbackground: theme.colors.primary.background,\r\n\t\t\twidth: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp,\r\n\t\ttoggleContent: {\r\n\t\t\tpadding: `0 ${theme.constants.gridPadding}`,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tcontentWrap: {\r\n\t\t\tmarginTop: cacheDateExpired ? \"unset\" : theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\tcontent: {\r\n\t\t\tpaddingBottom: `calc(env(safe-area-inset-bottom) + var(--instanceBarIndent) + ${theme.sizing.sizes.lg})`\r\n\t\t}\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\nimport { t, quizAuthService } from \"quiz/QuizApp\";\r\nimport { QuizNavBar } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getRegistrationPageStyles } from \"./registrationPageStyles\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { Block, BlockDescription, BlockTitle } from \"quiz/components/block/Block\";\r\nimport { QuizListInputItem } from \"quiz/components/quizListInputItem/QuizListInputItem\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { ServerInteractionButton } from \"quiz/components/button/ServerInteractionButton\";\r\nimport { ButtonSize, ButtonType } from \"quiz/components/button/Button\";\r\nimport { getApiErrorForT } from \"utils/helpers\";\r\nimport { f7 } from \"framework7-react\";\r\n\r\ntype RegistrationPageState = {\r\n\tname?: string;\r\n\temail?: string;\r\n\terror?: any;\r\n};\r\n\r\nconst initialState: RegistrationPageState = { name: \"\", email: \"\", error: null };\r\n\r\nexport const RegistrationPage: React.FC = () => {\r\n\tconst [state, setState] = React.useState<RegistrationPageState>(initialState);\r\n\tconst styles = useStyles(getRegistrationPageStyles);\r\n\r\n\tconst onNameChange = React.useCallback((v: string) => setState(prev => ({ ...prev, name: v, error: null })), []);\r\n\tconst onEmailChange = React.useCallback((v: string) => setState(prev => ({ ...prev, email: v, error: null })), []);\r\n\tconst submitEnabled = React.useCallback(() => !!(state.name && state.email), [state]);\r\n\tconst command = React.useCallback(() => {\r\n\t\treturn new Promise<void>((resolve, reject) => {\r\n\t\t\tquizAuthService\r\n\t\t\t\t.registerUser(state.name, null, state.email)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetState(prev => ({ ...prev, error: null }));\r\n\t\t\t\t\tf7.views.main.router.navigate(\"/registration-success/\");\r\n\t\t\t\t\treturn resolve();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconst [error, args] = getApiErrorForT(err);\r\n\t\t\t\t\tsetState(prev => ({ ...prev, error: t(error, args) }));\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}, [state]);\r\n\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<QuizNavBar backLink title={t(\"Registration\")} faq />\r\n\t\t\t<div className={css(styles.wrap)}>\r\n\t\t\t\t<BlockTitle title={t(\"Personal data\")} />\r\n\t\t\t\t<Block secondary>\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tinputMode=\"email\"\r\n\t\t\t\t\t\ticon={[\"far\", \"user\"]}\r\n\t\t\t\t\t\tvalue={state.name}\r\n\t\t\t\t\t\tonChange={onNameChange}\r\n\t\t\t\t\t\tplaceholder={t(\"Enter your name\")}\r\n\t\t\t\t\t\tdash\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Block>\r\n\t\t\t\t<Block secondary>\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tinputMode=\"email\"\r\n\t\t\t\t\t\ticon={[\"far\", \"envelope\"]}\r\n\t\t\t\t\t\tvalue={state.email}\r\n\t\t\t\t\t\tonChange={onEmailChange}\r\n\t\t\t\t\t\tplaceholder={t(\"Enter e-mail\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Block>\r\n\t\t\t\t{state.error && <BlockDescription text={state.error} styles={styles.error} />}\r\n\t\t\t\t<BlockDescription\r\n\t\t\t\t\tmuted={false}\r\n\t\t\t\t\tcolorType={ColorTypes.base}\r\n\t\t\t\t\ttext={t(\"A letter with a link to confirm registration will be sent to the specified e-mail\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<ServerInteractionButton\r\n\t\t\t\t\twrap\r\n\t\t\t\t\ttype={ButtonType.normal}\r\n\t\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\ttitle={t(\"Registration\")}\r\n\t\t\t\t\ticon={[\"far\", \"user-plus\"]}\r\n\t\t\t\t\tenabled={submitEnabled}\r\n\t\t\t\t\tcommand={command}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Page>\r\n\t);\r\n};\r\n\r\nRegistrationPage.displayName = \"QuizRegistrationPage\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getRegistrationPageStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\theight: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexFlow: \"column\"\r\n\t\t} as CSSProp,\r\n\t\terror: {\r\n\t\t\tcolor: theme.colors.danger.main,\r\n\t\t\tmarginBottom: \"0\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\nimport { nav, t } from \"quiz/QuizApp\";\r\nimport { QuizNavBar } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { FullscreenInfo } from \"quiz/components/infoBlock/fullscreenInfoBlock/FullscreenInfo\";\r\nimport { ColorTypes } from \"theme/colors\";\r\n\r\nconst ApplicaitonSentIcon = (\r\n\t<svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<path\r\n\t\t\td=\"M42.5 60H14C11.7909 60 10 58.2091 10 56V24C10 21.7909 11.7909 20 14 20H56C58.2091 20 60 21.7909 60 24V43.75\"\r\n\t\t\tstroke=\"#23BA72\"\r\n\t\t\tstrokeWidth=\"4\"\r\n\t\t/>\r\n\t\t<path\r\n\t\t\td=\"M10 20L32.1716 42.1716C33.7337 43.7337 36.2663 43.7337 37.8284 42.1716L60 20\"\r\n\t\t\tstroke=\"#23BA72\"\r\n\t\t\tstrokeWidth=\"4\"\r\n\t\t/>\r\n\t\t<path d=\"M11.875 58.125L30 40\" stroke=\"#23BA72\" strokeWidth=\"4\" strokeLinecap=\"round\" />\r\n\t\t<path d=\"M40 40L46.25 46.25\" stroke=\"#23BA72\" strokeWidth=\"4\" strokeLinecap=\"round\" />\r\n\t\t<circle cx=\"56.25\" cy=\"56.25\" r=\"13.75\" stroke=\"#23BA72\" strokeWidth=\"4\" />\r\n\t\t<path\r\n\t\t\td=\"M53.758 54.992C52.9769 54.211 51.7106 54.211 50.9295 54.992C50.1485 55.7731 50.1485 57.0394 50.9295 57.8205L53.758 54.992ZM55.3021 59.3646L53.8879 60.7788C54.669 61.5599 55.9353 61.5599 56.7163 60.7788L55.3021 59.3646ZM61.8726 55.6226C62.6536 54.8415 62.6536 53.5752 61.8726 52.7941C61.0915 52.0131 59.8252 52.0131 59.0441 52.7941L61.8726 55.6226ZM50.9295 57.8205L53.8879 60.7788L56.7163 57.9504L53.758 54.992L50.9295 57.8205ZM56.7163 60.7788L61.8726 55.6226L59.0441 52.7941L53.8879 57.9504L56.7163 60.7788Z\"\r\n\t\t\tfill=\"#23BA72\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n\r\nexport const RegistrationSuccessPage: React.FC = () => {\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<QuizNavBar backLink title={t(\"Registration\")} faq />\r\n\t\t\t<FullscreenInfo\r\n\t\t\t\ttransparent\r\n\t\t\t\ttitle={t(\"Application sent\")}\r\n\t\t\t\ticon={ApplicaitonSentIcon}\r\n\t\t\t\tmessage={t(\r\n\t\t\t\t\t\"Your registration application has been successfully sent and is awaiting consideration by the administrator\"\r\n\t\t\t\t)}\r\n\t\t\t\tcolorType={ColorTypes.success}\r\n\t\t\t\tprimaryButton={{\r\n\t\t\t\t\ttitle: t(\"Enter\"),\r\n\t\t\t\t\ticon: [\"far\", \"sign-in\"],\r\n\t\t\t\t\tcommand: () => nav.toMain()\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Page>\r\n\t);\r\n};\r\n\r\nRegistrationSuccessPage.displayName = \"RegistrationSuccessPage\";\r\n","import * as React from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useAnimation } from \"hooks/useAnimation\";\r\nimport { nav, t, quizDataService } from \"quiz/QuizApp\";\r\nimport { QuizList } from \"quiz/components/quizList/QuizList\";\r\nimport { OutletFullData } from \"quiz/services/models\";\r\nimport { OutletItem } from \"quiz/components/outletItem/OutletItem\";\r\nimport { OutletSkeleton } from \"quiz/components/quizSkeleton/skeletons/OutletSkeleton\";\r\nimport { BlockTitle } from \"quiz/components/block/Block\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport { usePosition } from \"hooks/usePosition\";\r\nimport { QuizFade } from \"quiz/components/fade/QuizFade\";\r\nimport { getAnimationKey } from \"utils/helpers\";\r\nimport { Hints } from \"./hints/Hints\";\r\nimport { SearchFilter } from \"./searchFilter/SearchFilter\";\r\nimport { ExtendableNavbarPage } from \"quiz/components/extendableNavbarPage/ExtendableNavbarPage\";\r\nimport { SearchBar } from \"./searchBar/SearchBar\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getSearchPageStyles } from \"./searchPageStyles\";\r\nimport { QuizError } from \"quiz/components/errors/QuizError\";\r\nimport { searchPageReducer, SearchPageState } from \"./searchPageReducer\";\r\nimport { Fragment } from \"react\";\r\n\r\nconst initialState: SearchPageState = {\r\n\tvalue: \"\",\r\n\tdelayedValue: \"\",\r\n\tloading: false,\r\n\toutlets: [],\r\n\trequestError: null,\r\n\tonlyEmployeeOutlets: false\r\n};\r\n\r\nexport const SearchPage: React.FC = React.memo(() => {\r\n\tconst [state, dispatch] = React.useReducer(searchPageReducer, initialState);\r\n\tconst { latitude, longitude } = usePosition();\r\n\tconst animation = useAnimation();\r\n\tconst styles = useStyles(getSearchPageStyles);\r\n\r\n\tuseCancellablePromise(\r\n\t\ta => {\r\n\t\t\treturn quizDataService.findOutlets(\r\n\t\t\t\tstate.delayedValue,\r\n\t\t\t\t{ latitude, longitude },\r\n\t\t\t\t0,\r\n\t\t\t\t50,\r\n\t\t\t\tBoolean(state.onlyEmployeeOutlets),\r\n\t\t\t\t{ signal: a }\r\n\t\t\t);\r\n\t\t},\r\n\t\t{\r\n\t\t\tonSuccess: data => dispatch({ type: \"SUCCESS_REQUEST\", payload: data }),\r\n\t\t\tonError: err => dispatch({ type: \"ERROR_REQUEST\", payload: err }),\r\n\t\t\tdeps: [state.delayedValue, state.onlyEmployeeOutlets]\r\n\t\t}\r\n\t);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (state.value === state.delayedValue) {\r\n\t\t\tif (state.value === \"\") return void 0;\r\n\t\t\tdispatch({ type: \"INPUT_NOT_CHANGED\" });\r\n\t\t\treturn void 0;\r\n\t\t}\r\n\t\tconst handler = setTimeout(() => dispatch({ type: \"DELAYED_INPUT\" }), 750);\r\n\t\treturn () => clearTimeout(handler);\r\n\t}, [state.value]);\r\n\r\n\tconst showTitle = !state.loading && state.outlets?.length > 0 && !state.requestError?.message;\r\n\tconst isEmpty = !!state.delayedValue && state.outlets?.length === 0;\r\n\tconst isLoading = state.loading;\r\n\tconst showHints = !isEmpty && !showTitle && !isLoading && !state.requestError?.message;\r\n\tconst fadeAnimationKey = getAnimationKey(isLoading, [state.requestError?.message]);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ExtendableNavbarPage\r\n\t\t\t\tnavbarContent={() => (\r\n\t\t\t\t\t<SearchBar\r\n\t\t\t\t\t\tvalue={state.value}\r\n\t\t\t\t\t\tonInputChange={e => {\r\n\t\t\t\t\t\t\te.persist();\r\n\t\t\t\t\t\t\tdispatch({ type: \"INPUT_CHANGED\", payload: e.target.value });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInputClear={() => dispatch({ type: \"INPUT_CLEARED\" })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\textendableContent={() => (\r\n\t\t\t\t\t<SearchFilter\r\n\t\t\t\t\t\ttitle={t(\"Only my outlets\")}\r\n\t\t\t\t\t\tonToggleChange={checked => dispatch({ type: \"TOGGLE_CHANGED\", payload: checked })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\thasError={state?.requestError}\r\n\t\t\t>\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{state.requestError ? (\r\n\t\t\t\t\t\t<QuizError error={state.requestError} fullScreen />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<QuizFade animationKey={fadeAnimationKey}>\r\n\t\t\t\t\t\t\t<div className={css(styles.fadeContent)}>\r\n\t\t\t\t\t\t\t\t{showHints && (\r\n\t\t\t\t\t\t\t\t\t<Hints\r\n\t\t\t\t\t\t\t\t\t\tonExampleClick={example =>\r\n\t\t\t\t\t\t\t\t\t\t\tdispatch({ type: \"HINTS_CLICKED\", payload: example })\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{showTitle && (\r\n\t\t\t\t\t\t\t\t\t<BlockTitle title={t(\"Search result\")} counter={state.outlets?.length || 0} />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<QuizList\r\n\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\tisEmpty={isEmpty}\r\n\t\t\t\t\t\t\t\t\terrors={[state.requestError]}\r\n\t\t\t\t\t\t\t\t\tloading={() => <OutletSkeleton totalBlocks={3} blockTitle />}\r\n\t\t\t\t\t\t\t\t\temptyList={{ title: t(\"Nothing found\"), separateBlock: true }}\r\n\t\t\t\t\t\t\t\t\tseparateErrorBlock\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{state.outlets?.map((outlet: OutletFullData, idx: number) => (\r\n\t\t\t\t\t\t\t\t\t\t<OutletItem\r\n\t\t\t\t\t\t\t\t\t\t\tkey={outlet.id}\r\n\t\t\t\t\t\t\t\t\t\t\toutlet={outlet}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => nav.toOutlet(outlet.id)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={animation.animationDelay(idx)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</QuizList>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</QuizFade>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t</ExtendableNavbarPage>\r\n\t\t</Fragment>\r\n\t);\r\n});\r\n\r\nSearchPage.displayName = \"QuizSearchPage\";\r\n","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { Block } from \"quiz/components/block/Block\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { getHintsStyles } from \"./hintsStyles\";\r\n\r\ntype HintsProps = {\r\n\tonExampleClick: (text: string) => void;\r\n};\r\n\r\nconst searchFields = [\"outlet name\", \"chain name\", \"legal entity name\", \"address\", \"employee name\", \"code of outlet\"];\r\nconst searchExample = \"Mass 39\";\r\n\r\nexport const Hints: React.FC<HintsProps> = React.memo(props => {\r\n\tconst styles = useStyles(getHintsStyles);\r\n\treturn (\r\n\t\t<Block styles={styles.wrap}>\r\n\t\t\t<div>\r\n\t\t\t\t<div className={css(styles.description)}>\r\n\t\t\t\t\t<T muted tag=\"p\" styles={styles.title}>\r\n\t\t\t\t\t\tStart entering the first letters of the point of sale attributes:\r\n\t\t\t\t\t</T>\r\n\r\n\t\t\t\t\t<ul className={css(styles.searchFields)}>\r\n\t\t\t\t\t\t{searchFields.map((el, idx) => (\r\n\t\t\t\t\t\t\t<li key={idx} className={css(styles.searchElement)}>\r\n\t\t\t\t\t\t\t\t<T muted>{el}</T>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={css(styles.exampleTitle)}>\r\n\t\t\t\t\t<T muted>For example</T>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tprops.onExampleClick(t(searchExample));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<T muted styles={styles.exampleText}>\r\n\t\t\t\t\t\t\t{searchExample}\r\n\t\t\t\t\t\t</T>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Block>\r\n\t);\r\n});\r\nHints.displayName = \"Hints\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getHintsStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\theight: `calc(100 - ${theme.sizing.sizes.md})`,\r\n\t\t\twidth: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexFlow: \"column\",\r\n\t\t\tjustifyContent: \"flex-start\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tmarginTop: theme.sizing.sizes.xl,\r\n\t\t\tcolor: theme.colors.base.texts.muted,\r\n\t\t\tpadding: `0px ${scale(theme.sizing.sizes.lg, ScaleEnum.Double)}`\r\n\t\t} as CSSProp,\r\n\t\tdescription: {\r\n\t\t\tmarginBottom: theme.sizing.sizes.md\r\n\t\t} as CSSProp,\r\n\t\texampleTitle: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tmarginBottom: theme.sizing.sizes.sm\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\tmargin: `0px 0px ${theme.sizing.sizes.md} 0px`\r\n\t\t} as CSSProp,\r\n\t\texampleText: {\r\n\t\t\tborderBottom: \"1px dashed\",\r\n\t\t\tmarginLeft: theme.sizing.sizes.xs\r\n\t\t} as CSSProp,\r\n\t\tsearchFields: {\r\n\t\t\tlistStyle: \"none\",\r\n\t\t\tpaddingLeft: \"0px\",\r\n\t\t\tmargin: \"0px\",\r\n\t\t\tfontSize: theme.sizing.fontSizes.bodyMax,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexFlow: \"column\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tsearchElement: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\t\":before\": {\r\n\t\t\t\tcontent: \"'\\\\2022'\",\r\n\t\t\t\tdisplay: \"inline-block\",\r\n\r\n\t\t\t\twidth: theme.sizing.fontSizes.bodyMax\r\n\t\t\t}\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Navbar, NavLeft, NavTitle, NavRight } from \"quiz/components/navbar/Navbar\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { Link } from \"quiz/components/link/Link\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getSearchBarStyles } from \"./getSearchBarStyles\";\r\nimport { Icon } from \"quiz/components/icon/Icon\";\r\nimport { useKeyboardEnter } from \"hooks/useKeyboardEnter\";\r\nimport { t } from \"quiz/QuizApp\";\r\nimport { BackLink } from \"quiz/components/quizNavBar/icons/backlink/BackLink\";\r\n\r\ntype SearchBarProps = {\r\n\tonInputChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n\tonInputClear: () => void;\r\n\tvalue: string;\r\n};\r\n\r\nexport const SearchBar: React.FC<SearchBarProps> = props => {\r\n\tconst { onInputChange, onInputClear, value } = props;\r\n\tconst styles = useStyles(getSearchBarStyles);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst inputRef = React.useRef<HTMLInputElement>(null);\r\n\tconst enter = useKeyboardEnter();\r\n\r\n\tuseEffect(() => inputRef?.current?.focus(), [value]);\r\n\r\n\treturn (\r\n\t\t<Navbar>\r\n\t\t\t<NavLeft>\r\n\t\t\t\t<BackLink noMargin />\r\n\t\t\t</NavLeft>\r\n\t\t\t<NavTitle className={css(styles.title)}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\tclassName={css(styles.input)}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={value || \"\"}\r\n\t\t\t\t\tplaceholder={t(\"Search\")}\r\n\t\t\t\t\tonChange={onInputChange}\r\n\t\t\t\t\tonKeyDown={enter}\r\n\t\t\t\t/>\r\n\t\t\t</NavTitle>\r\n\t\t\t{value && (\r\n\t\t\t\t<NavRight>\r\n\t\t\t\t\t<Link onClick={onInputClear}>\r\n\t\t\t\t\t\t<div className={css(styles.iconWrap)}>\r\n\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\texplicitSize={theme.sizing.sizes.md}\r\n\t\t\t\t\t\t\t\tcolor={theme.colors.base.border}\r\n\t\t\t\t\t\t\t\ticon={[\"far\", \"times\"]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</NavRight>\r\n\t\t\t)}\r\n\t\t</Navbar>\r\n\t);\r\n};\r\n\r\nSearchBar.displayName = \"SearchBar\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getSearchBarStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tbacklink: {\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\tpaddingRight: 0\r\n\t\t} as CSSProp,\r\n\t\ttitle: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tmarginLeft: scale(theme.sizing.sizes.xs, ScaleEnum.Triple),\r\n\t\t\tmarginRight: \"0px\"\r\n\t\t} as CSSProp,\r\n\t\tinput: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tfontSize: theme.sizing.fontSizes.body,\r\n\t\t\t\"::after\": {\r\n\t\t\t\theight: \"0\"\r\n\t\t\t}\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\theight: theme.sizing.sizes.lg,\r\n\t\t\twidth: theme.sizing.sizes.lg,\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getSearchFilterStyles } from \"./searchFilterStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { Toggle } from \"quiz/components/toggle/Toggle\";\r\nimport F7Toggle from \"framework7-react/components/toggle\";\r\n\r\ntype SearchFilterProps = {\r\n\tonToggleChange: (checked: boolean) => void;\r\n\ttitle: string;\r\n};\r\n\r\nexport const SearchFilter: React.FC<SearchFilterProps> = React.memo(props => {\r\n\tconst { title, onToggleChange } = props;\r\n\tconst styles = useStyles(getSearchFilterStyles);\r\n\tconst toggleRef = React.useRef<F7Toggle>();\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t<div className={css(styles.inlineGroup)}>\r\n\t\t\t\t<div onClick={() => toggleRef.current?.f7Toggle?.toggle()}>\r\n\t\t\t\t\t<T size={TextSizeType.bodyMin}>{title}</T>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Toggle ref={toggleRef} onToggleChange={onToggleChange} defaultChecked={false} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nSearchFilter.displayName = \"SearchFilter\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getSearchFilterStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\theight: scale(theme.sizing.sizes.lg, ScaleEnum.Double),\r\n\t\t\tbackground: theme.colors.primary.background,\r\n\t\t\twidth: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tinlineGroup: {\r\n\t\t\tpadding: `0 ${theme.constants.gridPadding}`,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\talignItems: \"center\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { OutletFullData } from \"quiz/services/models\";\r\n\r\nexport type SearchPageState = {\r\n\tvalue?: string;\r\n\tdelayedValue?: string;\r\n\tloading?: boolean;\r\n\toutlets?: OutletFullData[];\r\n\trequestError?: any;\r\n\tonlyEmployeeOutlets?: boolean;\r\n};\r\n\r\ntype SearchPageActions =\r\n\t| { type: \"SUCCESS_REQUEST\"; payload: OutletFullData[] }\r\n\t| { type: \"ERROR_REQUEST\"; payload: any }\r\n\t| { type: \"INPUT_NOT_CHANGED\" }\r\n\t| { type: \"DELAYED_INPUT\" }\r\n\t| { type: \"INPUT_CHANGED\"; payload: string }\r\n\t| { type: \"INPUT_CLEARED\" }\r\n\t| { type: \"TOGGLE_CHANGED\"; payload: boolean }\r\n\t| { type: \"HINTS_CLICKED\"; payload: string };\r\n\r\nexport const searchPageReducer = (state: SearchPageState, action: SearchPageActions): SearchPageState => {\r\n\tswitch (action.type) {\r\n\t\tcase \"SUCCESS_REQUEST\":\r\n\t\t\treturn { ...state, requestError: null, outlets: action.payload, loading: false };\r\n\t\tcase \"ERROR_REQUEST\":\r\n\t\t\treturn { ...state, requestError: action.payload, loading: false };\r\n\t\tcase \"INPUT_NOT_CHANGED\":\r\n\t\t\treturn state;\r\n\t\tcase \"DELAYED_INPUT\":\r\n\t\t\treturn { ...state, delayedValue: state.value, loading: true };\r\n\t\tcase \"INPUT_CHANGED\":\r\n\t\t\treturn { ...state, value: action.payload };\r\n\t\tcase \"INPUT_CLEARED\":\r\n\t\t\treturn { ...state, value: \"\", delayedValue: \"\", outlets: [], loading: state.onlyEmployeeOutlets };\r\n\t\tcase \"TOGGLE_CHANGED\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tonlyEmployeeOutlets: action.payload,\r\n\t\t\t\toutlets: action.payload ? state.outlets : [],\r\n\t\t\t\tloading: true\r\n\t\t\t};\r\n\t\tcase \"HINTS_CLICKED\":\r\n\t\t\treturn { ...state, value: action.payload, loading: true };\r\n\t}\r\n};\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getSearchPageStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tfadeContent: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\theight: \"100%\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { Page } from \"quiz/components/page/Page\";\r\nimport { quizAuthService, t, nav } from \"quiz/QuizApp\";\r\nimport { QuizNavBar } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { Block, BlockDescription, BlockHeader } from \"quiz/components/block/Block\";\r\nimport { QuizListInputItem } from \"quiz/components/quizListInputItem/QuizListInputItem\";\r\nimport { ServerInteractionButton } from \"quiz/components/button/ServerInteractionButton\";\r\nimport { ButtonSize, ButtonType } from \"quiz/components/button/Button\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getApiErrorForT } from \"utils/helpers\";\r\nimport { getSendPasswordPageStyles } from \"./sendPasswordPageStyles\";\r\n\r\ntype QuizSendPasswordPageProps = {\r\n\tpasswordKey?: string;\r\n};\r\n\r\ntype SendPasswordState = {\r\n\tpassword: string;\r\n\tconfirmPassword: string;\r\n\terror?: any;\r\n};\r\n\r\nconst initialState: SendPasswordState = {\r\n\tpassword: \"\",\r\n\tconfirmPassword: \"\",\r\n\terror: null\r\n};\r\n\r\nexport const SendPasswordPage: React.FC<QuizSendPasswordPageProps> = props => {\r\n\tconst [state, setState] = React.useState<SendPasswordState>(initialState);\r\n\tconst styles = useStyles(getSendPasswordPageStyles);\r\n\r\n\tconst onPassChange = React.useCallback(\r\n\t\t(v: string) => setState(prev => ({ ...prev, password: v, error: null })),\r\n\t\t[]\r\n\t);\r\n\tconst onConfirmChange = React.useCallback(\r\n\t\t(v: string) => setState(prev => ({ ...prev, confirmPassword: v, error: null })),\r\n\t\t[]\r\n\t);\r\n\tconst sendEnabled = React.useCallback(() => !!(state.password && state.confirmPassword), [state]);\r\n\tconst command = React.useCallback(() => {\r\n\t\treturn new Promise<void>((resolve, reject) => {\r\n\t\t\tquizAuthService\r\n\t\t\t\t.setPassword({\r\n\t\t\t\t\tpassword: state.password,\r\n\t\t\t\t\tconfirmPassword: state.confirmPassword,\r\n\t\t\t\t\tkey: props.passwordKey\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tnav.toMain();\r\n\t\t\t\t\treturn resolve();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconst [error, args] = getApiErrorForT(err);\r\n\t\t\t\t\tsetState(prev => ({ ...prev, error: t(error, args) }));\r\n\t\t\t\t\treject();\r\n\t\t\t\t});\r\n\t\t});\r\n\t}, [state]);\r\n\r\n\treturn (\r\n\t\t<Page>\r\n\t\t\t<QuizNavBar backLink title={t(\"Restore password\")} />\r\n\t\t\t<div className={css(styles.wrap)}>\r\n\t\t\t\t<BlockHeader />\r\n\t\t\t\t<Block secondary>\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tinputMode=\"text\"\r\n\t\t\t\t\t\ticon={[\"far\", \"lock-alt\"]}\r\n\t\t\t\t\t\tvalue={state.password}\r\n\t\t\t\t\t\tonChange={onPassChange}\r\n\t\t\t\t\t\tplaceholder={t(\"Password\")}\r\n\t\t\t\t\t\tdash\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Block>\r\n\t\t\t\t<Block secondary>\r\n\t\t\t\t\t<QuizListInputItem\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tinputMode=\"text\"\r\n\t\t\t\t\t\ticon={[\"far\", \"lock-alt\"]}\r\n\t\t\t\t\t\tvalue={state.confirmPassword}\r\n\t\t\t\t\t\tonChange={onConfirmChange}\r\n\t\t\t\t\t\tplaceholder={t(\"Confirm password\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Block>\r\n\t\t\t\t<BlockDescription text={state.error} styles={styles.error} />\r\n\t\t\t\t<ServerInteractionButton\r\n\t\t\t\t\twrap\r\n\t\t\t\t\ttype={ButtonType.normal}\r\n\t\t\t\t\tcolorType={ColorTypes.primary}\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\ttitle={t(\"Send\")}\r\n\t\t\t\t\ticon={[\"fas\", \"paper-plane\"]}\r\n\t\t\t\t\tenabled={sendEnabled}\r\n\t\t\t\t\tcommand={command}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Page>\r\n\t);\r\n};\r\n\r\nSendPasswordPage.displayName = \"SendPasswordPage\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getSendPasswordPageStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\theight: \"100%\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexFlow: \"column\"\r\n\t\t} as CSSProp,\r\n\t\terror: {\r\n\t\t\tcolor: theme.colors.danger.main,\r\n\t\t\tmarginBottom: \"0\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { VisitReport, VisitReportProps } from \"./VisitReport\";\r\nimport { t, nav } from \"quiz/QuizApp\";\r\nimport { accessDeniedIcon } from \"quiz/components/infoScreenIcons/accessDeniedIcon\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { FeedbackTypeEnum } from \"quiz/components/feedback/Feedback\";\r\nimport { FullscreenInfo } from \"quiz/components/infoBlock/fullscreenInfoBlock/FullscreenInfo\";\r\nimport { f7 } from \"framework7-react\";\r\n\r\nexport interface ReportPageContext extends VisitReportProps {\r\n\topen: boolean;\r\n}\r\n\r\ntype ReportPageProps = {\r\n\tcontext?: ReportPageContext;\r\n};\r\n\r\nexport const ReportPage: React.FC<ReportPageProps> = props => {\r\n\tconst { visit, visitManager, outlet, onAnswerClick } = props.context || {\r\n\t\tvisit: null,\r\n\t\tvisitManager: null,\r\n\t\toutlet: null,\r\n\t\tonAnswerClick: null\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{props.context?.visit ? (\r\n\t\t\t\t<VisitReport\r\n\t\t\t\t\tvisit={visit}\r\n\t\t\t\t\tvisitManager={visitManager}\r\n\t\t\t\t\toutlet={outlet}\r\n\t\t\t\t\tisCompleted={false}\r\n\t\t\t\t\tonAnswerClick={onAnswerClick}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<FullscreenInfo\r\n\t\t\t\t\ticon={accessDeniedIcon}\r\n\t\t\t\t\ttitle={t(\"Access error\")}\r\n\t\t\t\t\tmessage={t(\"Access denied\")}\r\n\t\t\t\t\tcolorType={ColorTypes.danger}\r\n\t\t\t\t\tprimaryButton={{\r\n\t\t\t\t\t\ttitle: t(\"Complain\"),\r\n\t\t\t\t\t\ticon: [\"far\", \"comment-alt-lines\"],\r\n\t\t\t\t\t\tcommand: () => nav.toFeedback({ type: FeedbackTypeEnum.Problem, value: t(\"Access denied\") })\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsecondaryButton={{\r\n\t\t\t\t\t\ttitle: t(\"Refresh\"),\r\n\t\t\t\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\t\t\t\tcommand: () => f7.views.main.router.refreshPage()\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}; //toDO: fetch data?\r\nReportPage.displayName = \"ReportPage\";\r\n","import * as React from \"react\";\r\nimport { VisitReport } from \"./VisitReport\";\r\nimport { ContextInfoBlock, InfoBlockActionButton } from \"quiz/components/infoBlock/contextInfoBlock/ContextInfoBlock\";\r\nimport { t, quizAuthService, quizQstService, nav } from \"quiz/QuizApp\";\r\nimport { useVisitManager } from \"../questionnaire/visitManagerHook\";\r\nimport { VisitUploadData, VisitUploadStatus } from \"quiz/services/QuizDraftService\";\r\nimport { ColorTypes } from \"theme/colors\";\r\nimport { serverErrorIcon } from \"quiz/components/infoScreenIcons/serverErrorIcon\";\r\nimport { accessDeniedIcon } from \"quiz/components/infoScreenIcons/accessDeniedIcon\";\r\nimport { FeedbackTypeEnum } from \"quiz/components/feedback/Feedback\";\r\nimport { FullscreenInfo } from \"quiz/components/infoBlock/fullscreenInfoBlock/FullscreenInfo\";\r\nimport { f7 } from \"framework7-react\";\r\n\r\nexport interface UnsentReportPageContext {\r\n\topen: boolean;\r\n\tvisitData: VisitUploadData;\r\n\tisCompleted: boolean;\r\n}\r\n\r\ntype UnsentReportPageProps = {\r\n\tcontext?: UnsentReportPageContext;\r\n};\r\n\r\nexport const UnsentReportPage: React.FC<UnsentReportPageProps> = props => {\r\n\tconst { visitData } = props.context || {\r\n\t\tvisitData: null\r\n\t};\r\n\r\n\tconst visit = visitData ? visitData.visit : null;\r\n\tconst { visitManager } = visit\r\n\t\t? useVisitManager(visit.questionnaire, visit.outlet, quizAuthService.state.user.employee, {\r\n\t\t\t\tinitVisit: visit\r\n\t\t  })\r\n\t\t: { visitManager: null };\r\n\r\n\tlet errorText = \"\";\r\n\tif (visitData) {\r\n\t\tif (visitData.status == VisitUploadStatus.error) errorText += t(\"Visit save failed!\");\r\n\t\tconst failedFiles = visitData.files.filter(f => f.status == VisitUploadStatus.error);\r\n\t\tif (failedFiles.length) {\r\n\t\t\terrorText += \"\\n\";\r\n\t\t\terrorText += t(\"{failed} of {total} photos failed to upload.\", {\r\n\t\t\t\ttotal: visitData.files.length,\r\n\t\t\t\tfailed: failedFiles.length\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst actionButtons: InfoBlockActionButton[] = [\r\n\t\t{\r\n\t\t\ttitle: \"Retry\",\r\n\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\tcommand: () => {\r\n\t\t\t\tnav.back();\r\n\t\t\t\tquizQstService.retrySend(visitData);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Delete\",\r\n\t\t\ticon: [\"far\", \"trash-alt\"],\r\n\t\t\tcommand: () => {\r\n\t\t\t\tnav.back();\r\n\t\t\t\tquizQstService.deleteUploadData(visitData);\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{visit ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<ContextInfoBlock\r\n\t\t\t\t\t\ticon={serverErrorIcon}\r\n\t\t\t\t\t\ttitle=\"Visit synchronization error\"\r\n\t\t\t\t\t\tmessage={errorText}\r\n\t\t\t\t\t\tbuttons={actionButtons}\r\n\t\t\t\t\t\tcolorType={ColorTypes.danger}\r\n\t\t\t\t\t\tseparateBlock\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<VisitReport visit={visit} visitManager={visitManager} isCompleted={true} />\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<FullscreenInfo\r\n\t\t\t\t\ticon={accessDeniedIcon}\r\n\t\t\t\t\ttitle={t(\"Access error\")}\r\n\t\t\t\t\tmessage={t(\"Access denied\")}\r\n\t\t\t\t\tcolorType={ColorTypes.danger}\r\n\t\t\t\t\tprimaryButton={{\r\n\t\t\t\t\t\ttitle: t(\"Complain\"),\r\n\t\t\t\t\t\ticon: [\"far\", \"comment-alt-lines\"],\r\n\t\t\t\t\t\tcommand: () => nav.toFeedback({ type: FeedbackTypeEnum.Problem, value: t(\"Access denied\") })\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsecondaryButton={{\r\n\t\t\t\t\t\ttitle: t(\"Refresh\"),\r\n\t\t\t\t\t\ticon: [\"far\", \"sync\"],\r\n\t\t\t\t\t\tcommand: () => f7.views.main.router.refreshPage()\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}; //toDO: fetch data?\r\nUnsentReportPage.displayName = \"UnsentReportPage\";\r\n","import { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { quizQstService } from \"quiz/QuizApp\";\r\nimport { QuizPageComponentProps } from \"quiz/QuizAppRoutes\";\r\nimport { Visit } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { VisitReport } from \"./VisitReport\";\r\nimport { VisitReportSkeleton } from \"quiz/components/quizSkeleton/skeletons/VisitReportSkeleton\";\r\nimport { getAnimationKey, toLocalISOString } from \"utils/helpers\";\r\nimport { QuizFade } from \"quiz/components/fade/QuizFade\";\r\nimport { useCancellablePromise } from \"hooks/useCancellablePromise\";\r\nimport { QuizList } from \"quiz/components/quizList/QuizList\";\r\n\r\nexport interface VisitPageProps extends QuizPageComponentProps {\r\n\tid: MDTRecordId;\r\n}\r\n\r\ntype VisitPageState = {\r\n\tvisit?: Visit;\r\n\trequestError?: any;\r\n};\r\n\r\n//todo: в комментарии игнорятся пробелы\r\nexport const VisitPage: React.FC<VisitPageProps> = props => {\r\n\tconst [state, setVisit] = React.useState<VisitPageState>({ visit: null, requestError: null });\r\n\tconst fadeAnimationKey = getAnimationKey(!state.visit, [state.requestError?.message]);\r\n\r\n\tuseCancellablePromise(\r\n\t\ta =>\r\n\t\t\tquizQstService.getVisit(props.id, { signal: a }).then(async visit => {\r\n\t\t\t\tconst dateSubmit = visit?.dateEnd ? toLocalISOString(visit.dateEnd).replace(/\\.\\d+Z$/, \"\") : null;\r\n\t\t\t\tconst prevVisit = await quizQstService.getQstPrevVisit(\r\n\t\t\t\t\tvisit.outletId,\r\n\t\t\t\t\tvisit.questionnaireId,\r\n\t\t\t\t\tdateSubmit,\r\n\t\t\t\t\t{ signal: a }\r\n\t\t\t\t);\r\n\t\t\t\tif (prevVisit) visit.questionnaire.prevVisit = prevVisit;\r\n\t\t\t\treturn visit;\r\n\t\t\t}),\r\n\t\t{\r\n\t\t\tonSuccess: v => setVisit({ visit: v, requestError: null }),\r\n\t\t\tonError: err => setVisit({ requestError: err })\r\n\t\t}\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<QuizFade animationKey={fadeAnimationKey}>\r\n\t\t\t\t<QuizList\r\n\t\t\t\t\tisLoading={!state.visit}\r\n\t\t\t\t\tisEmpty={state?.visit == null}\r\n\t\t\t\t\terrors={[state.requestError]}\r\n\t\t\t\t\tloading={() => <VisitReportSkeleton totalBlocks={7} />}\r\n\t\t\t\t>\r\n\t\t\t\t\t<VisitReport visit={state.visit} outlet={state.visit?.outlet} isCompleted />\r\n\t\t\t\t</QuizList>\r\n\t\t\t</QuizFade>\r\n\t\t</>\r\n\t);\r\n};\r\nVisitPage.displayName = \"VisitPage\";\r\n","import { Text } from \"quiz/components/text/Text\";\r\nimport { ListItem, List } from \"quiz/components/listView/ListView\";\r\nimport { T } from \"quiz/components/text/T\";\r\nimport { t, nav } from \"quiz/QuizApp\";\r\nimport { Visit, VisitAnswer, OutletFullData } from \"quiz/services/models\";\r\nimport * as React from \"react\";\r\nimport { TextSizeType } from \"theme/sizing\";\r\nimport { VisitManager } from \"../questionnaire/VisitManager\";\r\nimport { SignatureControl } from \"quiz/components/signature/SignatureControl\";\r\nimport { BlockTitle, Block } from \"quiz/components/block/Block\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getVisitReportStyles } from \"./visitReportStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { formatDateTime, getVisitDuration } from \"utils/helpers\";\r\nimport { OutletExtendableItem } from \"quiz/components/outletExtendableView/OutletExtendableItem\";\r\nimport { QuestionReadonlyControl } from \"quiz/components/question/controls/readonly/QuestionReadonlyControl\";\r\nimport { QstListItemView } from \"quiz/components/qstListItem/QstListItemView\";\r\nimport { Divider } from \"quiz/components/divider/Divider\";\r\nimport { ThemeContext } from \"themeContext/ThemeContext\";\r\nimport { getCSSSizeValue } from \"utils/cssHelpers\";\r\nimport { WrappedMobileActionButton } from \"quiz/components/button/WrappedMobileActionButton\";\r\nimport { ButtonSize, ButtonType } from \"quiz/components/button/Button\";\r\nimport { Toast } from \"quiz/components/interaction/toast/Toast\";\r\nimport { QuestionKpiControl } from \"quiz/components/question/controls/kpi/QuestionKpiControl\";\r\nimport { QstContext } from \"quiz/components/question/common/QstContext\";\r\n\r\nexport interface VisitReportProps {\r\n\tvisit: Visit;\r\n\tvisitManager?: VisitManager;\r\n\toutlet?: OutletFullData;\r\n\tisCompleted: boolean;\r\n\tonAnswerClick?: (answer: VisitAnswer) => void;\r\n}\r\n\r\nexport const VisitReport: React.FC<VisitReportProps> = props => {\r\n\tconst styles = useStyles(getVisitReportStyles);\r\n\tconst theme = React.useContext(ThemeContext);\r\n\tconst { onAnswerClick, isCompleted, visit, visitManager, outlet } = props;\r\n\tconst [signatureIsValid, setSignatureIsValid] = React.useState<boolean>(true);\r\n\tconst prevVisit = visit.questionnaire?.prevVisit;\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (!isCompleted && visit.questionnaire.flagSignature) {\r\n\t\t\tsetSignatureIsValid(visitManager && visitManager.validateSignature());\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\tvisit && (\r\n\t\t\t<>\r\n\t\t\t\t<List noHairlinesMd>\r\n\t\t\t\t\t<BlockTitle title={t(\"Common info\")} />\r\n\t\t\t\t\t<OutletExtendableItem {...visit.outlet} />\r\n\t\t\t\t\t<div className={css(styles.infoWrap)}>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<QstListItemView\r\n\t\t\t\t\t\t\tname={visit.questionnaire.name}\r\n\t\t\t\t\t\t\tdescription={visit.questionnaire.description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<div className={css(styles.infoWrap)}>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className={css(styles.infoRow)}>\r\n\t\t\t\t\t\t\t<div className={css(styles.infoText)}>\r\n\t\t\t\t\t\t\t\t<T muted size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\tDate start\r\n\t\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={css(styles.infoText)}>\r\n\t\t\t\t\t\t\t\t<Text size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\t{formatDateTime(visit.dateBegin, null, {\r\n\t\t\t\t\t\t\t\t\t\thour: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\tminute: \"numeric\"\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{visit.elapsedSeconds && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Divider dash />\r\n\t\t\t\t\t\t\t\t<div className={css(styles.infoRow)}>\r\n\t\t\t\t\t\t\t\t\t<div className={css(styles.infoText)}>\r\n\t\t\t\t\t\t\t\t\t\t<T muted size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\t\t\tDuration\r\n\t\t\t\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className={css(styles.infoText)}>\r\n\t\t\t\t\t\t\t\t\t\t<Text size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\t\t\t{getVisitDuration(visit.elapsedSeconds)}\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List>\r\n\t\t\t\t{visit.answers &&\r\n\t\t\t\t\tvisit.answers.map((answer, idx) => {\r\n\t\t\t\t\t\tconst errors = (visitManager && visitManager.validateAnswer(answer)) || [];\r\n\t\t\t\t\t\tconst question = answer.question;\r\n\t\t\t\t\t\tconst prevAnswer = prevVisit?.answers?.find(a => a.questionId == question.id);\r\n\t\t\t\t\t\t//toDO: QuestionView\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={answer.questionId} onClick={() => onAnswerClick && onAnswerClick(answer)}>\r\n\t\t\t\t\t\t\t\t<div className={css(styles.answerSpacing)} />\r\n\t\t\t\t\t\t\t\t<List noHairlinesMd noHairlinesBetweenMd>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<div slot=\"inner-start\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={css(styles.questionName)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<T size={TextSizeType.bodyMax}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${idx + 1}. ${answer.question.name}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={css(styles.questionDescription)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<T muted size={TextSizeType.caption}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{answer.question.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</T>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div slot={\"root-end\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t{question.kpi?.length && (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<QstContext.Provider\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanswer: answer,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprevAnswer: prevAnswer,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprevVisitDate: prevVisit?.dateEnd\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<QuestionKpiControl question={question} />\r\n\t\t\t\t\t\t\t\t\t\t\t</QstContext.Provider>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={css(styles.kpiDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<QuestionReadonlyControl\r\n\t\t\t\t\t\t\t\t\t\tanswer={answer}\r\n\t\t\t\t\t\t\t\t\t\terrors={errors}\r\n\t\t\t\t\t\t\t\t\t\tvisitManager={visitManager}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t{visit.questionnaire.flagSignature ? (\r\n\t\t\t\t\t<div className={css(styles.signatureWrap)}>\r\n\t\t\t\t\t\t<BlockTitle title={t(\"Signature\")} />\r\n\t\t\t\t\t\t<Block secondary>\r\n\t\t\t\t\t\t\t<SignatureControl\r\n\t\t\t\t\t\t\t\tvisitManager={visitManager}\r\n\t\t\t\t\t\t\t\treadonly={!visitManager}\r\n\t\t\t\t\t\t\t\tvisit={visit}\r\n\t\t\t\t\t\t\t\temptyText={t(\"Place for signature\")}\r\n\t\t\t\t\t\t\t\twidth={document.body.clientWidth - getCSSSizeValue(theme.constants.gridPadding) * 2}\r\n\t\t\t\t\t\t\t\tonSignatureStateChange={() => {\r\n\t\t\t\t\t\t\t\t\tsetSignatureIsValid(visitManager && visitManager.validateSignature());\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Block>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className={css(styles.answerSpacing)} />\r\n\t\t\t\t)}\r\n\t\t\t\t{!isCompleted && (\r\n\t\t\t\t\t<WrappedMobileActionButton\r\n\t\t\t\t\t\ticon={\"paper-plane\"}\r\n\t\t\t\t\t\ttitle={t(\"Send\")}\r\n\t\t\t\t\t\tsize={ButtonSize.large}\r\n\t\t\t\t\t\ttype={ButtonType.normal}\r\n\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\tcommand={() => {\r\n\t\t\t\t\t\t\tvisitManager?.finishVisit().then(() => {\r\n\t\t\t\t\t\t\t\tToast.create({\r\n\t\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\t\ttext: t(\"Questionnaire finished!\")\r\n\t\t\t\t\t\t\t\t}).open();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tToast.create({\r\n\t\t\t\t\t\t\t\ttype: \"info\",\r\n\t\t\t\t\t\t\t\ttext: t(\"Report sync...\")\r\n\t\t\t\t\t\t\t}).open();\r\n\t\t\t\t\t\t\tnav.toOutlet(visit.outletId, { reloadAll: true });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tenabled={() => visitManager && visitManager.isValidQuestionnaire() && signatureIsValid}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nVisitReport.displayName = \"VisitReport\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\n\r\nexport const getVisitReportStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tinfoWrap: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tpadding: `0 ${theme.constants.gridPadding}`,\r\n\t\t\tboxSizing: \"border-box\",\r\n\t\t\tbackgroundColor: theme.colors.base.main\r\n\t\t} as CSSProp,\r\n\t\tinfoRow: {\r\n\t\t\tpadding: `${theme.sizing.sizes.sm} 0`,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"space-between\"\r\n\t\t} as CSSProp,\r\n\t\tinfoText: {\r\n\t\t\tlineHeight: theme.sizing.lineHeights.heading\r\n\t\t} as CSSProp,\r\n\t\tquestionName: {\r\n\t\t\tlineHeight: theme.sizing.lineHeights.bodyMax\r\n\t\t} as CSSProp,\r\n\t\tquestionDescription: {\r\n\t\t\tlineHeight: theme.sizing.lineHeights.caption\r\n\t\t} as CSSProp,\r\n\t\tsignatureWrap: {\r\n\t\t\tpaddingBottom: scale(theme.sizing.sizes.lg, ScaleEnum.Half)\r\n\t\t} as CSSProp,\r\n\t\tanswerSpacing: {\r\n\t\t\tpaddingTop: theme.sizing.sizes.lg\r\n\t\t} as CSSProp,\r\n\t\tkpiDivider: {\r\n\t\t\theight: \"0px\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","interface VisitSendErrorData {\r\n\terr: Error;\r\n\tcontext?: any;\r\n}\r\n\r\nexport class VisitSendError extends Error {\r\n\tname = \"Visit send error\";\r\n\tmessage: string;\r\n\tcontext: any;\r\n\r\n\tconstructor(public data: VisitSendErrorData) {\r\n\t\tsuper();\r\n\t\tthis.message = data.err.message;\r\n\t\tthis.name = data.err.name;\r\n\t\tthis.context = data.context;\r\n\t\tObject.setPrototypeOf(this, VisitSendError.prototype);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `${this.name}: ${this.message}`;\r\n\t}\r\n}\r\n","import { MDTApiError } from \"mdtApiClient/mdtApiClient\";\r\n\r\nexport type QuizAppState = {\r\n\tready: boolean;\r\n\terror: Error | MDTApiError;\r\n\tdeps: {\r\n\t\tuser: boolean;\r\n\t\tdata: boolean;\r\n\t};\r\n};\r\n\r\nexport enum quizAppActions {\r\n\t\"USER_READY\" = \"USER_READY\",\r\n\t\"DATA_READY\" = \"DATA_READY\",\r\n\t\"APP_READY\" = \"APP_READY\",\r\n\t\"ERROR\" = \"ERROR\"\r\n}\r\n\r\nexport type Action = {\r\n\ttype: string;\r\n\tpayload?: any;\r\n};\r\n\r\nexport const initialQuizAppState: QuizAppState = {\r\n\tready: false,\r\n\terror: null,\r\n\tdeps: {\r\n\t\tuser: false,\r\n\t\tdata: false\r\n\t}\r\n};\r\n\r\nexport const quizAppReducer = (state: QuizAppState, action: Action): QuizAppState => {\r\n\tswitch (action.type) {\r\n\t\tcase quizAppActions.APP_READY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tready: true\r\n\t\t\t};\r\n\t\tcase quizAppActions.DATA_READY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeps: {\r\n\t\t\t\t\t...state.deps,\r\n\t\t\t\t\tdata: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase quizAppActions.USER_READY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeps: {\r\n\t\t\t\t\t...state.deps,\r\n\t\t\t\t\tuser: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase quizAppActions.ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tready: true,\r\n\t\t\t\terror: action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport {\r\n\toutletCacheStore,\r\n\tOutletCache,\r\n\tQuizDB,\r\n\tdraftFilesStore,\r\n\tVisitUploadData,\r\n\tvisitUploadStore,\r\n\tdraftStoreName\r\n} from \"./QuizDraftService\";\r\nimport { cacheIsValid } from \"utils/helpers\";\r\nimport { DatabaseExtension } from \"./extension/db/dbExtension\";\r\nimport { DBService } from \"./extension/db/dbService\";\r\nimport { IDBPDatabase } from \"idb\";\r\nimport { Visit, VisitAnswer } from \"./models\";\r\n\r\nexport class CleaningService {\r\n\tprivate db: Promise<DBService> | Promise<IDBPDatabase<QuizDB>>;\r\n\tconstructor(db: DatabaseExtension) {\r\n\t\tthis.db = db.getDB();\r\n\t}\r\n\r\n\tasync removeOutletCache(outletId: MDTRecordId) {\r\n\t\treturn await (await this.db).delete(outletCacheStore, outletId);\r\n\t}\r\n\r\n\tasync removeAllInvalidOutletCache() {\r\n\t\tconst oldCache = (await this.getAllOutletCache()).filter(c => !cacheIsValid(c.dateExpired));\r\n\t\tawait Promise.all(oldCache.map(c => this.removeOutletCache(c.outlet.id.toString())));\r\n\t}\r\n\r\n\tprivate async getAllOutletCache() {\r\n\t\treturn (await (await this.db).getAll(outletCacheStore)) as Promise<OutletCache[]>;\r\n\t}\r\n\r\n\tasync removeInvalidFiles() {\r\n\t\tconst db = await this.db;\r\n\t\tconst [drafts, visits] = await Promise.all([this.getAllDrafts(), this.getAllVisits()]);\r\n\r\n\t\tconst draftFilesId = drafts.reduce((acc, draft) => {\r\n\t\t\tconst filesId = this.getFilesId(draft.answers);\r\n\t\t\treturn [...acc, ...filesId];\r\n\t\t}, []);\r\n\r\n\t\tconst visitFilesId = visits.reduce((acc, visit) => {\r\n\t\t\tconst filesId = this.getFilesId(visit.visit.answers);\r\n\t\t\treturn [...acc, ...filesId];\r\n\t\t}, []);\r\n\r\n\t\tconst existingFilesId = new Set([...draftFilesId, ...visitFilesId]);\r\n\t\tconst allFilesId = await db.getAllKeys(draftFilesStore);\r\n\t\tconst filesForDelete = allFilesId.filter(id => !existingFilesId.has(id));\r\n\r\n\t\tawait Promise.all(filesForDelete.map(fileId => db.delete(draftFilesStore, fileId)));\r\n\t\treturn;\r\n\t}\r\n\r\n\tprivate getFilesId(answers: VisitAnswer[]): number[] {\r\n\t\tconst filesId = answers.reduce((acc, answer) => {\r\n\t\t\tif (answer.files) {\r\n\t\t\t\tconst ids = answer.files.map(file => file.draftFileId);\r\n\t\t\t\treturn [...acc, ...ids];\r\n\t\t\t}\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\t\treturn filesId;\r\n\t}\r\n\r\n\tprivate async getAllDrafts() {\r\n\t\treturn (await (await this.db).getAll(draftStoreName)) as Promise<Visit[]>;\r\n\t}\r\n\r\n\tprivate async getAllVisits() {\r\n\t\treturn (await (await this.db).getAll(visitUploadStore)) as Promise<VisitUploadData[]>;\r\n\t}\r\n}\r\n","export class GeolocationError extends Error {\r\n\tname = \"Geolocation Error\";\r\n\tmessage = null;\r\n\tcode = null;\r\n\r\n\tconstructor(error: PositionError) {\r\n\t\tsuper();\r\n\t\tthis.message = error.message;\r\n\t\tthis.code = error.code;\r\n\t\tObject.setPrototypeOf(this, GeolocationError.prototype);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `${this.name}: ${this.message}`;\r\n\t}\r\n}\r\n","import NanoEvents from \"nanoevents\";\r\nimport { quizMetricsService } from \"quiz/QuizApp\";\r\n\r\ninterface LoggerEvents {\r\n\tpreLog: LogItem;\r\n\tlog: LogItem;\r\n\tclear: void;\r\n}\r\n\r\nexport enum LogType {\r\n\tinfo = \"info\",\r\n\twarning = \"warning\",\r\n\terror = \"error\"\r\n}\r\n\r\ntype LogCode = string;\r\n\r\ntype LogData = {\r\n\t[prop: string]: any;\r\n\tmessage?: any;\r\n\tcontext?: string;\r\n\tstage?: string;\r\n};\r\n\r\nexport interface LogItem {\r\n\tcode: LogCode;\r\n\tdata: LogData;\r\n\ttype: LogType;\r\n\ttime: number;\r\n}\r\n\r\nexport class Logger {\r\n\tprivate logData = [];\r\n\tprivate events = new NanoEvents<LoggerEvents>();\r\n\tprivate logStack = {};\r\n\r\n\tlog(code: LogCode, data?: LogData, type: LogType = LogType.info) {\r\n\t\tconst timestamp = new Date().getTime();\r\n\t\tconst logData: LogData = {\r\n\t\t\t...data,\r\n\t\t\t...(type === LogType.error || data?.error\r\n\t\t\t\t? { stack: data?.error?.stack?.toString() || data?.error?.reason?.stack?.toString() }\r\n\t\t\t\t: {}),\r\n\t\t\t...(data?.error ? { error: data.error.reason?.toString() || data.error.toString() } : {})\r\n\t\t};\r\n\r\n\t\tconst item: LogItem = {\r\n\t\t\tcode,\r\n\t\t\tdata: logData,\r\n\t\t\ttype,\r\n\t\t\ttime: timestamp\r\n\t\t};\r\n\r\n\t\tthis.events.emit(\"preLog\", item);\r\n\t\tthis.logData.push(item);\r\n\r\n\t\tquizMetricsService.set({ ...item }); //toDO: refactor\r\n\t\tthis.events.emit(\"log\", item);\r\n\t}\r\n\r\n\tintervalLogStart(logName) {\r\n\t\tthis.logStack[logName] = {\r\n\t\t\tstart: new Date().getTime()\r\n\t\t};\r\n\t}\r\n\r\n\tintervalLogEnd(logCode, logName, data) {\r\n\t\tconst log = this.logStack[logName];\r\n\t\tif (!log) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst startTime = log.start;\r\n\t\tconst spentTime = new Date().getTime() - startTime;\r\n\t\tconst logData = {\r\n\t\t\t...data,\r\n\t\t\tspentTime\r\n\t\t};\r\n\t\tthis.log(logCode, logData);\r\n\t\tdelete this.logStack[logName];\r\n\t}\r\n\r\n\tgetLog() {\r\n\t\treturn this.logData;\r\n\t}\r\n\r\n\tclearLog() {\r\n\t\tthis.logData = [];\r\n\t\tthis.events.emit(\"clear\", void 0);\r\n\t}\r\n\r\n\tsubscribe<U extends keyof LoggerEvents>(event: U, callback: (arg: LoggerEvents[U]) => any) {\r\n\t\treturn this.events.on(event, callback);\r\n\t}\r\n}\r\n","export class OfflineError extends Error {\r\n\tname = \"Offline Error\";\r\n\tmessage = \"Check your internet connection\";\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tObject.setPrototypeOf(this, OfflineError.prototype);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `${this.name}: ${this.message}`;\r\n\t}\r\n}\r\n","import { Filter } from \"mdtApiClient/helpers/filter\";\r\nimport { MDTApiClient, MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { ApiClientUser } from \"mdtApiClient/modules/auth/auth\";\r\nimport { OAuthService } from \"mdtApiClient/modules/auth/oauth\";\r\nimport { setPasswordData, changePasswordData } from \"mdtApiClient/modules/auth/password\";\r\nimport { Employee, UserSettings } from \"./models\";\r\nimport { quizDataService } from \"quiz/QuizApp\";\r\nimport { quizUserService } from \"quiz/QuizApp\";\r\n\r\nexport interface QuizUser extends ApiClientUser {\r\n\tflagAdmin?: boolean;\r\n\tflagGetLog?: boolean;\r\n\tflagRouteExists?: boolean;\r\n\temployee?: Employee;\r\n\tisSuperVisor?: boolean;\r\n\tuserSettings?: UserSettings;\r\n}\r\n\r\ninterface QuizAuthServiceState {\r\n\tuser: QuizUser;\r\n}\r\n\r\ninterface QuizAuthServiceOptions {\r\n\tinitDependency?(user: QuizUser): Promise<unknown>;\r\n}\r\n\r\nexport class QuizAuthService {\r\n\tstate: QuizAuthServiceState = { user: null };\r\n\r\n\tconstructor(private apiClient: MDTApiClient, private options: QuizAuthServiceOptions = {}) {}\r\n\r\n\tasync init() {\r\n\t\tconst user = await this.apiClient.auth.user();\r\n\t\tlet quizUserData = {};\r\n\t\tif (QuizAuthService.isUserLoggedIn(user)) {\r\n\t\t\tquizUserData = await this.getQuizUserData(user.id);\r\n\t\t}\r\n\t\tthis.updateState({\r\n\t\t\tuser: {\r\n\t\t\t\t...user,\r\n\t\t\t\t...quizUserData\r\n\t\t\t}\r\n\t\t});\r\n\t\tawait quizUserService.updateUserSettings(this.state.user);\r\n\t\tif (this.options.initDependency) await this.options.initDependency(user);\r\n\t\treturn this.state;\r\n\t}\r\n\r\n\tasync signIn(login: string, password: string) {\r\n\t\tawait this.apiClient.auth.signIn(login, password, true);\r\n\t\treturn await this.init();\r\n\t}\r\n\r\n\tasync signOut() {\r\n\t\tawait this.apiClient.auth.signOut();\r\n\t\tawait this.init();\r\n\t}\r\n\r\n\tasync forgotPassword(login: string): Promise<Response> {\r\n\t\treturn this.apiClient.password.sendForgotPassword(login);\r\n\t}\r\n\r\n\tasync setPassword(data: setPasswordData) {\r\n\t\treturn this.apiClient.password.setPassword(data);\r\n\t}\r\n\r\n\tasync changePassword(data: changePasswordData) {\r\n\t\treturn this.apiClient.password.changePassword(data, false);\r\n\t}\r\n\r\n\tasync getQuizUserData(userId: MDTRecordId) {\r\n\t\tconst res = await this.apiClient.fetch(\r\n\t\t\t{\r\n\t\t\t\ttable: \"qst.PrincipalCache\",\r\n\t\t\t\tfilter: Filter.eq(\"ID\", userId),\r\n\t\t\t\tselect: [\r\n\t\t\t\t\t\"FlagAdmin\",\r\n\t\t\t\t\t\"FlagGetLog\",\r\n\t\t\t\t\t\"FlagRouteExists\",\r\n\t\t\t\t\t\"FlagSuperVisor\",\r\n\t\t\t\t\t\"ID_Position\",\r\n\t\t\t\t\t\"ID_Employee/*\",\r\n\t\t\t\t\t\"ID_UserSettings/*\"\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tvoid 0,\r\n\t\t\t{ camel: true }\r\n\t\t);\r\n\r\n\t\tconst r = res.records?.[0] || {};\r\n\t\tconst user = {\r\n\t\t\t...r,\r\n\t\t\temployee: r.id_Employee$,\r\n\t\t\tuserSettings: r.id_UserSettings$\r\n\t\t};\r\n\r\n\t\tuser.isSuperVisor = r.flagSuperVisor;\r\n\r\n\t\treturn user;\r\n\t}\r\n\r\n\tprivate updateState(newState) {\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\t...newState\r\n\t\t};\r\n\t}\r\n\r\n\tisLoggedIn() {\r\n\t\treturn QuizAuthService.isUserLoggedIn(this.state.user);\r\n\t}\r\n\r\n\tisSupervisor(): boolean {\r\n\t\treturn this.state.user.isSuperVisor;\r\n\t}\r\n\r\n\tprivate readonly QUIZ_GROUPS = [\"Questionnaire\", \"QuestionnaireAdministrator\"];\r\n\thasAccessToQuiz() {\r\n\t\tconst user = this.state.user;\r\n\t\treturn user.roles.some(role => this.QUIZ_GROUPS.includes(role)) || user.isAdmin;\r\n\t}\r\n\r\n\tstatic isUserLoggedIn(user: QuizUser) {\r\n\t\treturn user.isAnonymous === false;\r\n\t}\r\n\r\n\tgetLoginData(): Promise<QuizAuthData> {\r\n\t\treturn new Promise(async resolve => {\r\n\t\t\t//const oAuthListReq = this.apiClient.oauth.list(); uncomment when oauth will be enabled for mobile app\r\n\t\t\tconst regReq = this.apiClient.password.checkRegistration();\r\n\t\t\tconst [reg] = await Promise.all([regReq]);\r\n\t\t\tresolve({\r\n\t\t\t\tregistrationEnabled: reg && reg.enabled\r\n\t\t\t\t//oAuthServices\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\toAuthAuthenticate(code: string) {\r\n\t\treturn this.apiClient.oauth.authenticate(code);\r\n\t}\r\n\r\n\tregisterUser(Code: string, Title: string, Email: string) {\r\n\t\treturn this.apiClient.password.register({ Code, Title, Email });\r\n\t}\r\n}\r\n\r\nexport interface QuizAuthData {\r\n\tregistrationEnabled: boolean;\r\n\toAuthServices?: OAuthService[];\r\n}\r\n","import { Filter } from \"mdtApiClient/helpers/filter\";\r\nimport { MDTApiClient, MDTRecordId, PreparedFetchResult } from \"mdtApiClient/mdtApiClient\";\r\nimport { TOutletVisits } from \"quiz/components/outletVisits/OutletVisits\";\r\nimport { TQstList } from \"quiz/components/qstList/QstList\";\r\nimport { t, quizQstService, quizDraftService, quizAuthService } from \"quiz/QuizApp\";\r\nimport { toLocalISOString, appIsOnline, formatDateTime, removeAllSymbols } from \"utils/helpers\";\r\nimport { APILegalEntity, APIOutlet, APIOutletChain, QuizQstService } from \"./data/QuizQstService\";\r\nimport { LegalEntity, Outlet, OutletChain, OutletFullData, IQuestionnaire, Visit } from \"./models\";\r\nimport { ViewVisitInfo } from \"quiz/components/visitedOutets/VisitedOutlets\";\r\nimport { Coords } from \"hooks/usePosition\";\r\nimport { outletWithDistanceCacheCode } from \"quiz/components/listNearOutlets/ListNearOutlets\";\r\nimport { OutletCache } from \"./QuizDraftService\";\r\n\r\ntype QstData = {\r\n\tq: IQuestionnaire;\r\n\to: OutletFullData;\r\n\tv?: Visit;\r\n\tonline?: boolean;\r\n};\r\n\r\ninterface LatLng {\r\n\tlatitude: string;\r\n\tlongitude: string;\r\n}\r\n\r\nclass NotFoundError extends Error {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.message = t(\"Outlet not found or you do not have access\");\r\n\t}\r\n}\r\n\r\ninterface GetVisitDataParams {\r\n\tuserId: MDTRecordId;\r\n\tdate?: Date;\r\n}\r\n\r\nexport class QuizDataService {\r\n\tconstructor(private apiClient: MDTApiClient) {}\r\n\r\n\t//получить информацию о визитах\r\n\tasync getVisitData(params: GetVisitDataParams, requestOptions?: RequestInit) {\r\n\t\tconst { userId, date } = params;\r\n\r\n\t\tconst d = date && toLocalISOString(date);\r\n\t\tconst from = d?.replace(/T.*/, \"T00:00:00.0000\");\r\n\t\tconst to = d?.replace(/T.*/, \"T23:59:59.0000\");\r\n\t\tconst sendDateFilter = date ? [Filter.ge(\"DateSubmitLocal\", from), Filter.le(\"DateSubmitLocal\", to)] : [];\r\n\r\n\t\treturn this.apiClient\r\n\t\t\t.fetch(\r\n\t\t\t\t{\r\n\t\t\t\t\tsorting: [{ path: \"DateEnd\", asc: false }],\r\n\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\"*\",\r\n\t\t\t\t\t\t\"ID_Outlet/*\",\r\n\t\t\t\t\t\t\"items/id_questionnaire/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/Positions/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/Positions/ID_Employee/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/NameShort\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/ID_Parent/NameShort\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/ID_Parent/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletType/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletFormat/*\",\r\n\t\t\t\t\t\t\"ID_em_Employee/*\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttop: date ? null : 20,\r\n\t\t\t\t\tfilter: Filter.and(Filter.eq(\"MDT_ID_PrincipalCreatedBy\", userId), ...sendDateFilter)\r\n\t\t\t\t},\r\n\t\t\t\t\"qst.Visit\",\r\n\t\t\t\t{ camel: true },\r\n\t\t\t\trequestOptions\r\n\t\t\t)\r\n\t\t\t.then(d => {\r\n\t\t\t\tconst data = d.records;\r\n\t\t\t\treturn data.map(record => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...QuizDataService.outletApiToUi(record.id_Outlet$),\r\n\t\t\t\t\t\tlastVisit: record.dateEnd && {\r\n\t\t\t\t\t\t\t...record.id_VisitLast$,\r\n\t\t\t\t\t\t\tdateBegin: new Date(record.dateBegin),\r\n\t\t\t\t\t\t\tdateEnd: new Date(record.dateEnd),\r\n\t\t\t\t\t\t\tdateSubmitLocal: new Date(record.dateSubmitLocal)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tquestionnaireName: record.items && record.items[0].id_Questionnaire$.name, //toDO: typing\r\n\t\t\t\t\t\tidVisit: record.items && record.items[0].id_Visit\r\n\t\t\t\t\t} as ViewVisitInfo;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic outletApiToUi(apiOutlet: APIOutlet): Outlet {\r\n\t\tif (!apiOutlet) return void 0;\r\n\t\treturn {\r\n\t\t\tid: apiOutlet.id,\r\n\t\t\tcode: apiOutlet.code,\r\n\t\t\ticonName: apiOutlet.id_OutletType$?.icon,\r\n\t\t\tname: apiOutlet.name,\r\n\t\t\taddress: apiOutlet.address,\r\n\t\t\tphone: apiOutlet.phone,\r\n\t\t\ttype: apiOutlet.id_OutletType$?.name,\r\n\t\t\tformat: apiOutlet.id_OutletFormat$?.name,\r\n\t\t\tlegalEntity: this.legalEntityApiToUi(apiOutlet.id_LegalEntity$),\r\n\t\t\toutletChain: this.outletChainApiToUi(apiOutlet.id_OutletChain$),\r\n\t\t\temployees: apiOutlet.positions && this.positionsToUi(apiOutlet.positions)\r\n\t\t};\r\n\t}\r\n\r\n\tstatic legalEntityApiToUi(apiLegalEntity: APILegalEntity): LegalEntity {\r\n\t\tif (!apiLegalEntity) return void 0;\r\n\t\treturn {\r\n\t\t\tid: apiLegalEntity.id,\r\n\t\t\tname: apiLegalEntity.legalName,\r\n\t\t\tinn: apiLegalEntity.inn\r\n\t\t};\r\n\t}\r\n\r\n\tstatic outletChainApiToUi(outletChain: APIOutletChain): OutletChain {\r\n\t\tif (!outletChain) return void 0;\r\n\t\treturn {\r\n\t\t\tid: outletChain.id,\r\n\t\t\tname: outletChain.name,\r\n\t\t\tnameShort: outletChain.nameShort,\r\n\t\t\ttype: outletChain.id_OutletChainType$?.name,\r\n\t\t\tparent: outletChain.id_Parent$\r\n\t\t};\r\n\t}\r\n\r\n\tstatic positionsToUi(positions) {\r\n\t\treturn positions\r\n\t\t\t.map(position => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tname: position.id_Employee$?.name || \"\",\r\n\t\t\t\t\tpositionName: position.id_BindingFunction$?.name?.toLowerCase() || \"\",\r\n\t\t\t\t\tpostLevel: position.postLevel || 0\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t\t.sort((posA, posB) => posA.postLevel - posB.postLevel);\r\n\t}\r\n\r\n\t//получить точки по маршрутам\r\n\tasync getRouteOutlets(date: Date, coords: LatLng, requestOptions?: RequestInit) {\r\n\t\treturn this.apiClient\r\n\t\t\t.fetch(\r\n\t\t\t\t{\r\n\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\"ID_Outlet\",\r\n\t\t\t\t\t\t\"Distance\",\r\n\t\t\t\t\t\t\"FlagQuestionnairesEmpty\",\r\n\t\t\t\t\t\t\"FlagVisited\",\r\n\t\t\t\t\t\t\"ID_Outlet/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/Positions/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/NameShort\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/ID_Parent/NameShort\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletType/*\",\r\n\t\t\t\t\t\t\"ID_VisitLast/DateBegin\",\r\n\t\t\t\t\t\t\"ID_VisitLast/DateEnd\",\r\n\t\t\t\t\t\t\"ID_VisitLast/DateSubmitLocal\",\r\n\t\t\t\t\t\t\"ID_VisitLast/ID_em_Employee/Name\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\tparams: `[\"${toLocalISOString(date)}\", ${coords.latitude || \"null\"}, ${coords.longitude ||\r\n\t\t\t\t\t\t\"null\"}]`,\r\n\t\t\t\t\tsorting: [{ path: \"SortOrder\" }]\r\n\t\t\t\t},\r\n\t\t\t\t\"qst.udf_RouteOutlets\",\r\n\t\t\t\t{ camel: true },\r\n\t\t\t\trequestOptions\r\n\t\t\t)\r\n\t\t\t.then(d => {\r\n\t\t\t\tconst data = d.records;\r\n\t\t\t\treturn data.map(record => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...QuizDataService.outletApiToUi(record.id_Outlet$),\r\n\t\t\t\t\t\tdistance: record.distance && Math.round(record.distance),\r\n\t\t\t\t\t\tflagQuestionnairesEmpty: record.flagQuestionnairesEmpty,\r\n\t\t\t\t\t\temployee: record.id_VisitLast$ && {\r\n\t\t\t\t\t\t\tid: record.id_VisitLast$.id_em_Employee,\r\n\t\t\t\t\t\t\t...record.id_VisitLast$.id_em_Employee$\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tlastVisit: record.id_VisitLast$ && {\r\n\t\t\t\t\t\t\temployee: record.id_VisitLast$.id_em_Employee$,\r\n\t\t\t\t\t\t\tdateBegin: new Date(record.id_VisitLast$.dateBegin),\r\n\t\t\t\t\t\t\tdateEnd: new Date(record.id_VisitLast$.dateEnd),\r\n\t\t\t\t\t\t\tdateSubmitLocal: new Date(record.id_VisitLast$.dateSubmitLocal)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tflagVisited: record.flagVisited\r\n\t\t\t\t\t} as OutletFullData;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate CACHE_LIFETIME = 2 * 60 * 60 * 1000; // 2h in ms\r\n\tprivate _cache = {};\r\n\r\n\tprivate addCache(code, data) {\r\n\t\tthis._cache[code] = {\r\n\t\t\ttime: new Date().getTime(),\r\n\t\t\tdata\r\n\t\t};\r\n\t}\r\n\r\n\tpublic clearCache(code: string) {\r\n\t\tdelete this._cache[code];\r\n\t}\r\n\r\n\tpublic getCache(code: string) {\r\n\t\tconst curtime = new Date().getTime();\r\n\t\tif (this._cache[code] && curtime - this._cache[code].time < this.CACHE_LIFETIME) return this._cache[code].data;\r\n\t\treturn;\r\n\t}\r\n\r\n\t//получить ближайшие точки\r\n\tprepareOutletWithDistance(records: any) {\r\n\t\treturn records.map(record => {\r\n\t\t\treturn {\r\n\t\t\t\t...QuizDataService.outletApiToUi(record.id_Outlet$),\r\n\t\t\t\tdistance: Math.ceil(record.distance),\r\n\t\t\t\tflagQuestionnairesEmpty: record.flagQuestionnairesEmpty,\r\n\t\t\t\temployee: record.id_Outlet$?.positions?.map(p => p.id_Employee$).filter(x => x),\r\n\t\t\t\tlastVisit: record.id_VisitLast$ && {\r\n\t\t\t\t\temployee: record.id_VisitLast$.id_em_Employee$,\r\n\t\t\t\t\tdateBegin: new Date(record.id_VisitLast$.dateBegin),\r\n\t\t\t\t\tdateEnd: new Date(record.id_VisitLast$.dateEnd),\r\n\t\t\t\t\tdateSubmitLocal: new Date(record.id_VisitLast$.dateSubmitLocal)\r\n\t\t\t\t}\r\n\t\t\t} as OutletFullData;\r\n\t\t});\r\n\t}\r\n\r\n\tasync getOutletWithDistance(coords: LatLng, requestOptions?: RequestInit, clearCache?: boolean) {\r\n\t\tconst code = outletWithDistanceCacheCode;\r\n\t\tif (clearCache) this.clearCache(code);\r\n\t\tconst data = this.getCache(code);\r\n\r\n\t\tconst fetch = data\r\n\t\t\t? new Promise<PreparedFetchResult>(resolve => resolve(data))\r\n\t\t\t: this.apiClient.fetch(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\t\"Distance\",\r\n\t\t\t\t\t\t\t\"FlagQuestionnairesEmpty\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/ID\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/Code\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/Name\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/NameShort\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/ID_Parent/NameShort\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/ID_OutletFormat/Name\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/Address\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/Positions/ID_Employee/*\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/Positions/PostLevel\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/ID_OutletType/*\",\r\n\t\t\t\t\t\t\t\"ID_Outlet/Positions/ID_BindingFunction/*\",\r\n\t\t\t\t\t\t\t\"ID_VisitLast/DateBegin\",\r\n\t\t\t\t\t\t\t\"ID_VisitLast/DateEnd\",\r\n\t\t\t\t\t\t\t\"ID_VisitLast/DateSubmitLocal\",\r\n\t\t\t\t\t\t\t\"ID_VisitLast/ID_em_Employee/Name\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tparams: `[${coords.latitude}, ${coords.longitude}, 1000]`,\r\n\t\t\t\t\t\tsorting: [{ path: \"Distance\", asc: true }]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"qst.udf_OutletsWithDistance\",\r\n\t\t\t\t\t{ camel: true },\r\n\t\t\t\t\trequestOptions\r\n\t\t\t  );\r\n\t\treturn fetch.then(d => {\r\n\t\t\tthis.addCache(code, d);\r\n\r\n\t\t\treturn this.prepareOutletWithDistance(d.records);\r\n\t\t});\r\n\t}\r\n\r\n\t//получить информацию о торговой точке\r\n\tasync getOutletInfo(id: MDTRecordId, requestOptions?: RequestInit): Promise<OutletFullData> {\r\n\t\treturn (\r\n\t\t\t(await quizDraftService.getOutletCache(id).then(cache => cache?.outlet)) ||\r\n\t\t\tthis.apiClient\r\n\t\t\t\t.fetch(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\t\"*\",\r\n\t\t\t\t\t\t\t\"Positions/*\",\r\n\t\t\t\t\t\t\t\"ID_OutletChain/*\",\r\n\t\t\t\t\t\t\t\"ID_OutletChain/NameShort\",\r\n\t\t\t\t\t\t\t\"ID_OutletChain/ID_Parent/NameShort\",\r\n\t\t\t\t\t\t\t\"ID_OutletType/*\",\r\n\t\t\t\t\t\t\t\"ID_OutletFormat/*\",\r\n\t\t\t\t\t\t\t\"ID_LegalEntity/*\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tfilter: Filter.eq(\"ID\", id),\r\n\t\t\t\t\t\tparams: { ID_Language_ext: quizAuthService.state.user.languageId }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"qst.CustomerCache\",\r\n\t\t\t\t\t{ camel: true },\r\n\t\t\t\t\trequestOptions\r\n\t\t\t\t)\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tconst record = data.records[0];\r\n\t\t\t\t\tif (!record) throw new NotFoundError();\r\n\t\t\t\t\treturn QuizDataService.outletApiToUi(record) as OutletFullData;\r\n\t\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tasync getDataForOutletCaching(outletId: MDTRecordId, requestOptions?: RequestInit): Promise<OutletCache> {\r\n\t\treturn this.apiClient\r\n\t\t\t.fetch(\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\t\"*\",\r\n\t\t\t\t\t\t\t\"Positions/*\",\r\n\t\t\t\t\t\t\t\"ID_OutletChain/*\",\r\n\t\t\t\t\t\t\t\"ID_OutletChain/NameShort\",\r\n\t\t\t\t\t\t\t\"ID_OutletChain/ID_Parent/NameShort\",\r\n\t\t\t\t\t\t\t\"ID_OutletType/*\",\r\n\t\t\t\t\t\t\t\"ID_OutletFormat/*\",\r\n\t\t\t\t\t\t\t\"ID_LegalEntity/*\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\ttable: \"qst.CustomerCache\",\r\n\t\t\t\t\t\tfilter: Filter.eq(\"ID\", outletId),\r\n\t\t\t\t\t\tparams: { ID_Language_ext: quizAuthService.state.user.languageId }\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselect: [\"*\", \"id/*\"],\r\n\t\t\t\t\t\ttable: \"qst.udf_Questionnaires\",\r\n\t\t\t\t\t\tparams: `[${outletId}]`\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t\"\",\r\n\t\t\t\t{ camel: true },\r\n\t\t\t\trequestOptions\r\n\t\t\t)\r\n\t\t\t.then(async ([outletData, qstListData]) => {\r\n\t\t\t\tconst outletRecord = outletData.records[0];\r\n\t\t\t\tif (!outletRecord) throw new NotFoundError();\r\n\r\n\t\t\t\tconst outlet = QuizDataService.outletApiToUi(outletRecord);\r\n\t\t\t\tconst qstList = qstListData.records.map(\r\n\t\t\t\t\tq =>\r\n\t\t\t\t\t\t({\r\n\t\t\t\t\t\t\tid: q.id,\r\n\t\t\t\t\t\t\tname: q.iD$.name,\r\n\t\t\t\t\t\t\tdescription: q.iD$.description,\r\n\t\t\t\t\t\t\tflagDisable: q.iD$.flagDisable,\r\n\t\t\t\t\t\t\tlastVisit: q.lastVisitDate && formatDateTime(new Date(q.lastVisitDate))\r\n\t\t\t\t\t\t} as TQstList)\r\n\t\t\t\t);\r\n\t\t\t\tconst qsts = await quizQstService.getQuestionnaires(\r\n\t\t\t\t\tqstList.map(q => q.id),\r\n\t\t\t\t\toutletId,\r\n\t\t\t\t\trequestOptions\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst dateBegin = new Date();\r\n\t\t\t\tconst dateExpired = new Date(dateBegin);\r\n\r\n\t\t\t\tdateExpired.setHours(dateExpired.getHours() + 1);\r\n\t\t\t\treturn { outlet: outlet, qstList: qstList, qsts: qsts, dateExpired: dateExpired };\r\n\t\t\t});\r\n\t}\r\n\r\n\t//получить информацию об анкетах в торговой точке\r\n\tasync getOutletQuestionnaires(id: MDTRecordId, requestOptions?: RequestInit) {\r\n\t\treturn (\r\n\t\t\t(await quizDraftService.getOutletCache(id).then(cache => cache?.qstList)) ||\r\n\t\t\tthis.apiClient\r\n\t\t\t\t.fetch(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselect: [\"*\", \"id/*\"],\r\n\t\t\t\t\t\tparams: `[${id}]`,\r\n\t\t\t\t\t\ttable: \"qst.udf_Questionnaires\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\t{ camel: true },\r\n\t\t\t\t\trequestOptions\r\n\t\t\t\t)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\treturn res.records.map(\r\n\t\t\t\t\t\to =>\r\n\t\t\t\t\t\t\t({\r\n\t\t\t\t\t\t\t\tid: o.id,\r\n\t\t\t\t\t\t\t\tname: o.iD$.name,\r\n\t\t\t\t\t\t\t\tdescription: o.iD$.description,\r\n\t\t\t\t\t\t\t\tflagDisable: o.iD$.flagDisable,\r\n\t\t\t\t\t\t\t\tlastVisit: o.lastVisitDate && formatDateTime(new Date(o.lastVisitDate))\r\n\t\t\t\t\t\t\t} as TQstList)\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\t//получить информацию о визитах\r\n\tasync getOutletVisits(id: MDTRecordId, skip: number, top: number, requestOptions?: RequestInit) {\r\n\t\treturn this.apiClient\r\n\t\t\t.fetch(\r\n\t\t\t\t{\r\n\t\t\t\t\tselect: [\"*\"],\r\n\t\t\t\t\ttable: \"qst.Visit\",\r\n\t\t\t\t\tfilter: Filter.eq(\"ID_Outlet\", id),\r\n\t\t\t\t\tskip,\r\n\t\t\t\t\tsorting: [{ path: \"DateEnd\", asc: false }],\r\n\t\t\t\t\ttop\r\n\t\t\t\t},\r\n\t\t\t\tnull,\r\n\t\t\t\t{ camel: true },\r\n\t\t\t\trequestOptions\r\n\t\t\t)\r\n\t\t\t.then(res =>\r\n\t\t\t\tres.records.map(\r\n\t\t\t\t\tv =>\r\n\t\t\t\t\t\t({\r\n\t\t\t\t\t\t\tid: v.id,\r\n\t\t\t\t\t\t\tname: v.id_Employee$ && v.id_Employee$.name,\r\n\t\t\t\t\t\t\tdateEnd: new Date(v.dateEnd)\r\n\t\t\t\t\t\t} as TOutletVisits)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t}\r\n\r\n\t// Найти торговые точки\r\n\tasync findOutlets(\r\n\t\tvalue: string,\r\n\t\tcoords: Coords,\r\n\t\tskip: number,\r\n\t\ttop: number,\r\n\t\tonlyEmployeeOutlets: boolean,\r\n\t\trequestOptions?: RequestInit\r\n\t) {\r\n\t\tconst sendValue = value ? removeAllSymbols(value) : \"\";\r\n\r\n\t\treturn sendValue !== \"\" || onlyEmployeeOutlets\r\n\t\t\t? this.apiClient\r\n\t\t\t\t\t.fetch(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\t\t\"ID/ID\",\r\n\t\t\t\t\t\t\t\t\"ID/Name\",\r\n\t\t\t\t\t\t\t\t\"ID/Code\",\r\n\t\t\t\t\t\t\t\t\"ID/Address\",\r\n\t\t\t\t\t\t\t\t\"ID/Positions/ID_Employee/*\",\r\n\t\t\t\t\t\t\t\t\"ID/Positions/ID_BindingFunction/Name\",\r\n\t\t\t\t\t\t\t\t\"ID/ID_OutletChain/*\",\r\n\t\t\t\t\t\t\t\t\"ID/ID_OutletChain/NameShort\",\r\n\t\t\t\t\t\t\t\t\"ID/ID_OutletChain/ID_Parent/NameShort\",\r\n\t\t\t\t\t\t\t\t\"ID/ID_OutletFormat/*\",\r\n\t\t\t\t\t\t\t\t\"ID/ID_OutletType/*\",\r\n\t\t\t\t\t\t\t\t\"Distance\",\r\n\t\t\t\t\t\t\t\t\"ID_VisitLast/ID_em_Employee/Name\",\r\n\t\t\t\t\t\t\t\t\"ID_VisitLast/DateBegin\",\r\n\t\t\t\t\t\t\t\t\"ID_VisitLast/DateEnd\",\r\n\t\t\t\t\t\t\t\t\"ID_VisitLast/DateSubmitLocal\"\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttable: \"qst.udf_SearchCustomerWithDistance\",\r\n\t\t\t\t\t\t\tskip,\r\n\t\t\t\t\t\t\tparams: `[\"${sendValue}\", ${coords.latitude}, ${coords.longitude}, ${top}, ${onlyEmployeeOutlets}]`,\r\n\t\t\t\t\t\t\tsorting: [{ path: \"SearchRank\", asc: false }]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t{ camel: true },\r\n\t\t\t\t\t\trequestOptions\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then(res =>\r\n\t\t\t\t\t\tres.records.map(record => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t...QuizDataService.outletApiToUi(record.iD$),\r\n\t\t\t\t\t\t\t\tflagQuestionnairesEmpty: record.flagQuestionnairesEmpty,\r\n\t\t\t\t\t\t\t\temployee: record.iD$.positions && record.iD$.positions.map(pos => pos.id_Employee$),\r\n\t\t\t\t\t\t\t\tdistance: record.distance && Math.ceil(record.distance),\r\n\t\t\t\t\t\t\t\tlastVisit: record.id_VisitLast$ && {\r\n\t\t\t\t\t\t\t\t\temployee: record.id_VisitLast$.id_em_Employee$,\r\n\t\t\t\t\t\t\t\t\tdateBegin: new Date(record.id_VisitLast$.dateBegin),\r\n\t\t\t\t\t\t\t\t\tdateEnd: new Date(record.id_VisitLast$.dateEnd),\r\n\t\t\t\t\t\t\t\t\tdateSubmitLocal: new Date(record.id_VisitLast$.dateSubmitLocal)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} as OutletFullData;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t: [];\r\n\t}\r\n\r\n\t// Получить данные об анкетировании, при возможном оффлайн режиме\r\n\t// todo -> move to qstOfflineService\r\n\tasync getQuestionnaireData(outletId: MDTRecordId, qstId: MDTRecordId, requestOptions?: RequestInit) {\r\n\t\tlet outlet: OutletFullData = null;\r\n\t\tlet qst: IQuestionnaire = null;\r\n\t\tconst visitDraft = await quizDraftService.get(outletId, qstId);\r\n\r\n\t\tif (appIsOnline()) {\r\n\t\t\t[outlet, qst] = await Promise.all([\r\n\t\t\t\tthis.getOutletInfo(outletId, requestOptions),\r\n\t\t\t\tquizQstService.getQuestionnaire(qstId, outletId, requestOptions)\r\n\t\t\t]);\r\n\r\n\t\t\treturn { q: qst, o: outlet, v: visitDraft, online: true };\r\n\t\t} else {\r\n\t\t\t[outlet, qst] = visitDraft\r\n\t\t\t\t? [visitDraft.outlet, visitDraft.questionnaire]\r\n\t\t\t\t: await Promise.all([\r\n\t\t\t\t\t\tthis.getOutletInfo(outletId, requestOptions),\r\n\t\t\t\t\t\tquizQstService.getQuestionnaire(qstId, outletId, requestOptions)\r\n\t\t\t\t  ]);\r\n\t\t\treturn { q: qst, o: outlet, v: visitDraft, online: false };\r\n\t\t}\r\n\t}\r\n}\r\n","import { DBSchema, openDB } from \"idb\";\r\nimport { MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { ID, Visit, VisitAnswerFile, OutletFullData, IQuestionnaire } from \"./models\";\r\nimport { quizExtensionService } from \"quiz/QuizApp\";\r\nimport { TQstList } from \"quiz/components/qstList/QstList\";\r\nimport { cacheIsValid } from \"utils/helpers\";\r\n\r\nexport const draftStoreName = \"Draft\";\r\nexport const draftFilesStore = \"Draft_Files\";\r\nexport const visitUploadStore = \"Visits\";\r\nexport const outletCacheStore = \"Outlet_Cache\";\r\n\r\nexport type OutletCache = {\r\n\toutlet: OutletFullData;\r\n\tqstList: TQstList[];\r\n\tqsts: IQuestionnaire[];\r\n\tdateExpired: Date;\r\n};\r\n\r\ninterface QuizDraftServiceEvents {\r\n\tmodified: ((q: QuizDraftService) => void)[];\r\n}\r\n\r\ninterface QuizDraftServiceOptions {\r\n\t$initialData: any;\r\n\tevents: QuizDraftServiceEvents;\r\n}\r\n\r\nexport interface QuizDB extends DBSchema {\r\n\t[draftStoreName]: {\r\n\t\tkey: string;\r\n\t\tvalue: Visit;\r\n\t};\r\n\t[draftFilesStore]: {\r\n\t\tvalue: VisitAnswerFile;\r\n\t\tkey: ID;\r\n\t};\r\n\t[visitUploadStore]: {\r\n\t\tvalue: VisitUploadData;\r\n\t\tkey: number;\r\n\t};\r\n\t[outletCacheStore]: {\r\n\t\tvalue: OutletCache;\r\n\t\tkey: number;\r\n\t};\r\n}\r\n\r\nexport enum VisitUploadStatus {\r\n\tnotSent,\r\n\tsuccess,\r\n\terror\r\n}\r\n\r\nexport interface VisitUploadData {\r\n\tkey: number;\r\n\tvisit: Visit;\r\n\tstatus: VisitUploadStatus;\r\n\tfiles: {\r\n\t\tstatus: VisitUploadStatus;\r\n\t\tanswerFile: VisitAnswerFile;\r\n\t\tvisitItemIndex: number;\r\n\t}[];\r\n}\r\n\r\nlet storeKey = new Date().getTime();\r\n\r\nexport class QuizDraftService {\r\n\tevents: QuizDraftServiceEvents;\r\n\t$data: any;\r\n\r\n\tdb = quizExtensionService.db.getDB();\r\n\r\n\tconstructor(options: QuizDraftServiceOptions) {\r\n\t\tthis.events = {\r\n\t\t\tmodified: options.events.modified || []\r\n\t\t};\r\n\t\tthis.$data = options.$initialData;\r\n\t}\r\n\r\n\tasync set(visit: Visit): Promise<IDBValidKey> {\r\n\t\tconst db = await this.db;\r\n\t\tconst r = await db.put(draftStoreName, visit, this.createDbKey(visit.outletId, visit.questionnaireId));\r\n\t\tthis.events.modified.forEach(cb => cb(this));\r\n\t\treturn r;\r\n\t}\r\n\r\n\tasync get(outletId: MDTRecordId, questionnaireId: MDTRecordId): Promise<Visit> {\r\n\t\treturn (await this.db).get(draftStoreName, this.createDbKey(outletId, questionnaireId));\r\n\t}\r\n\r\n\tasync delete(outletId: MDTRecordId, questionnaireId: MDTRecordId) {\r\n\t\tlet r = await (await this.db).delete(draftStoreName, this.createDbKey(outletId, questionnaireId));\r\n\t\tthis.events.modified.forEach(cb => cb(this));\r\n\t\treturn r;\r\n\t}\r\n\r\n\tasync getAllDrafts(): Promise<Visit[]> {\r\n\t\treturn await (await this.db).getAll(draftStoreName);\r\n\t}\r\n\r\n\tprivate createDbKey(outletId: MDTRecordId, questionnaireId: MDTRecordId) {\r\n\t\treturn `${outletId}-${questionnaireId}`;\r\n\t}\r\n\r\n\tasync setFiles(files: VisitAnswerFile[]) {\r\n\t\tlet db = await this.db;\r\n\t\tawait Promise.all(files.map(file => db.put(draftFilesStore, file, file.draftFileId)));\r\n\t}\r\n\r\n\tasync removeFiles(files: VisitAnswerFile[]) {\r\n\t\tlet db = await this.db;\r\n\t\tfor (const file of files) {\r\n\t\t\tawait db.delete(draftFilesStore, file.draftFileId);\r\n\t\t}\r\n\t}\r\n\r\n\tasync getFiles(files: VisitAnswerFile[]): Promise<VisitAnswerFile[]> {\r\n\t\tconst db = await this.db;\r\n\t\tconst results = [];\r\n\t\tconst ids = files.map(f => f.draftFileId);\r\n\t\tfor (const id of ids) {\r\n\t\t\tconst data = await db.get(draftFilesStore, id);\r\n\t\t\tresults.push(data);\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\r\n\t// UPLOAD & FILES\r\n\tasync storeFinishedVisit(visit: Visit): Promise<number> {\r\n\t\tconst data: VisitUploadData = {\r\n\t\t\tkey: storeKey++,\r\n\t\t\tvisit,\r\n\t\t\tstatus: VisitUploadStatus.notSent,\r\n\t\t\tfiles: visit.answers.reduce(\r\n\t\t\t\t(arr, answer, idx) =>\r\n\t\t\t\t\tanswer.files\r\n\t\t\t\t\t\t? arr.concat(\r\n\t\t\t\t\t\t\t\tanswer.files.map(answerFile => ({\r\n\t\t\t\t\t\t\t\t\tstatus: VisitUploadStatus.notSent,\r\n\t\t\t\t\t\t\t\t\tanswerFile,\r\n\t\t\t\t\t\t\t\t\tvisitItemIndex: idx\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: arr,\r\n\t\t\t\t[]\r\n\t\t\t)\r\n\t\t};\r\n\t\treturn await (await this.db).put(visitUploadStore, data, data.key);\r\n\t}\r\n\r\n\tasync getVisitUploadData(): Promise<VisitUploadData[]> {\r\n\t\treturn await (await this.db).getAll(visitUploadStore);\r\n\t}\r\n\r\n\tasync updateVisitUploadData(uploadData: VisitUploadData): Promise<number> {\r\n\t\treturn await (await this.db).put(visitUploadStore, uploadData, uploadData.key);\r\n\t}\r\n\r\n\tasync removeVisitUploadDataPhotos(uploadData: VisitUploadData): Promise<void> {\r\n\t\treturn await this.removeFiles(uploadData.files.map(f => f.answerFile));\r\n\t}\r\n\r\n\tasync removeVisitUploadData(uploadData: VisitUploadData): Promise<undefined> {\r\n\t\tawait this.removeVisitUploadDataPhotos(uploadData);\r\n\t\treturn await (await this.db).delete(visitUploadStore, uploadData.key);\r\n\t}\r\n\r\n\tasync setOutletCache(outletId: MDTRecordId, data: Omit<OutletCache, \"dateExpired\">) {\r\n\t\treturn await (await this.db).put(outletCacheStore, data, outletId);\r\n\t}\r\n\r\n\tasync getOutletCache(outletId: MDTRecordId): Promise<OutletCache> {\r\n\t\tconst cache = await (await this.db).get(outletCacheStore, outletId);\r\n\t\treturn cache && cacheIsValid(cache?.dateExpired) ? cache : null;\r\n\t}\r\n}\r\n","import { logger, quizMetricsService } from \"quiz/QuizApp\";\r\nimport { LogType } from \"./Logger\";\r\n\r\nexport class QuizLocalStorageService {\r\n\tprivate db = localStorage;\r\n\r\n\tasync set(key: string, data: string) {\r\n\t\ttry {\r\n\t\t\treturn this.db.setItem(key, data);\r\n\t\t} catch (e) {\r\n\t\t\tawait quizMetricsService.send();\r\n\t\t\tlogger.log(\r\n\t\t\t\t\"metrics\",\r\n\t\t\t\t{\r\n\t\t\t\t\terror: e\r\n\t\t\t\t},\r\n\t\t\t\tLogType.error\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tget length() {\r\n\t\treturn this.db.length;\r\n\t}\r\n\r\n\tget(id: string) {\r\n\t\treturn this.db.getItem(id);\r\n\t}\r\n\r\n\tgetKey(key: number) {\r\n\t\treturn this.db.key(key);\r\n\t}\r\n\r\n\tremove(keys: string[]) {\r\n\t\tkeys.forEach(key => this.db.removeItem(key));\r\n\t}\r\n}\r\n","import { LogItem, LogType } from \"./Logger\";\r\nimport { toLocalISOString, guid } from \"utils/helpers\";\r\nimport { apiClient, quizAuthService, logger, quizLocalStorageService } from \"quiz/QuizApp\";\r\nimport { jsonDateParser } from \"json-date-parser\";\r\n\r\ntype Key = string;\r\n\r\nexport interface Metrics extends LogItem {}\r\n\r\ntype DBMetrics = {\r\n\tkey: string;\r\n\tdbValue: string;\r\n}; //toDO\r\n\r\nconst initSentMetricsDelay = 60000,\r\n\tsentMetricsDelay = 60000,\r\n\tcountMetricsForDelete = 5,\r\n\tkeyStamp = \"-metrics\";\r\n\r\nexport class QuizMetricsService {\r\n\tmetricsSessionId = guid();\r\n\r\n\tconstructor() {\r\n\t\tconst watch = () =>\r\n\t\t\tsetInterval(() => {\r\n\t\t\t\tthis.send();\r\n\t\t\t}, sentMetricsDelay);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.send();\r\n\t\t\twatch();\r\n\t\t}, initSentMetricsDelay);\r\n\t}\r\n\r\n\tasync set(metrics: Metrics): Promise<void> {\r\n\t\tconst key: string = metrics.time.toString() + keyStamp;\r\n\t\treturn quizLocalStorageService.set(\r\n\t\t\tkey,\r\n\t\t\tJSON.stringify({\r\n\t\t\t\tcode: metrics.code,\r\n\t\t\t\tdata: metrics.data,\r\n\t\t\t\ttype: metrics.type,\r\n\t\t\t\ttime: toLocalISOString(new Date(metrics.time))\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tprivate getAll() {\r\n\t\tconst metricsWithKeys: DBMetrics[] = [];\r\n\t\tfor (let i = 0; i < quizLocalStorageService.length; i++) {\r\n\t\t\tconst key = quizLocalStorageService.getKey(i);\r\n\t\t\tif (key.includes(keyStamp)) metricsWithKeys.push({ key: key, dbValue: localStorage.getItem(key) });\r\n\t\t}\r\n\t\treturn metricsWithKeys;\r\n\t}\r\n\r\n\tprivate async removeMetrics(keys: Key[]) {\r\n\t\tquizLocalStorageService.remove(keys);\r\n\t}\r\n\r\n\tprivate prepareMetrics(metrics: DBMetrics[]) {\r\n\t\treturn metrics\r\n\t\t\t.map(({ dbValue }) => {\r\n\t\t\t\tconst value = JSON.parse(dbValue, jsonDateParser) as Metrics;\r\n\t\t\t\tconst result = {\r\n\t\t\t\t\tcode: value.code,\r\n\t\t\t\t\tdata: JSON.stringify(value.data),\r\n\t\t\t\t\ttype: value.type,\r\n\t\t\t\t\tdateSubmit: value.time,\r\n\t\t\t\t\tsessionID: this.metricsSessionId,\r\n\t\t\t\t\t$table: \"qst.Metric\",\r\n\t\t\t\t\t$new: true\r\n\t\t\t\t};\r\n\t\t\t\treturn result;\r\n\t\t\t})\r\n\t\t\t.sort((a, b) => a.dateSubmit - b.dateSubmit);\r\n\t}\r\n\r\n\tasync send() {\r\n\t\tconst metrics = this.getAll();\r\n\r\n\t\tif (metrics.length > countMetricsForDelete) {\r\n\t\t\tconst m: any = [...this.prepareMetrics(metrics)];\r\n\r\n\t\t\tif (quizAuthService?.isLoggedIn()) {\r\n\t\t\t\tapiClient\r\n\t\t\t\t\t.save(m)\r\n\t\t\t\t\t.then(() => this.removeMetrics(metrics.map(m => m.key)))\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tthis.removeMetrics(metrics.map(m => m.key));\r\n\t\t\t\t\t\tlogger.log(\r\n\t\t\t\t\t\t\t\"metrics\",\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\terror: e\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tLogType.error\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeMetrics(metrics.map(m => m.key));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { f7, F7Page } from \"framework7-react\";\r\nimport { Router } from \"framework7/modules/router/router\";\r\nimport pathToRegExp from \"path-to-regexp\";\r\nimport { QuizFeedbackPage } from \"quiz/pages/feedback/QuizFeedbackPage\";\r\nimport { FilterPage } from \"quiz/pages/filter/FilterPage\";\r\nimport { QuestionnairePage } from \"quiz/pages/questionnaire/QuestionnairePage\";\r\nimport { QuizMainPage } from \"quiz/pages/QuizMainPage\";\r\nimport { QuizOutletPage } from \"quiz/pages/quizOutletPage/QuizOutletPage\";\r\nimport { SupervisorMainPage } from \"quiz/pages/SupervisorMainPage\";\r\nimport { VisitPage } from \"quiz/pages/visit/VisitPage\";\r\nimport * as React from \"react\";\r\nimport { ID, Visit } from \"./models\";\r\nimport { SearchPage } from \"quiz/pages/search/SearchPage\";\r\nimport { QuizNavBarProps } from \"quiz/components/quizNavBar/QuizNavBar\";\r\nimport { ChangePasswordPage } from \"quiz/pages/profile/changePasswordPage/ChangePasswordPage\";\r\nimport { AboutPage } from \"quiz/pages/profile/aboutPage/AboutPage\";\r\nimport { FeedbackContext } from \"quiz/components/feedback/Feedback\";\r\nimport { ReportPage, ReportPageContext } from \"quiz/pages/visit/ReportPage\";\r\nimport { UnsentReportPageContext, UnsentReportPage } from \"quiz/pages/visit/UnsentReportPage\";\r\nimport NanoEvents from \"nanoevents\";\r\nimport { VisitUploadData } from \"./QuizDraftService\";\r\nimport { beforeMerchandiserPageInit, afterMerchandiserPageOut } from \"quiz/pages/merchandiser/MerchandiserMainPage\";\r\nimport { questionnaireBeforeOut, questionnaireBeforeIn } from \"quiz/components/questionnaire/Questionnaire\";\r\nimport { CameraPage } from \"./extension/uploadPhoto/cameraPage/CameraPage\";\r\nimport { quizExtensionService } from \"quiz/QuizApp\";\r\nimport { PageNotFound } from \"quiz/pages/pageNotFound/PageNotFound\";\r\nimport { ChooseLanguagePage } from \"quiz/pages/profile/chooseLanguagePage/ChooseLanguagePage\";\r\nimport { PrivacyPolicy } from \"quiz/components/privacyPolicy/PrivacyPolicy\";\r\nimport {\r\n\tSignaturePad,\r\n\tSignaturePadPageContext,\r\n\tonSignaturePadPageMounted\r\n} from \"quiz/components/signature/SignaturePad\";\r\n\r\nexport type F7PageEvents = Partial<Omit<F7Page, keyof React.Component<F7Page, {}>>>;\r\n\r\ninterface InnerRoute {\r\n\tpath: string;\r\n\tpageEvents?: F7PageEvents;\r\n\twrapperProps?: {\r\n\t\tnavbar?: QuizNavBarProps;\r\n\t};\r\n\tcomponent: React.ComponentType;\r\n}\r\n\r\ninterface NavigationManagerEvents {\r\n\tbeforeMerchandiserPageInit: { reports: VisitUploadData[]; drafts: Visit[] };\r\n\tafterMerchandiserPageOut: void;\r\n\tquestionnaireBeforeIn: void;\r\n\tquestionnaireBeforeOut: any; //todo page typing\r\n}\r\n\r\nexport class QuizNavigationManager {\r\n\tevents = new NanoEvents<NavigationManagerEvents>();\r\n\treadonly paths = {\r\n\t\tvisit: \"visit\",\r\n\t\treport: \"report\",\r\n\t\tunsentReport: \"unsentReport\",\r\n\t\toutlet: \"outlet\",\r\n\t\tfeedback: \"feedback\",\r\n\t\tfilter: \"filter\",\r\n\t\tsupervisorMainPage: \"supervisorMainPage\",\r\n\t\tprofile: \"profile\",\r\n\t\tpoints: \"points\",\r\n\t\tsearch: \"search\",\r\n\t\tchangePassword: \"changePassword\",\r\n\t\tchangeLanguage: \"changeLanguage\",\r\n\t\tabout: \"about\",\r\n\t\tcamera: \"camera\",\r\n\t\tprivacyPolicy: \"privacyPolicy\"\r\n\t};\r\n\r\n\tinnerRoutes: InnerRoute[] = [\r\n\t\t{\r\n\t\t\tpath: \"/\",\r\n\t\t\tcomponent: QuizMainPage,\r\n\t\t\tpageEvents: {\r\n\t\t\t\tonPageBeforeIn: async () => {\r\n\t\t\t\t\tawait beforeMerchandiserPageInit();\r\n\t\t\t\t},\r\n\t\t\t\tonPageAfterOut: () => {\r\n\t\t\t\t\tafterMerchandiserPageOut();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Home\",\r\n\t\t\t\t\tbackLink: false,\r\n\t\t\t\t\tsearch: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.changePassword}/`,\r\n\t\t\tcomponent: ChangePasswordPage,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Change Password\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.changeLanguage}/`,\r\n\t\t\tcomponent: ChooseLanguagePage,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Choose language\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.about}/`,\r\n\t\t\tcomponent: AboutPage,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"About\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.outlet}/:id`,\r\n\t\t\tcomponent: QuizOutletPage\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/outlet/:outletId/qst/:qstId\",\r\n\t\t\tpageEvents: {\r\n\t\t\t\tonPageBeforeIn: () => questionnaireBeforeIn(),\r\n\t\t\t\tonPageBeforeRemove: page => questionnaireBeforeOut(page)\r\n\t\t\t},\r\n\t\t\tcomponent: QuestionnairePage\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.visit}/:id`,\r\n\t\t\tcomponent: VisitPage,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Visit\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: \"/feedback/\",\r\n\t\t\tcomponent: QuizFeedbackPage,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Feedback\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.supervisorMainPage}/`,\r\n\t\t\tcomponent: SupervisorMainPage,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Outlets\",\r\n\t\t\t\t\tsearch: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.filter}/`,\r\n\t\t\tcomponent: FilterPage,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Filter\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.search}/`,\r\n\t\t\tcomponent: SearchPage\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.report}/`,\r\n\t\t\tcomponent: ReportPage,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Visit report\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, //toDO: сделать url, по которому можно понять точку и анкету\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.report}/signature`,\r\n\t\t\tcomponent: SignaturePad,\r\n\t\t\tpageEvents: {\r\n\t\t\t\tonPageAfterIn: () => onSignaturePadPageMounted()\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.unsentReport}/`,\r\n\t\t\tcomponent: UnsentReportPage,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Visit report\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.camera}/`,\r\n\t\t\tcomponent: CameraPage,\r\n\t\t\tpageEvents: {\r\n\t\t\t\tonPageBeforeIn: () => {\r\n\t\t\t\t\tquizExtensionService.statusBar.setDarkStyle();\r\n\t\t\t\t},\r\n\t\t\t\tonPageBeforeOut: () => {\r\n\t\t\t\t\tquizExtensionService.statusBar.setLightStyle();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: `/${this.paths.privacyPolicy}/`,\r\n\t\t\tcomponent: PrivacyPolicy,\r\n\t\t\twrapperProps: {\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\ttitle: \"Privacy policy\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\tgetNavData(url: string, context: any) {\r\n\t\tlet component: React.ComponentType = () => <PageNotFound />,\r\n\t\t\twrapProps = {},\r\n\t\t\tpageEvents = {};\r\n\t\tconst componentProps = { context };\r\n\t\tthis.innerRoutes.forEach(r => {\r\n\t\t\tconst keys: pathToRegExp.Key[] = [];\r\n\t\t\tconst data = pathToRegExp(r.path, keys).exec(url);\r\n\t\t\tif (data) {\r\n\t\t\t\tcomponent = r.component;\r\n\t\t\t\tkeys.forEach((k, idx) => (componentProps[k.name] = data[idx + 1]));\r\n\t\t\t\twrapProps = r.wrapperProps;\r\n\t\t\t\tpageEvents = r.pageEvents;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn { component, wrapProps, componentProps, pageEvents };\r\n\t}\r\n\r\n\tnavigate(url: string, options?: Router.RouteOptions) {\r\n\t\treturn f7.views.main.router.navigate(url, options);\r\n\t}\r\n\r\n\tback() {\r\n\t\treturn this.hasHistory() ? f7.views.main.router.back() : this.toMain();\r\n\t}\r\n\r\n\thasHistory() {\r\n\t\tconst scrollHistory = Object.keys((f7.views.current as any).scrollHistory).length > 0;\r\n\t\tconst routerHistory = f7.views.current.history.length > 1;\r\n\t\treturn routerHistory && scrollHistory;\r\n\t}\r\n\r\n\ttoMain(options?: Router.RouteOptions) {\r\n\t\tthis.navigate(\"/\", options);\r\n\t}\r\n\r\n\ttoVisit(visitId: ID) {\r\n\t\tthis.navigate(`/${this.paths.visit}/${visitId}`);\r\n\t}\r\n\r\n\ttoOutlet(outletId: ID, options?: Router.RouteOptions) {\r\n\t\tthis.navigate(`/${this.paths.outlet}/${outletId}`, { ...options });\r\n\t}\r\n\r\n\ttoFeedback(context?: FeedbackContext) {\r\n\t\tthis.navigate(`/${this.paths.feedback}/`, { props: { context } });\r\n\t}\r\n\r\n\ttoFilterPage() {\r\n\t\tthis.navigate(`/${this.paths.filter}/`);\r\n\t}\r\n\r\n\ttoSearchPage() {\r\n\t\t//todo search page\r\n\t\tthis.navigate(`/${this.paths.search}/`);\r\n\t}\r\n\r\n\ttoQst(outletId: ID, qstID: ID, context?: any) {\r\n\t\tthis.navigate(`/outlet/${outletId}/qst/${qstID}`, { context });\r\n\t}\r\n\r\n\ttoChangePassword() {\r\n\t\tthis.navigate(`/${this.paths.changePassword}/`);\r\n\t}\r\n\r\n\ttoChangeLanguage() {\r\n\t\tthis.navigate(`/${this.paths.changeLanguage}/`);\r\n\t}\r\n\r\n\ttoAbout() {\r\n\t\tthis.navigate(`/${this.paths.about}/`);\r\n\t}\r\n\r\n\ttoReport(context: ReportPageContext) {\r\n\t\tthis.navigate(`/${this.paths.report}/`, {\r\n\t\t\tcontext: {\r\n\t\t\t\tvisit: context.visit,\r\n\t\t\t\tvisitManager: context.visitManager,\r\n\t\t\t\toutlet: context.outlet,\r\n\t\t\t\tonAnswerClick: context.onAnswerClick,\r\n\t\t\t\topen: context.open\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\ttoSignature(context: SignaturePadPageContext) {\r\n\t\tthis.navigate(`/${this.paths.report}/signature`, {\r\n\t\t\tcontext: {\r\n\t\t\t\tonEnd: context.onEnd,\r\n\t\t\t\timg: context.img\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\ttoUnsentReport(context: UnsentReportPageContext) {\r\n\t\tthis.navigate(`/${this.paths.unsentReport}/`, {\r\n\t\t\tcontext: {\r\n\t\t\t\tvisitData: context.visitData,\r\n\t\t\t\topen: context.open,\r\n\t\t\t\tisCompleted: context.isCompleted\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\ttoCamera(options?: Router.RouteOptions) {\r\n\t\tthis.navigate(`/${this.paths.camera}/`, options);\r\n\t}\r\n\r\n\ttoPrivacyPolicy() {\r\n\t\tthis.navigate(`/${this.paths.privacyPolicy}/`);\r\n\t}\r\n\r\n\tsubscribe<T extends keyof NavigationManagerEvents>(event: T, callback: (arg: NavigationManagerEvents[T]) => any) {\r\n\t\treturn this.events.on(event, callback);\r\n\t}\r\n}\r\n","import { QrCodeScannerOptions } from \"./extension/scanner/qrScanner\";\r\nimport { quizExtensionService } from \"quiz/QuizApp\";\r\n\r\nexport class QuizQrService {\r\n\tscan(\r\n\t\tonScan: (result: string) => void,\r\n\t\tonError: (err: any) => void,\r\n\t\tsetQrCallback: React.Dispatch<any>,\r\n\t\toptions?: QrCodeScannerOptions\r\n\t) {\r\n\t\tconst qr = quizExtensionService.qrScanner.scan(onScan, onError, options);\r\n\t\tsetQrCallback(qr);\r\n\t}\r\n}\r\n","import NanoEvents from \"nanoevents\";\r\nimport { QuizUser, QuizAuthService } from \"./QuizAuthService\";\r\nimport { MDTApiClient, MDTRecordId } from \"mdtApiClient/mdtApiClient\";\r\nimport { TextService } from \"./text/TextService\";\r\nimport { logger } from \"quiz/QuizApp\";\r\n\r\nexport interface LanguageModel {\r\n\tID_Language: number;\r\n}\r\n\r\nexport type StorageInfo = {\r\n\tusage?: number;\r\n\tquota?: number;\r\n\tusageDetails?: any;\r\n};\r\n\r\nexport type UserDeviceInfo = {\r\n\tuserAgent: string;\r\n\tplatform: string;\r\n\tstorage?: StorageInfo;\r\n};\r\n\r\nexport type QuizUserServiceEvents = {\r\n\tlanguagechanged: number;\r\n};\r\n\r\nexport class QuizUserService {\r\n\tevents = new NanoEvents<QuizUserServiceEvents>();\r\n\tuser: QuizUser;\r\n\tuserDeviceInfo: UserDeviceInfo;\r\n\tprivacyPolicyAccepted = true;\r\n\r\n\tconstructor(\r\n\t\tprivate apiClient: MDTApiClient,\r\n\t\tprivate textService: TextService,\r\n\t\tprivate quizAuthService: QuizAuthService\r\n\t) {}\r\n\r\n\tasync init() {\r\n\t\tconst [userState] = await Promise.all([this.quizAuthService.init(), this.prepareLogData()]);\r\n\t\tthis.user = userState.user;\r\n\t\tthis.log();\r\n\t\treturn;\r\n\t}\r\n\r\n\tlog() {\r\n\t\tconst logData = {\r\n\t\t\tuserId: this.user.id,\r\n\t\t\tuserDevice: this.userDeviceInfo\r\n\t\t};\r\n\t\tlogger.log(\"user-info\", logData);\r\n\t}\r\n\r\n\tasync checkPrivacyPolicy(): Promise<any> {\r\n\t\tif (this.user.isAnonymous) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"privacyPolicyAccepted\")) {\r\n\t\t\tawait this.savePrivacyPolicyAcceptToServer();\r\n\t\t\tthis.privacyPolicyAccepted = true;\r\n\t\t\tlocalStorage.removeItem(\"privacyPolicyAccepted\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.user.userSettings) {\r\n\t\t\tthis.privacyPolicyAccepted = this.user.userSettings.flagAcceptPrivacyPolicy;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tasync savePrivacyPolicyAcceptToServer() {\r\n\t\treturn this.apiClient.save({\r\n\t\t\t$table: \"qst.UserSettings\",\r\n\t\t\t$id: this.user?.userSettings?.id,\r\n\t\t\tflagAcceptPrivacyPolicy: true,\r\n\t\t\tid_mdt_Principal: this.user.id\r\n\t\t} as ApiUserSettings);\r\n\t}\r\n\r\n\tsavePrivacyPolicyAcceptLocaly() {\r\n\t\tlocalStorage.setItem(\"privacyPolicyAccepted\", \"1\");\r\n\t}\r\n\r\n\tprivacyPolicyIsAccepted() {\r\n\t\treturn this.privacyPolicyAccepted;\r\n\t}\r\n\r\n\tasync prepareLogData() {\r\n\t\tconst userDeviceInfo: UserDeviceInfo = {\r\n\t\t\tuserAgent: navigator.userAgent,\r\n\t\t\tplatform: navigator.platform\r\n\t\t};\r\n\t\tif (navigator.storage && navigator.storage.estimate) {\r\n\t\t\tconst info = await navigator.storage.estimate();\r\n\t\t\tconst storageInfo = {\r\n\t\t\t\tquota: info.quota,\r\n\t\t\t\tusage: info.usage,\r\n\t\t\t\tusageDetails: (info as any).usageDetails || {}\r\n\t\t\t};\r\n\t\t\tuserDeviceInfo.storage = storageInfo;\r\n\t\t}\r\n\t\tthis.userDeviceInfo = userDeviceInfo;\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tasync changeLanguage(langId: number) {\r\n\t\tconst data: LanguageModel = {\r\n\t\t\tID_Language: langId\r\n\t\t};\r\n\t\treturn this.apiClient.request(\"mdt/profile\", data).then(() => this.events.emit(\"languagechanged\", langId));\r\n\t}\r\n\r\n\tasync updateUserSettings(user: QuizUser) {\r\n\t\tthis.user = user;\r\n\t\tawait Promise.all([\r\n\t\t\tthis.user.isAnonymous ? [] : this.textService.getAvailableLanguages(),\r\n\t\t\tthis.checkPrivacyPolicy()\r\n\t\t]);\r\n\t\tawait this.textService.init();\r\n\t\tthis.textService.setQuizLocalDict(user.languageId);\r\n\t\treturn;\r\n\t}\r\n\r\n\tsubscribe<U extends keyof QuizUserServiceEvents>(event: U, cb: (arg: QuizUserServiceEvents[U]) => any) {\r\n\t\treturn this.events.on(event, cb);\r\n\t}\r\n}\r\n\r\ninterface ApiUserSettings {\r\n\t$table: \"qst.UserSettings\";\r\n\t$id?: MDTRecordId;\r\n\tflagAcceptPrivacyPolicy: boolean;\r\n\tid_mdt_Principal: MDTRecordId;\r\n}\r\n","import cloneDeep from \"lodash.clonedeep\";\r\nimport {\r\n\tIQuestionnaire,\r\n\tVisit,\r\n\tIQuestion,\r\n\tVisitAnswer,\r\n\tAnswerType,\r\n\tVisitAnswerItem,\r\n\tQuestionAttachPhoto\r\n} from \"../models\";\r\nimport { quizDraftService } from \"quiz/QuizApp\";\r\n\r\nexport class QuizCompareQstService {\r\n\tgetActualVisit(visit: Visit, questionnaire: IQuestionnaire): Visit | null {\r\n\t\tif (!visit) return null;\r\n\t\tconst newVisit = cloneDeep<Visit>(visit);\r\n\t\tnewVisit.questionnaire = questionnaire;\r\n\t\tconst comparedNewVisit = this.compareAnswers(newVisit, questionnaire);\r\n\t\tquizDraftService.set(comparedNewVisit);\r\n\t\treturn comparedNewVisit;\r\n\t}\r\n\r\n\tprivate compareAnswers(visit: Visit, questionnaire: IQuestionnaire): Visit {\r\n\t\tconst answers: VisitAnswer[] = [];\r\n\t\tquestionnaire.questions.forEach(question => {\r\n\t\t\tconst answer = visit.answers.find(answer => answer.questionId === question.id);\r\n\t\t\tif (!answer) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet newAnswer = answer;\r\n\t\t\tnewAnswer.question = question;\r\n\t\t\tif (answer.answerType !== question.answerType) {\r\n\t\t\t\tnewAnswer = {\r\n\t\t\t\t\tquestionId: question.id,\r\n\t\t\t\t\tquestion,\r\n\t\t\t\t\tquestionnaireId: questionnaire.id,\r\n\t\t\t\t\tanswerType: question.answerType,\r\n\t\t\t\t\titems:\r\n\t\t\t\t\t\tquestion.answerType === AnswerType.Boolean && question.items.length\r\n\t\t\t\t\t\t\t? question.items.map(item => ({ id: item.id, value: false, answer: item.name }))\r\n\t\t\t\t\t\t\t: []\r\n\t\t\t\t};\r\n\t\t\t\tif (answer.files) {\r\n\t\t\t\t\tnewAnswer.files = answer.files;\r\n\t\t\t\t}\r\n\t\t\t\tif (answer.comment) {\r\n\t\t\t\t\tnewAnswer.comment = answer.comment;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnewAnswer = this.compareAnswerProperties(question, newAnswer);\r\n\t\t\tif (question.items) {\r\n\t\t\t\tnewAnswer = this.compareAnswersItems(question, newAnswer);\r\n\t\t\t}\r\n\t\t\tanswers.push(newAnswer);\r\n\t\t});\r\n\t\tvisit.answers = answers.sort((a1, a2) => a1.question.sortOrder - a2.question.sortOrder);\r\n\t\treturn visit;\r\n\t}\r\n\r\n\tprivate compareAnswerProperties(question: IQuestion, answer: VisitAnswer): VisitAnswer {\r\n\t\tconst newAnswer = answer;\r\n\t\tif (question.questionAttachPhoto === QuestionAttachPhoto.None && newAnswer.files) {\r\n\t\t\tdelete newAnswer.files;\r\n\t\t}\r\n\t\tif (!question.flagComment && newAnswer.comment) {\r\n\t\t\tdelete newAnswer.comment;\r\n\t\t}\r\n\t\treturn newAnswer;\r\n\t}\r\n\r\n\tprivate compareAnswersItems(question: IQuestion, answer: VisitAnswer): VisitAnswer {\r\n\t\tconst newAnswer: VisitAnswer = answer;\r\n\t\tconst answerItems: VisitAnswerItem[] = [];\r\n\t\tquestion.items &&\r\n\t\t\tquestion.items.forEach(qItem => {\r\n\t\t\t\tconst aItem = answer.items.find(aItem => aItem.id === qItem.id);\r\n\t\t\t\tif (!aItem) {\r\n\t\t\t\t\tif (question.answerType === AnswerType.Boolean) {\r\n\t\t\t\t\t\tanswerItems.push({\r\n\t\t\t\t\t\t\tid: qItem.id,\r\n\t\t\t\t\t\t\tvalue: false,\r\n\t\t\t\t\t\t\tanswer: qItem.name\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tanswerItems.push(aItem);\r\n\t\t\t});\r\n\t\treturn newAnswer;\r\n\t}\r\n}\r\n","import { VisitUploadData } from \"quiz/services/QuizDraftService\";\r\nimport { Filter } from \"mdtApiClient/helpers/filter\";\r\nimport { MDTApiClient, MDTRecordId, ModificationResult } from \"mdtApiClient/mdtApiClient\";\r\nimport { toLocalISOString, base64ToBlob } from \"utils/helpers\";\r\nimport {\r\n\tAnswerType,\r\n\tIQuestion,\r\n\tIQuestionImage,\r\n\tIQuestionItem,\r\n\tIQuestionnaire,\r\n\tQuestionAttachPhoto,\r\n\tVisit,\r\n\tVisitAnswer,\r\n\tVisitAnswerFile,\r\n\tKPI\r\n} from \"../models\";\r\nimport { QuizDataService } from \"../QuizDataService\";\r\nimport { QuizDraftService, VisitUploadStatus } from \"../QuizDraftService\";\r\nimport NanoEvents from \"nanoevents\";\r\nimport { logger, quizAuthService, uploadHelper, quizLocalStorageService } from \"quiz/QuizApp\";\r\nimport { LogType } from \"../Logger\";\r\nimport { VisitSendError } from \"quiz/pages/visit/visitSendError\";\r\nimport { Signature } from \"quiz/components/signature/Signature\";\r\n\r\nfunction sortOrderCompare<T extends { sortOrder?: number }>(a: T, b: T): number {\r\n\treturn a.sortOrder - b.sortOrder;\r\n}\r\n\r\ninterface QuizQstServiceEvents {\r\n\tvisitUploadProgress: void;\r\n\tvisitUploadRetry: VisitUploadData;\r\n\tvisitUploadDelete: VisitUploadData;\r\n}\r\n\r\nexport class QuizQstService {\r\n\tevents = new NanoEvents<QuizQstServiceEvents>();\r\n\r\n\tprivate onLine: boolean;\r\n\tprivate sendVisitActive: boolean;\r\n\r\n\tconstructor(private apiClient: MDTApiClient, private quizDraftService: QuizDraftService) {}\r\n\r\n\tprivate defaultObjectListItem;\r\n\r\n\tinit() {\r\n\t\tthis.onLine = navigator.onLine;\r\n\t\tthis.sendVisits();\r\n\t\twindow.addEventListener(\"online\", () => {\r\n\t\t\tthis.onLine = true;\r\n\t\t\tthis.sendVisits();\r\n\t\t});\r\n\t\twindow.addEventListener(\"offline\", () => {\r\n\t\t\tthis.onLine = false;\r\n\t\t});\r\n\r\n\t\treturn this.apiClient\r\n\t\t\t.request(\"mdt/schema/qst.QuestionItem\", void 0, { camel: true })\r\n\t\t\t.then(MDTApiClient.handleAPIError)\r\n\t\t\t.then(r => r.json())\r\n\t\t\t.then(d => {\r\n\t\t\t\tthis.defaultObjectListItem = d.id;\r\n\t\t\t\treturn d;\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync getQuestionnaire(\r\n\t\tqstId: MDTRecordId,\r\n\t\toutletId: MDTRecordId,\r\n\t\trequestOptions?: RequestInit,\r\n\t\tprev = true\r\n\t): Promise<IQuestionnaire> {\r\n\t\treturn (\r\n\t\t\t(await this.quizDraftService\r\n\t\t\t\t.getOutletCache(outletId)\r\n\t\t\t\t.then(res => res?.qsts?.filter(q => q.id == qstId)[0])) ||\r\n\t\t\tthis.apiClient\r\n\t\t\t\t.fetch<APIQuestionnaire>(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttable: \"qst.Questionnaire\",\r\n\t\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\t\"*\",\r\n\t\t\t\t\t\t\t\"Questions/*\",\r\n\t\t\t\t\t\t\t\"Questions/ID_Question/*\",\r\n\t\t\t\t\t\t\t\"Questions/ID_Question/ID_mdt_ObjectListItems/*\",\r\n\t\t\t\t\t\t\t\"Questions/ID_Question/ID_mdt_ObjectPictureFile/Deleted\",\r\n\t\t\t\t\t\t\t\"Questions/ID_Question/Items/*\",\r\n\t\t\t\t\t\t\t\"Questions/ID_Question/Items/ID_QuestionItem/*\",\r\n\t\t\t\t\t\t\t\"Questions/ID_Question/Question_KPI/ID_KPI/Name\",\r\n\t\t\t\t\t\t\t\"Questions/ID_Question/Question_KPI/ID_KPI/Type\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tfilter: Filter.eq(\"ID\", qstId),\r\n\t\t\t\t\t\tparams: { ID_Language_ext: quizAuthService.state.user.languageId }\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvoid 0,\r\n\t\t\t\t\t{ camel: true },\r\n\t\t\t\t\trequestOptions\r\n\t\t\t\t)\r\n\t\t\t\t.then(async r => {\r\n\t\t\t\t\tconst x = r.records[0];\r\n\t\t\t\t\tif (!x) throw new Error(\"Questionnaire not found!\");\r\n\t\t\t\t\tconst qst = await this.prepareQst(x, outletId, requestOptions);\r\n\t\t\t\t\tqst.prevVisit = prev && (await this.getQstPrevVisit(outletId, qst.id, null, requestOptions));\r\n\t\t\t\t\treturn qst;\r\n\t\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tasync getQuestionnaires(qstIds: MDTRecordId[], outletId: MDTRecordId, requestOptions?: RequestInit) {\r\n\t\treturn this.apiClient\r\n\t\t\t.fetch<APIQuestionnaire>(\r\n\t\t\t\t{\r\n\t\t\t\t\ttable: \"qst.Questionnaire\",\r\n\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\"*\",\r\n\t\t\t\t\t\t\"Questions/*\",\r\n\t\t\t\t\t\t\"Questions/ID_Question/*\",\r\n\t\t\t\t\t\t\"Questions/ID_Question/ID_mdt_ObjectListItems/*\",\r\n\t\t\t\t\t\t\"Questions/ID_Question/ID_mdt_ObjectPictureFile/Deleted\",\r\n\t\t\t\t\t\t\"Questions/ID_Question/Items/*\",\r\n\t\t\t\t\t\t\"Questions/ID_Question/Items/ID_QuestionItem/*\",\r\n\t\t\t\t\t\t\"Questions/ID_Question/Question_KPI/ID_KPI/Name\",\r\n\t\t\t\t\t\t\"Questions/ID_Question/Question_KPI/ID_KPI/Type\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\tfilter: Filter.in(\"ID\", qstIds),\r\n\t\t\t\t\tparams: { ID_Language_ext: quizAuthService.state.user.languageId }\r\n\t\t\t\t},\r\n\t\t\t\tvoid 0,\r\n\t\t\t\t{ camel: true },\r\n\t\t\t\trequestOptions\r\n\t\t\t)\r\n\t\t\t.then(\r\n\t\t\t\tasync res =>\r\n\t\t\t\t\tawait Promise.all(\r\n\t\t\t\t\t\t(res?.records || []).map(async q => {\r\n\t\t\t\t\t\t\tconst qst = await this.prepareQst(q, outletId, requestOptions);\r\n\t\t\t\t\t\t\tqst.prevVisit = await this.getQstPrevVisit(outletId, qst.id, null, requestOptions);\r\n\t\t\t\t\t\t\treturn qst;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t);\r\n\t}\r\n\r\n\tprivate async prepareQst(data: APIQuestionnaire, outletId: MDTRecordId, requestOptions?: RequestInit) {\r\n\t\tconst qst: IQuestionnaire = {\r\n\t\t\tid: data.id,\r\n\t\t\tcode: data.code,\r\n\t\t\tdescription: data.description,\r\n\t\t\tname: data.name,\r\n\t\t\tflagSignature: data.flagSignature,\r\n\t\t\tquestions: []\r\n\t\t};\r\n\t\tconst questions =\r\n\t\t\tdata.questions &&\r\n\t\t\t(await Promise.all(data.questions.map(q => this.prepareQuestion(q, outletId, requestOptions))));\r\n\t\tqst.questions = (questions || []).sort(sortOrderCompare);\r\n\t\treturn qst;\r\n\t}\r\n\r\n\tprivate async prepareQuestion(\r\n\t\tq: Partial<APIQuestionnaire_Question>,\r\n\t\toutletId: MDTRecordId,\r\n\t\trequestOptions?: RequestInit\r\n\t): Promise<IQuestion> {\r\n\t\tconst question = {\r\n\t\t\t...this.questionApiToUi(q.id_Question$, true),\r\n\t\t\tsortOrder: q.sortOrder,\r\n\t\t\tflagAnswerRequired: q.flagAnswerRequired,\r\n\t\t\t$apiData: q\r\n\t\t};\r\n\r\n\t\tconst imagesPromise = this.prepareQuestionImages(q.id_Question$, outletId, requestOptions);\r\n\t\tconst itemsPropmise = this.loadQuestionItems(q.id_Question$, outletId, requestOptions);\r\n\t\tconst [images, items] = await Promise.all([imagesPromise, itemsPropmise]);\r\n\r\n\t\tif (images) question.images = images;\r\n\t\tif (items) question.items = items;\r\n\r\n\t\treturn question;\r\n\t}\r\n\r\n\tprivate questionApiToUi(apiQuestion: APIQuestion, prepareItems = false): IQuestion {\r\n\t\tconst items = apiQuestion.items;\r\n\t\tconst kpi = apiQuestion.question_KPI;\r\n\t\tconst result: IQuestion = {\r\n\t\t\tid: apiQuestion.id,\r\n\t\t\tname: apiQuestion.name,\r\n\t\t\tdescription: apiQuestion.description,\r\n\t\t\tanswerType: apiQuestion.id_AnswerType,\r\n\t\t\tquestionAttachPhoto: apiQuestion.id_QuestionAttachPhoto,\r\n\t\t\tflagComment: apiQuestion.flagComment,\r\n\t\t\tid_mdt_ObjectListItems: apiQuestion.id_mdt_ObjectListItems,\r\n\t\t\titems:\r\n\t\t\t\tprepareItems && items ? items.sort(sortOrderCompare).map(item => this.prepareQuestionItem(item)) : null,\r\n\t\t\tkpi: kpi && kpi.map(x => x.id_kpI$)\r\n\t\t};\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate prepareQuestionItem(item: Partial<APIQuestion_QuestionItem>): IQuestionItem {\r\n\t\treturn {\r\n\t\t\tid: item.id_QuestionItem$.id,\r\n\t\t\tsortOrder: item.sortOrder,\r\n\t\t\tname: item.id_QuestionItem$.name,\r\n\t\t\tgroup: item.id_QuestionItem$.nameGroup\r\n\t\t};\r\n\t}\r\n\r\n\tprivate async loadQuestionItems(apiQuestion: APIQuestion, outletId: MDTRecordId, requestOptions?: RequestInit) {\r\n\t\tif (!apiQuestion.id_mdt_ObjectListItems) return null;\r\n\t\treturn this.apiClient\r\n\t\t\t.fetch<APIQuestionItem>(\r\n\t\t\t\t{\r\n\t\t\t\t\ttable: apiQuestion.id_mdt_ObjectListItems$.code,\r\n\t\t\t\t\ttop: 1000,\r\n\t\t\t\t\tparams: `[${outletId}]`\r\n\t\t\t\t},\r\n\t\t\t\tvoid 0,\r\n\t\t\t\t{ camel: true },\r\n\t\t\t\trequestOptions\r\n\t\t\t)\r\n\t\t\t.then(x => (x ? this.prepareLoadedItems(x.records) : []));\r\n\t}\r\n\r\n\tprivate prepareLoadedItems(items: APIQuestionItem[]): IQuestionItem[] {\r\n\t\treturn items.map(item => ({\r\n\t\t\tid: item.id,\r\n\t\t\tname: item.name,\r\n\t\t\tgroup: item.nameGroup,\r\n\t\t\tid_mdt_ObjectListItems: item.id_mdt_ObjectListItems\r\n\t\t}));\r\n\t}\r\n\r\n\tprivate async prepareQuestionImages(\r\n\t\tapiQuestion: APIQuestion,\r\n\t\toutletId: MDTRecordId,\r\n\t\trequestOptions?: RequestInit\r\n\t): Promise<IQuestionImage[]> {\r\n\t\tif (!apiQuestion.id_mdt_ObjectPictureFile) return null;\r\n\t\treturn await this.apiClient\r\n\t\t\t.fetch(\r\n\t\t\t\t{\r\n\t\t\t\t\ttable: apiQuestion.id_mdt_ObjectPictureFile$.code,\r\n\t\t\t\t\ttop: 1000,\r\n\t\t\t\t\tparams: `[${outletId}]`\r\n\t\t\t\t},\r\n\t\t\t\tvoid 0,\r\n\t\t\t\t{ camel: true },\r\n\t\t\t\trequestOptions\r\n\t\t\t)\r\n\t\t\t.then(x => (x ? x.records.map(r => ({ fileId: r.id, uid: r.uid || null })) : []));\r\n\t}\r\n\r\n\tsaveVisit(visit: Visit) {\r\n\t\treturn visit.signatureFile\r\n\t\t\t? this.apiClient.saveWithPhoto(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tfull: base64ToBlob(visit.signatureFile)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"VisitSignatureFIle\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvisits: {\r\n\t\t\t\t\t\t\t...this.prepareVisitForSave(visit)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"ID_mdt_FileSignature\"\r\n\t\t\t  )\r\n\t\t\t: this.apiClient.save(this.prepareVisitForSave(visit));\r\n\t}\r\n\r\n\tprivate prepareVisitForSave(visit: Visit): APIVisit | APIFile {\r\n\t\tlet apiVisit: APIVisit = {\r\n\t\t\t$table: \"qst.Visit\",\r\n\t\t\tdateBegin: visit.dateBegin.toISOString(),\r\n\t\t\tdateEnd: visit.dateEnd.toISOString(),\r\n\t\t\tdateSubmitLocal: toLocalISOString(new Date(visit.dateEnd)),\r\n\t\t\tid_Outlet: visit.outletId,\r\n\t\t\tid_em_Employee: visit.employeeId,\r\n\t\t\telapsedSeconds: visit.elapsedSeconds,\r\n\t\t\titems: this.prepareVisitItemsForSave(visit.answers),\r\n\t\t\tgeo_Latitude: visit.latitude,\r\n\t\t\tgeo_Longitude: visit.longitude,\r\n\t\t\tgeo_LatitudeEnd: visit.latitudeEnd,\r\n\t\t\tgeo_LongitudeEnd: visit.longitudeEnd,\r\n\t\t\tcomment: visit.comment,\r\n\t\t\tcommentSignature: visit.commentSignature\r\n\t\t};\r\n\t\treturn apiVisit;\r\n\t}\r\n\r\n\tprivate prepareVisitItemsForSave(answers: VisitAnswer[]) {\r\n\t\tconst items: APIVisitItem[] = [];\r\n\t\tanswers.forEach(answer => {\r\n\t\t\titems.push({\r\n\t\t\t\t$table: \"qst.VisitItem\",\r\n\t\t\t\t$fk: \"ID_Visit\",\r\n\t\t\t\tid_Questionnaire: answer.questionnaireId,\r\n\t\t\t\tid_Question: answer.questionId,\r\n\t\t\t\tid_AnswerType: answer.answerType,\r\n\t\t\t\titems: this.prepareAnswerForSave(answer),\r\n\t\t\t\tcomment: answer.comment\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn items;\r\n\t}\r\n\r\n\tprivate prepareAnswerForSave(answer: VisitAnswer) {\r\n\t\tconst base: APIVisitItemList = {\r\n\t\t\t$table: \"qst.VisitItemList\",\r\n\t\t\t$fk: \"ID_VisitItem\"\r\n\t\t};\r\n\r\n\t\tconst valueField = this.visitItemListValueField(answer.answerType);\r\n\r\n\t\treturn (\r\n\t\t\tanswer.items &&\r\n\t\t\tanswer.items.map((x, i) => {\r\n\t\t\t\tconst r = { ...base };\r\n\t\t\t\tif (x.id) {\r\n\t\t\t\t\tconst originalQuestionItem = answer.question.items[i];\r\n\t\t\t\t\tr.id_mdt_ObjectListItems =\r\n\t\t\t\t\t\toriginalQuestionItem.id_mdt_ObjectListItems ||\r\n\t\t\t\t\t\tanswer.question.id_mdt_ObjectListItems ||\r\n\t\t\t\t\t\tthis.defaultObjectListItem;\r\n\t\t\t\t\tr.id_ListItem = x.id;\r\n\t\t\t\t}\r\n\t\t\t\tif (valueField) r[valueField] = x.value;\r\n\t\t\t\treturn r;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tprivate visitItemListValueField(type: AnswerType) {\r\n\t\tlet code: string;\r\n\t\tif ([AnswerType.Text, AnswerType.ScanQrCode, AnswerType.ScanQrCodeWithHideText].includes(type))\r\n\t\t\tcode = \"valueText\";\r\n\t\telse if (type == AnswerType.Number) code = \"valueNumber\";\r\n\t\telse if (type == AnswerType.Boolean || type == AnswerType.ManyOptions) code = \"valueBit\";\r\n\t\treturn code;\r\n\t}\r\n\r\n\tprivate async getBase64Data(file: VisitAnswerFile): Promise<string> {\r\n\t\tif (!file) {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\treturn await uploadHelper.prepareImage(file.data.full);\r\n\t}\r\n\r\n\tasync saveVisitPhoto(file: VisitAnswerFile) {\r\n\t\treturn this.apiClient.saveWithPhoto(\r\n\t\t\tfile,\r\n\t\t\t\"VisitItemPhoto\",\r\n\t\t\t{\r\n\t\t\t\tvisitItemPhotos: {\r\n\t\t\t\t\t$table: \"qst.VisitItem_mdt_File\",\r\n\t\t\t\t\tid_VisitItem: file.visitAnswerId\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"ID_mdt_File\"\r\n\t\t);\r\n\t}\r\n\r\n\tasync getVisit(outletId: MDTRecordId, requestOptions?: RequestInit) {\r\n\t\treturn this.apiClient\r\n\t\t\t.fetch<APIVisit>(\r\n\t\t\t\t{\r\n\t\t\t\t\ttable: \"qst.Visit\",\r\n\t\t\t\t\tfilter: Filter.eq(\"ID\", outletId),\r\n\t\t\t\t\tsorting: [{ path: \"DateBegin\", asc: false }],\r\n\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\"*\",\r\n\t\t\t\t\t\t\"ID_mdt_FileSignature/UID\",\r\n\t\t\t\t\t\t\"items/*\",\r\n\t\t\t\t\t\t\"items/items/*\",\r\n\t\t\t\t\t\t\"items/files/ID_mdt_File/UID\",\r\n\t\t\t\t\t\t\"items/ID_Question/*\",\r\n\t\t\t\t\t\t\"items/ID_Question/question_KPI/id_kpI/*\",\r\n\t\t\t\t\t\t\"Items/ID_Questionnaire\",\r\n\t\t\t\t\t\t\"items/items/answer\",\r\n\t\t\t\t\t\t\"items/items/ID_ListItem\",\r\n\t\t\t\t\t\t\"items/items/ID_VisitItem\",\r\n\t\t\t\t\t\t\"items/items/ValueBit\",\r\n\t\t\t\t\t\t\"items/items/ValueText\",\r\n\t\t\t\t\t\t\"items/items/ValueNumber\",\r\n\t\t\t\t\t\t\"ID_Outlet/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletType/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletFormat/*\",\r\n\t\t\t\t\t\t\"ID_em_Employee/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/Positions/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/Positions/ID_Employee/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/NameShort\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/ID_Parent/*\",\r\n\t\t\t\t\t\t\"ID_Outlet/ID_OutletChain/ID_Parent/NameShort\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\tparams: { ID_Language_ext: quizAuthService.state.user.languageId }\r\n\t\t\t\t},\r\n\t\t\t\tvoid 0,\r\n\t\t\t\t{ camel: true },\r\n\t\t\t\trequestOptions\r\n\t\t\t)\r\n\t\t\t.then(async r => {\r\n\t\t\t\tconst apiVisit = r.records[0];\r\n\t\t\t\tif (!apiVisit) throw new Error(\"Visit not found!\"); //todo: hardcoded message\r\n\t\t\t\tconst item = apiVisit.items[0];\r\n\t\t\t\tif (!item) throw new Error(\"Visit has no items!\"); //todo: hardcoded message\r\n\r\n\t\t\t\tconst visit = this.prepareVisit(apiVisit, item);\r\n\t\t\t\tvisit.questionnaire = await this.getQuestionnaire(\r\n\t\t\t\t\tvisit.questionnaireId,\r\n\t\t\t\t\tvisit.outletId,\r\n\t\t\t\t\trequestOptions,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\t\t\t\treturn visit;\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync getQstPrevVisit(outletId: MDTRecordId, qstId: MDTRecordId, date?: string, requestOptions?: RequestInit) {\r\n\t\tconst dateFilter = date ? Filter.lt(\"dateSubmitLocal\", date) : null;\r\n\t\treturn this.apiClient\r\n\t\t\t.fetch<APIVisit>(\r\n\t\t\t\t{\r\n\t\t\t\t\ttable: \"qst.Visit\",\r\n\t\t\t\t\tfilter: Filter.and(\r\n\t\t\t\t\t\tFilter.eq(\"ID_Outlet\", outletId),\r\n\t\t\t\t\t\tFilter.eq(\"Items/ID_Questionnaire\", qstId),\r\n\t\t\t\t\t\tdateFilter\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsorting: [{ path: \"DateBegin\", asc: false }],\r\n\t\t\t\t\tselect: [\r\n\t\t\t\t\t\t\"*\",\r\n\t\t\t\t\t\t\"items/*\",\r\n\t\t\t\t\t\t\"items/items/*\",\r\n\t\t\t\t\t\t\"items/ID_Question/*\",\r\n\t\t\t\t\t\t\"items/ID_Question/question_KPI/id_kpI/*\",\r\n\t\t\t\t\t\t\"Items/ID_Questionnaire\",\r\n\t\t\t\t\t\t\"items/items/answer\",\r\n\t\t\t\t\t\t\"items/items/ID_ListItem\",\r\n\t\t\t\t\t\t\"items/items/ID_VisitItem\",\r\n\t\t\t\t\t\t\"items/items/ValueBit\",\r\n\t\t\t\t\t\t\"items/items/ValueText\",\r\n\t\t\t\t\t\t\"items/items/ValueNumber\"\r\n\t\t\t\t\t],\r\n\t\t\t\t\tparams: { ID_Language_ext: quizAuthService.state.user.languageId }\r\n\t\t\t\t},\r\n\t\t\t\tvoid 0,\r\n\t\t\t\t{ camel: true },\r\n\t\t\t\trequestOptions\r\n\t\t\t)\r\n\t\t\t.then(async r => {\r\n\t\t\t\tconst apiVisit = r.records[0];\r\n\t\t\t\tconst item = apiVisit?.items[0];\r\n\t\t\t\tif (!apiVisit || !item) return null;\r\n\t\t\t\tconst visit = this.prepareVisit(apiVisit, item);\r\n\t\t\t\treturn visit;\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate prepareVisit(apiVisit: APIVisit, apiVisitItem: APIVisitItem): Visit {\r\n\t\treturn {\r\n\t\t\tid: apiVisit.id,\r\n\t\t\tdateBegin: new Date(apiVisit.dateBegin),\r\n\t\t\tdateEnd: new Date(apiVisit.dateEnd),\r\n\t\t\telapsedSeconds: apiVisit.elapsedSeconds,\r\n\t\t\toutletId: apiVisit.id_Outlet,\r\n\t\t\toutlet: QuizDataService.outletApiToUi(apiVisit.id_Outlet$),\r\n\t\t\temployeeId: apiVisit.id_em_Employee,\r\n\t\t\temployee: apiVisit.id_em_Employee$,\r\n\t\t\tquestionnaireId: apiVisitItem.id_Questionnaire,\r\n\t\t\tanswers: this.prepareAnswers(apiVisit.items),\r\n\t\t\tcomment: apiVisit.comment,\r\n\t\t\tcommentSignature: apiVisit.commentSignature,\r\n\t\t\tsignatureId: apiVisit.id_mdt_FileSignature,\r\n\t\t\tsignatureUid: apiVisit?.id_mdt_FileSignature$?.uid || null\r\n\t\t};\r\n\t}\r\n\r\n\tprivate prepareAnswers(arr: APIVisitItem[]): VisitAnswer[] {\r\n\t\treturn arr.map(x => {\r\n\t\t\treturn {\r\n\t\t\t\tid: x.id,\r\n\t\t\t\tquestionId: x.id_Question,\r\n\t\t\t\tquestion: x.id_Question$ && this.questionApiToUi(x.id_Question$),\r\n\t\t\t\tquestionnaireId: x.id_Questionnaire,\r\n\t\t\t\tanswerType: x.id_AnswerType,\r\n\t\t\t\tcomment: x.comment,\r\n\t\t\t\tfiles:\r\n\t\t\t\t\tx.files &&\r\n\t\t\t\t\tx.files.map(f => ({ id: f.id, fileId: f.id_mdt_File, uid: f?.id_mdt_File$?.uid || null })),\r\n\t\t\t\titems:\r\n\t\t\t\t\tx.items &&\r\n\t\t\t\t\tx.items.map(item => {\r\n\t\t\t\t\t\tconst valueField = this.visitItemListValueField(x.id_AnswerType);\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\tanswer: item.answer,\r\n\t\t\t\t\t\t\tvalue: item[valueField]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\t// UPLOAD\r\n\tasync finishVisit(visit: Visit): Promise<void> {\r\n\t\tawait this.quizDraftService.storeFinishedVisit(visit);\r\n\t\tawait this.quizDraftService.delete(visit.outletId, visit.questionnaireId);\r\n\t\tawait this.sendVisits();\r\n\t}\r\n\r\n\tprivate async sendVisits(): Promise<void> {\r\n\t\tif (!this.onLine || this.sendVisitActive) return null;\r\n\t\tthis.sendVisitActive = true;\r\n\r\n\t\tconst finishedVisits = await this.quizDraftService.getVisitUploadData();\r\n\r\n\t\ttry {\r\n\t\t\tfor (const origUploadData of finishedVisits) {\r\n\t\t\t\tconst uploadData = { ...origUploadData };\r\n\t\t\t\tlogger.intervalLogStart(`send_full_visit_${origUploadData.key}`);\r\n\t\t\t\tlet photoIndex = 0;\r\n\t\t\t\tconst localVisitId = origUploadData.key;\r\n\t\t\t\tif (origUploadData.status == VisitUploadStatus.notSent) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlogger.intervalLogStart(`save_visit_${origUploadData.key}`);\r\n\t\t\t\t\t\tconst visitSaveResult = await this.saveVisit(origUploadData.visit);\r\n\t\t\t\t\t\tconst serverVisitId = visitSaveResult.items[0].extIds.find(ext => ext.Table == \"qst.Visit\").ID;\r\n\t\t\t\t\t\tquizLocalStorageService.set(`${localVisitId}`, String(serverVisitId));\r\n\t\t\t\t\t\tlogger.intervalLogEnd(\"save-visit\", `save_visit_${origUploadData.key}`, {\r\n\t\t\t\t\t\t\tvisit: origUploadData.visit\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconst visitItemIds = visitSaveResult.items[0].extIds\r\n\t\t\t\t\t\t\t.filter(x => x.Table == \"qst.VisitItem\")\r\n\t\t\t\t\t\t\t.map(x => x.ID);\r\n\r\n\t\t\t\t\t\tuploadData.visit.answers.forEach(answer => {\r\n\t\t\t\t\t\t\tanswer.files?.forEach(() => {\r\n\t\t\t\t\t\t\t\tconst data = uploadData.files[photoIndex];\r\n\t\t\t\t\t\t\t\tdata.answerFile.visitAnswerId = visitItemIds[data.visitItemIndex];\r\n\t\t\t\t\t\t\t\tphotoIndex++;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tuploadData.status = VisitUploadStatus.success;\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tuploadData.status = VisitUploadStatus.error;\r\n\t\t\t\t\t\tlogger.log(\r\n\t\t\t\t\t\t\t\"unsent-report-error\",\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\terror: e,\r\n\t\t\t\t\t\t\t\tstage: \"Save visit\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tLogType.error\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tthrow new VisitSendError({ err: e, context: uploadData });\r\n\t\t\t\t\t} finally {\r\n\t\t\t\t\t\tawait this.quizDraftService.updateVisitUploadData(uploadData);\r\n\t\t\t\t\t\tthis.events.emit(\"visitUploadProgress\", void 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (uploadData.status == VisitUploadStatus.success) {\r\n\t\t\t\t\tfor await (const fileData of uploadData.files) {\r\n\t\t\t\t\t\tif (fileData.status == VisitUploadStatus.notSent) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tconst data = await this.quizDraftService.getFiles([fileData.answerFile]);\r\n\t\t\t\t\t\t\t\tfileData.answerFile = { ...fileData.answerFile, ...data[0] };\r\n\t\t\t\t\t\t\t\tlogger.intervalLogStart(`save_photo_${fileData.answerFile.draftFileId}`);\r\n\t\t\t\t\t\t\t\tawait this.saveVisitPhoto(fileData.answerFile);\r\n\t\t\t\t\t\t\t\tlogger.intervalLogEnd(\"save-photo\", `save_photo_${fileData.answerFile.draftFileId}`, {\r\n\t\t\t\t\t\t\t\t\tvisitId: quizLocalStorageService.get(`${localVisitId}`),\r\n\t\t\t\t\t\t\t\t\tphotoSize: fileData.answerFile.data?.full?.size || null\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tfileData.status = VisitUploadStatus.success;\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\tfileData.status = VisitUploadStatus.error;\r\n\t\t\t\t\t\t\t\tlogger.log(\r\n\t\t\t\t\t\t\t\t\t\"unsent-report-error\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\terror: e,\r\n\t\t\t\t\t\t\t\t\t\tstage: \"Save photos\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tLogType.error\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tthrow new VisitSendError({ err: e, context: uploadData });\r\n\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\tawait this.quizDraftService.updateVisitUploadData(uploadData);\r\n\t\t\t\t\t\t\t\tthis.events.emit(\"visitUploadProgress\", void 0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.events.emit(\"visitUploadProgress\", void 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tuploadData.status == VisitUploadStatus.success &&\r\n\t\t\t\t\tuploadData.files.every(f => f.status == VisitUploadStatus.success)\r\n\t\t\t\t) {\r\n\t\t\t\t\tawait this.quizDraftService.removeVisitUploadData(uploadData);\r\n\t\t\t\t\tlogger.intervalLogEnd(\"send-full-visit\", `send_full_visit_${origUploadData.key}`, {\r\n\t\t\t\t\t\tvisit: quizLocalStorageService.get(`${localVisitId}`),\r\n\t\t\t\t\t\ttotalPhotos: uploadData.files.length\r\n\t\t\t\t\t});\r\n\t\t\t\t\tquizLocalStorageService.remove([`${localVisitId}`]);\r\n\t\t\t\t}\r\n\t\t\t\tthis.events.emit(\"visitUploadProgress\", void 0);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tthis.sendVisitActive = false;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tgetUploadProgress(data: VisitUploadData) {\r\n\t\tconst total = data.files.length + 1;\r\n\t\tconst finished =\r\n\t\t\tdata.files.filter(f => f.status == VisitUploadStatus.success).length +\r\n\t\t\t(data.status == VisitUploadStatus.notSent ? 0 : 1);\r\n\t\treturn finished / total;\r\n\t}\r\n\r\n\thasUploadErrors(data: VisitUploadData) {\r\n\t\treturn data.status == VisitUploadStatus.error || data.files.some(f => f.status == VisitUploadStatus.error);\r\n\t}\r\n\r\n\tasync retrySend(data: VisitUploadData) {\r\n\t\tif (data.status == VisitUploadStatus.error) data.status = VisitUploadStatus.notSent;\r\n\t\tconst failedPhotos = data.files.filter(f => f.status == VisitUploadStatus.error);\r\n\t\tfailedPhotos.forEach(f => (f.status = VisitUploadStatus.notSent));\r\n\t\tawait this.quizDraftService.updateVisitUploadData(data);\r\n\t\tthis.events.emit(\"visitUploadRetry\", data);\r\n\t\tthis.sendVisits();\r\n\t}\r\n\r\n\tasync deleteUploadData(data: VisitUploadData) {\r\n\t\tawait this.quizDraftService.removeVisitUploadData(data);\r\n\t\tthis.events.emit(\"visitUploadDelete\", data);\r\n\t}\r\n}\r\n\r\nexport interface APIQuestionnaire {\r\n\t$id: MDTRecordId;\r\n\tid: MDTRecordId;\r\n\tcode: string;\r\n\tdescription: string;\r\n\tflagDisable: boolean;\r\n\tflagSignature: boolean;\r\n\tmdt_DateCreate: string;\r\n\tmdt_id_PrincipalCreatedBy: MDTRecordId;\r\n\tmdt_id_PrincipalCreatedBy$: Partial<APIMDTPrincipal>;\r\n\tname: string;\r\n\tquestions: Partial<APIQuestionnaire_Question>[];\r\n}\r\n\r\ninterface APIQuestionnaire_Question {\r\n\t$id: MDTRecordId;\r\n\t$table: \"qst.Questionnaire_Question\";\r\n\tflagAnswerRequired: boolean;\r\n\tid: MDTRecordId;\r\n\tid_Question: MDTRecordId;\r\n\tid_Question$: APIQuestion;\r\n\tid_Questionnaire: MDTRecordId;\r\n\tid_Questionnaire$: Partial<APIQuestionnaire>;\r\n\tmdt_DateCreate: string;\r\n\tmdt_id_PrincipalCreatedBy: MDTRecordId;\r\n\tmdt_id_PrincipalCreatedBy$: Partial<APIMDTPrincipal>;\r\n\tsortOrder: number;\r\n}\r\n\r\ninterface APIMDTPrincipal {\r\n\ttitle: string;\r\n}\r\n\r\ninterface APIQuestion {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n\tdescription: string;\r\n\tflagComment: boolean;\r\n\tid_AnswerType: AnswerType;\r\n\tid_AnswerType$: Partial<APIAnswerType>;\r\n\tid_QuestionAttachPhoto: QuestionAttachPhoto;\r\n\tid_QuestionAttachPhoto$: Partial<APIQuestionAttachPhoto>;\r\n\titems: Partial<APIQuestion_QuestionItem>[];\r\n\tmdt_DateCreate: string;\r\n\tmdt_id_PrincipalCreatedBy: MDTRecordId;\r\n\tmdt_id_PrincipalCreatedBy$: Partial<APIMDTPrincipal>;\r\n\tid_mdt_ObjectListItems: MDTRecordId;\r\n\tid_mdt_ObjectListItems$: Partial<APIObjectListItems>;\r\n\tid_mdt_ObjectPictureFile: MDTRecordId;\r\n\tid_mdt_ObjectPictureFile$: APIObjectPicture;\r\n\tquestion_KPI: ApiQuestionKPI[];\r\n}\r\n\r\ninterface APIAnswerType {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n}\r\n\r\ninterface APIQuestionAttachPhoto {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n}\r\n\r\ninterface APIQuestion_QuestionItem {\r\n\t$id: MDTRecordId;\r\n\tid: MDTRecordId;\r\n\t$table: \"qst.Question_QuestionItem\";\r\n\tid_Question: MDTRecordId;\r\n\tid_Question$: Partial<APIQuestion>;\r\n\tid_QuestionItem: MDTRecordId;\r\n\tid_QuestionItem$: Partial<APIQuestionItem>;\r\n\tmdt_DateCreate: string;\r\n\tmdt_id_PrincipalCreatedBy: MDTRecordId;\r\n\tmdt_id_PrincipalCreatedBy$: Partial<APIMDTPrincipal>;\r\n\tsortOrder: number;\r\n}\r\n\r\ninterface APIQuestionItem {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n\tnameGroup: string;\r\n\tmdt_DateCreate: string;\r\n\tmdt_id_PrincipalCreatedBy$: Partial<APIMDTPrincipal>;\r\n\tmdt_id_PrincipalCreatedBy: MDTRecordId;\r\n\tid_mdt_ObjectListItems: MDTRecordId;\r\n}\r\n\r\ninterface APIObjectListItems {\r\n\tcode: string; //\"qst.udf_Outlet_ProductSKU\"\r\n\tdeleted: boolean;\r\n}\r\n\r\nexport interface APIObjectPicture {\r\n\tcode: string;\r\n\tdeleted: boolean;\r\n}\r\n\r\nexport interface APIVisit {\r\n\tid?: MDTRecordId;\r\n\t$table: \"qst.Visit\";\r\n\tdateBegin: string;\r\n\tdateEnd: string;\r\n\tdateSubmitLocal: string;\r\n\telapsedSeconds?: number;\r\n\tid_Outlet: MDTRecordId;\r\n\tid_Outlet$?: APIOutlet;\r\n\tid_em_Employee: MDTRecordId;\r\n\tid_em_Employee$?: APIEmployee;\r\n\titems: APIVisitItem[];\r\n\tgeo_Latitude?: number;\r\n\tgeo_LatitudeEnd?: number;\r\n\tgeo_Longitude?: number;\r\n\tgeo_LongitudeEnd?: number;\r\n\tflagRoute?: boolean;\r\n\tcomment?: string;\r\n\tcommentSignature?: string;\r\n\tid_mdt_FileSignature?: MDTRecordId;\r\n\tid_mdt_FileSignature$?: {\r\n\t\tname?: string;\r\n\t\tuid?: string;\r\n\t};\r\n}\r\n\r\ninterface APIVisitItem {\r\n\t$table: \"qst.VisitItem\";\r\n\t$fk: \"ID_Visit\";\r\n\tid?: MDTRecordId;\r\n\tid_Questionnaire: MDTRecordId;\r\n\tid_Question: MDTRecordId;\r\n\tid_Question$?: APIQuestion;\r\n\tid_AnswerType: AnswerType;\r\n\titems: APIVisitItemList[];\r\n\tcomment: string;\r\n\tfiles?: APIVisitItemFile[];\r\n\tmdt_DateCreate?: string;\r\n\tmdt_id_PrincipalCreatedBy?: string;\r\n}\r\n\r\ninterface APIVisitItemList {\r\n\t$table: \"qst.VisitItemList\";\r\n\t$fk: \"ID_VisitItem\";\r\n\tid?: MDTRecordId;\r\n\tvalueText?: string;\r\n\tvalueBit?: boolean;\r\n\tvalueNumber?: number;\r\n\tid_mdt_ObjectListItems?: MDTRecordId;\r\n\tid_ListItem?: MDTRecordId;\r\n\tanswer?: string;\r\n}\r\n\r\ninterface APIVisitItemFile {\r\n\t$table: \"qst.VisitItem_mdt_File\";\r\n\tid?: MDTRecordId;\r\n\tid_mdt_File?: MDTRecordId;\r\n\tid_mdt_File$?: {\r\n\t\tname: string;\r\n\t\tuid: string;\r\n\t};\r\n\tid_VisitItem?: MDTRecordId;\r\n\tmdt_DateCreate?: string;\r\n}\r\n\r\nexport interface APIFile {\r\n\t$table: \"mdt.File\";\r\n\tdata: any;\r\n\tmdt_DateCreate?: Date;\r\n\tname: string;\r\n\ttype?: string;\r\n\tvisits?: APIVisit[];\r\n\tvisitItemPhotos?: APIVisitItemFile[];\r\n}\r\n\r\nexport interface APIEmployee {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n}\r\n\r\n// Outlet\r\nexport interface APIOutlet {\r\n\tid?: MDTRecordId;\r\n\tid_mapping_DataSource?: MDTRecordId;\r\n\tuid_ds?: string;\r\n\tid_mapping_MDT: MDTRecordId;\r\n\tid_status_Status: MDTRecordId;\r\n\tcode: string;\r\n\tname: string;\r\n\taddress: string;\r\n\taddressDesc: string;\r\n\tphone: string;\r\n\tflagActive: boolean;\r\n\tstatusChangeDate: string;\r\n\tid_OutletCategory?: MDTRecordId;\r\n\tid_OutletTradeType: MDTRecordId;\r\n\tid_OutletType$?: APIOutletType;\r\n\tid_OutletType: MDTRecordId;\r\n\tr_Updated: boolean;\r\n\tcityDesc: string;\r\n\tregionDesc: string;\r\n\tid_Alignment: MDTRecordId;\r\n\tid_fias_Geography: MDTRecordId;\r\n\taddressDescMDT: string;\r\n\tfias_CustomHouse: string;\r\n\tuid_UniqueComputed: string;\r\n\tid_fias_Status: MDTRecordId;\r\n\tfias_Latitude: string;\r\n\tfias_Longitude: string;\r\n\tfias_GeographyPoint: {\r\n\t\tlat: number;\r\n\t\tlong: number;\r\n\t};\r\n\tid_fias_GeographyPointAccuracy: MDTRecordId;\r\n\tid_fias_AddressAccuracy: MDTRecordId;\r\n\tid_fias_AddressCompleteness: MDTRecordId;\r\n\tflagDC: boolean;\r\n\tflagSplit: boolean;\r\n\tcoverage: boolean;\r\n\tflagActiveSales: boolean;\r\n\tid_OutletFormat$?: APIOutletFormat;\r\n\tid_OutletFormat?: MDTRecordId;\r\n\tid_LegalEntity$?: APILegalEntity;\r\n\tid_LegalEntity?: MDTRecordId;\r\n\tid_OutletChain$?: APIOutletChain;\r\n\tid_OutletChain?: MDTRecordId;\r\n\tpositions?: any;\r\n}\r\n\r\nexport interface APIOutletChainParent {\r\n\tname: string;\r\n\tnameShort: string;\r\n}\r\n\r\nexport interface APIOutletChain {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n\tnameShort: string;\r\n\tdescription: string;\r\n\tid_OutletChainType$?: APIOutletChainType;\r\n\tid_OutletChainType?: MDTRecordId;\r\n\tid_Parent$?: APIOutletChainParent;\r\n}\r\n\r\nexport interface APIOutletChainType {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n\tcode: string;\r\n}\r\n\r\nexport interface APILegalEntity {\r\n\tid: MDTRecordId;\r\n\tlegalName: string;\r\n\tinn: string;\r\n\tinnDesc: string;\r\n\tkpp: string;\r\n}\r\n\r\nexport interface APIOutletType {\r\n\tid: MDTRecordId;\r\n\tid_mapping_DataSource: MDTRecordId;\r\n\tuid_ds: string;\r\n\tid_mapping_MDT: MDTRecordId;\r\n\tcode: string;\r\n\tname: string;\r\n\ticon: string;\r\n\tmdt_DateCreate: string;\r\n\tuid_UniqueComputed: string;\r\n}\r\n\r\nexport interface APIOutletFormat {\r\n\tid: MDTRecordId;\r\n\tname: string;\r\n}\r\n\r\nexport interface ApiQuestionKPI {\r\n\tid: MDTRecordId;\r\n\t$id: MDTRecordId;\r\n\t$table: string;\r\n\tid_Question: MDTRecordId;\r\n\tid_kpI$: KPI;\r\n}\r\n","import { QrScannerExtension } from \"./scanner/qrScanner\";\r\nimport { BrowserQrScanner } from \"./scanner/browser/BrowserQrCodeScanner\";\r\nimport { DatabaseExtension } from \"./db/dbExtension\";\r\nimport { BrowserDb } from \"./db/browserDb\";\r\nimport { NativeDb } from \"./db/nativeDb\";\r\nimport { NativeQrScanner } from \"./scanner/native/nativeQrScanner\";\r\nimport { QuizStatusBar } from \"./statusBar/statusBar\";\r\nimport { updateManager, quizDraftService, CONFIG } from \"quiz/QuizApp\";\r\nimport { applyCssVars } from \"utils/cssHelpers\";\r\nimport { NativeStatusBarIndent } from \"utils/constants\";\r\nimport { UploadPhoto } from \"./uploadPhoto/models\";\r\nimport { CustomPhotoExtension } from \"./uploadPhoto/CustomPhotoExtension\";\r\nimport { UploadPhotoExtension } from \"./uploadPhoto/UploadPhotoExtension\";\r\n\r\nconst CORDOVA_USER_AGENT = \"ics-cordova\";\r\n\r\nexport enum AppEnvironment {\r\n\tnative = \"native\",\r\n\tbrowser = \"browser\"\r\n}\r\n\r\ninterface Extension {\r\n\tqrScanner: QrScannerExtension;\r\n\tdb: DatabaseExtension;\r\n}\r\n\r\nexport class QuizExtensionService implements Extension {\r\n\treadonly qrScanner: QrScannerExtension;\r\n\treadonly onLogoClick: () => void;\r\n\treadonly statusBar = new QuizStatusBar();\r\n\tuploadPhoto: UploadPhoto;\r\n\tdb: DatabaseExtension;\r\n\tplatform: string;\r\n\r\n\tconstructor() {\r\n\t\tthis.qrScanner =\r\n\t\t\tthis.defineEnvironment === AppEnvironment.browser ? new BrowserQrScanner() : new NativeQrScanner();\r\n\t\tthis.db = new BrowserDb();\r\n\t\tthis.uploadPhoto = new UploadPhotoExtension();\r\n\t}\r\n\r\n\tcustomizeStatusBar() {\r\n\t\tif (window.cordova && cordova.platformId === \"android\") {\r\n\t\t\tapplyCssVars({\r\n\t\t\t\tstatusBarBackgroundColor: QuizStatusBar.defaultStatusBarColor,\r\n\t\t\t\tstatusBarIndent: NativeStatusBarIndent.statusBar,\r\n\t\t\t\tnavbarPhotoBrowserIndent: NativeStatusBarIndent.navbarPhotoBrowser\r\n\t\t\t}); //todo в хук и с темой\r\n\t\t}\r\n\t}\r\n\r\n\tprivate get defineEnvironment(): AppEnvironment {\r\n\t\treturn new RegExp(CORDOVA_USER_AGENT, \"i\").test(navigator.userAgent)\r\n\t\t\t? AppEnvironment.native\r\n\t\t\t: AppEnvironment.browser;\r\n\t}\r\n\r\n\tstartApp(startApp: (onInit?: () => void) => void) {\r\n\t\tthis.defineEnvironment === AppEnvironment.native ? this.initialize(startApp) : startApp();\r\n\t}\r\n\r\n\tprivate initialize(startApp: (onInit?: () => void) => void) {\r\n\t\tdocument.addEventListener(\"deviceready\", this.onDeviceReady.bind(this, startApp), false);\r\n\t}\r\n\r\n\tprivate onDeviceReady(startApp: (onInit?: () => void) => void) {\r\n\t\t(cordova as any).getAppVersion.getVersionNumber(function(version) {\r\n\t\t\tCONFIG.version = version;\r\n\t\t});\r\n\r\n\t\tif (cordova.platformId == \"android\") {\r\n\t\t\tthis.platform = \"android\";\r\n\t\t} else if (cordova.platformId == \"ios\") {\r\n\t\t\tthis.platform = \"ios\";\r\n\t\t}\r\n\r\n\t\tconst update = () => {\r\n\t\t\tupdateManager.checkForUpdate();\r\n\t\t\twindow.codePush.notifyApplicationReady();\r\n\t\t};\r\n\r\n\t\tstartApp(() => {\r\n\t\t\tupdate();\r\n\t\t});\r\n\r\n\t\tdocument.addEventListener(\"resume\", () => {\r\n\t\t\tupdate();\r\n\t\t});\r\n\r\n\t\tthis.customizeStatusBar();\r\n\t\twindow.addEventListener(\"keyboardWillHide\", function() {\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t});\r\n\r\n\t\tif (cordova.platformId === \"android\") {\r\n\t\t\tthis.uploadPhoto = new CustomPhotoExtension();\r\n\t\t}\r\n\t}\r\n}\r\n","import { t, quizExtensionService } from \"quiz/QuizApp\";\r\nimport { Dialog } from \"quiz/components/interaction/Dialog\";\r\nimport { Toast } from \"quiz/components/interaction/toast/Toast\";\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tcodePush: {\r\n\t\t\tcheckForUpdate(onSuccess, onError?, deploymentKey?: string);\r\n\t\t\trestartApplication();\r\n\t\t\tnotifyApplicationReady();\r\n\t\t};\r\n\t}\r\n}\r\n\r\nexport class UpdateManager {\r\n\tcheckForUpdate() {\r\n\t\twindow.codePush.checkForUpdate(this.onSuccess);\r\n\t}\r\n\r\n\tonSuccess(val) {\r\n\t\tif (val) {\r\n\t\t\tconst options = {\r\n\t\t\t\ttitle: t(\"Update the app\"),\r\n\t\t\t\ttext: t(\"A new version of the app has been released, please update\"),\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclose: true,\r\n\t\t\t\t\t\ttext: t(\"Cancel\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: t(\"Update\"),\r\n\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\tonUpdateCheck(val);\r\n\t\t\t\t\t\t\td.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\t\tconst d = Dialog.create(options);\r\n\t\t\td.open();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction onError() {\r\n\tToast.create({\r\n\t\ttype: \"error\",\r\n\t\ttext: t(\"Update error!\")\r\n\t}).open();\r\n}\r\n\r\nfunction onPackageDownloaded(localPackage, close) {\r\n\tlocalPackage.install(() => {\r\n\t\tclose();\r\n\t\twindow.codePush.restartApplication(), onError;\r\n\t});\r\n}\r\n\r\nfunction onUpdateCheck(remotePackage) {\r\n\tif (!remotePackage.failedInstall) {\r\n\t\tconst dialog = Dialog.preloader(t(\"Update preparation\"));\r\n\t\tdialog.open();\r\n\t\tremotePackage.download(localPackage => onPackageDownloaded(localPackage, () => dialog.close()), onError);\r\n\t}\r\n}\r\n","import { DatabaseExtension } from \"./dbExtension\";\r\nimport { openDB } from \"idb\";\r\nimport { QuizDB, draftStoreName, draftFilesStore, visitUploadStore, outletCacheStore } from \"../../QuizDraftService\";\r\n\r\nexport class BrowserDb implements DatabaseExtension {\r\n\tgetDB() {\r\n\t\treturn openDB<QuizDB>(\"Questionnaire_next\", 2, {\r\n\t\t\tupgrade: (db, oldVersion, newVersion, tsx) => {\r\n\t\t\t\tif (tsx.mode == \"versionchange\") {\r\n\t\t\t\t\tif (oldVersion == 0) {\r\n\t\t\t\t\t\tdb.createObjectStore(draftStoreName);\r\n\t\t\t\t\t\tdb.createObjectStore(draftFilesStore);\r\n\t\t\t\t\t\tdb.createObjectStore(visitUploadStore);\r\n\t\t\t\t\t\tdb.createObjectStore(outletCacheStore);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst objects = Array.from(tsx.objectStoreNames);\r\n\t\t\t\t\t\tif (!objects.includes(outletCacheStore)) db.createObjectStore(outletCacheStore);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","import QrReader from \"react-qr-reader\";\r\nimport * as React from \"react\";\r\nimport { QrScannerExtension, QrCodeScannerOptions } from \"../qrScanner\";\r\n\r\nexport class BrowserQrScanner implements QrScannerExtension {\r\n\tscan(onScan: (result: string) => void, onError: (err: any) => void, options?: QrCodeScannerOptions) {\r\n\t\treturn <QrReader onScan={onScan} facingMode=\"environment\" onError={onError} delay={options.onScanDelayMs} />;\r\n\t}\r\n}\r\n","import { QrScannerExtension, QrCodeScannerOptions } from \"../qrScanner\";\r\n\r\nconst backButtonHandler = (event: Event) => {\r\n\tevent.preventDefault();\r\n\tdocument.removeEventListener(\"backbutton\", backButtonHandler, false);\r\n};\r\n\r\nexport class NativeQrScanner implements QrScannerExtension {\r\n\tscan(onScan: (result: string) => void, onError: (err: any) => void, options?: QrCodeScannerOptions) {\r\n\t\tdocument.addEventListener(\"backbutton\", backButtonHandler, false);\r\n\t\twindow.cordova.plugins.barcodeScanner.scan(\r\n\t\t\tresult => {\r\n\t\t\t\tif (!result.cancelled) {\r\n\t\t\t\t\tdocument.removeEventListener(\"backbutton\", backButtonHandler, false);\r\n\t\t\t\t}\r\n\t\t\t\tonScan(result.text);\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tonError(err);\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tdisableAnimations: true,\r\n\t\t\t\tdisableSuccessBeep: true,\r\n\t\t\t\torientation: \"portrait\",\r\n\t\t\t\tresultDisplayDuration: options.onScanDelayMs\r\n\t\t\t}\r\n\t\t);\r\n\t\treturn null;\r\n\t}\r\n}\r\n","import { f7 } from \"framework7-react\";\r\nimport { applyCssVars } from \"utils/cssHelpers\";\r\nimport { quizExtensionService } from \"quiz/QuizApp\";\r\nimport { CustomColors } from \"utils/constants\";\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tStatusBar: { styleDefault(): void; styleLightContent(): void; backgroundColorByName(name: string): void };\r\n\t}\r\n}\r\n\r\nconst textColorWhite = \"white\";\r\nconst bgColorGray = \"#80FFFFFF\";\r\n\r\nexport class QuizStatusBar {\r\n\tpublic static defaultStatusBarColor = \"#ffffff\";\r\n\r\n\thide(): void {\r\n\t\treturn f7.statusbar.hide();\r\n\t}\r\n\r\n\tshow(): void {\r\n\t\treturn f7.statusbar.show();\r\n\t}\r\n\r\n\tsetLightStyle(): void {\r\n\t\tif (window.StatusBar) {\r\n\t\t\twindow.StatusBar?.styleDefault();\r\n\t\t\tquizExtensionService.customizeStatusBar();\r\n\t\t}\r\n\t\tapplyCssVars({ statusBarBackgroundColor: QuizStatusBar.defaultStatusBarColor });\r\n\t\t//todo\r\n\t}\r\n\r\n\tsetDarkStyle(): void {\r\n\t\tif (window.StatusBar) {\r\n\t\t\twindow.StatusBar.styleLightContent();\r\n\t\t\tapplyCssVars({ statusBarBackgroundColor: CustomColors.black });\r\n\t\t}\r\n\t}\r\n\r\n\tsetFullScreen(): void {\r\n\t\tapplyCssVars({\r\n\t\t\t\"--statusBarIndent\": \"0px\"\r\n\t\t});\r\n\t}\r\n\r\n\tsetGrayStyle(): void {\r\n\t\tf7.statusbar.setBackgroundColor(bgColorGray);\r\n\t\tf7.statusbar.setTextColor(textColorWhite);\r\n\t}\r\n}\r\n","import * as React from \"react\";\r\nimport { UploadPhoto, GetUploadButtonParams } from \"./models\";\r\nimport { UploadPhotoButton } from \"./common/uploadPhotoButton/UploadPhotoButton\";\r\nimport { TActions } from \"quiz/components/actions/Actions\";\r\nimport { ActionSheetItem } from \"quiz/components/actionSheetItem/ActionSheetItem\";\r\nimport { t, logger, nav } from \"quiz/QuizApp\";\r\nimport { ChosePhotoButton } from \"./common/choosePhotoButton/ChosePhotoButton\";\r\nimport { prepareFiles } from \"./UploadPhotoExtension\";\r\nimport { LogType } from \"quiz/services/Logger\";\r\nimport { QuizActions } from \"quiz/components/actions/QuizActions\";\r\nimport \"react-html5-camera-photo/build/css/index.css\";\r\n\r\nconst checkPermission = () => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst permissions = (window as any).cordova && (window as any).cordova.plugins.permissions;\r\n\t\tif (permissions) {\r\n\t\t\tpermissions.checkPermission(permissions.CAMERA, function(status) {\r\n\t\t\t\tif (status.hasPermission) {\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpermissions.requestPermission(\r\n\t\t\t\t\t\tpermissions.CAMERA,\r\n\t\t\t\t\t\tstatus => {\r\n\t\t\t\t\t\t\tif (status.hasPermission) {\r\n\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t} else reject(\"Has not camera permissions\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else reject(\"cordova permissions plugin not allowed\");\r\n\t});\r\n}; //toDO refactor\r\n\r\ndeclare global {\r\n\tinterface Navigator {\r\n\t\tcamera: {\r\n\t\t\tgetPicture: (onSuccess: (photos: string) => void, onError: (e: string) => void, options?: any) => void;\r\n\t\t};\r\n\t}\r\n}\r\n\r\nexport class CustomPhotoExtension implements UploadPhoto {\r\n\tgetUploadButton(params: GetUploadButtonParams) {\r\n\t\tconst actionsRef = React.useRef<TActions>();\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<UploadPhotoButton\r\n\t\t\t\t\ticon={[\"far\", \"camera\"]}\r\n\t\t\t\t\tonClick={() => actionsRef.current.open()}\r\n\t\t\t\t\trequired={params.required}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<QuizActions\r\n\t\t\t\t\tref={actionsRef}\r\n\t\t\t\t\tactions={() => (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<ActionSheetItem\r\n\t\t\t\t\t\t\t\ttext={t(\"Take picture\")}\r\n\t\t\t\t\t\t\t\ticon={[\"far\", \"camera\"]}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\treturn checkPermission()\r\n\t\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn nav.toCamera({\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontext: { onTakePhoto: img => params.commonLogic(img) }\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.catch(err =>\r\n\t\t\t\t\t\t\t\t\t\t\tlogger.log(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"camera\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror: err || \"Camera permission error\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tLogType.error\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ChosePhotoButton\r\n\t\t\t\t\t\t\t\tonChange={e => prepareFiles(e, params.commonLogic)}\r\n\t\t\t\t\t\t\t\tbutton={() => <ActionSheetItem text={t(\"Gallery\")} icon={[\"far\", \"images\"]} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import { UploadPhoto, GetUploadButtonParams } from \"./models\";\r\nimport * as React from \"react\";\r\nimport { ChosePhotoButton } from \"./common/choosePhotoButton/ChosePhotoButton\";\r\nimport { uploadHelper } from \"quiz/QuizApp\";\r\nimport { uploadHelperOptions } from \"quiz/components/question/controls/QuestionGalleryControl\";\r\nimport { UploadPhotoButton } from \"./common/uploadPhotoButton/UploadPhotoButton\";\r\n\r\nexport const prepareFiles = async (e: HTMLInputElement, cb: (photos) => Promise<void>) => {\r\n\tconst targetFiles = e.files;\r\n\tconst filteredFiles = uploadHelper.upload(targetFiles, uploadHelperOptions);\r\n\tcb(Array.from(filteredFiles));\r\n};\r\n\r\nexport class UploadPhotoExtension implements UploadPhoto {\r\n\tgetUploadButton(params: GetUploadButtonParams) {\r\n\t\treturn (\r\n\t\t\t<ChosePhotoButton\r\n\t\t\t\tonChange={e => {\r\n\t\t\t\t\tprepareFiles(e, params.commonLogic);\r\n\t\t\t\t}}\r\n\t\t\t\tbutton={() => <UploadPhotoButton icon={[\"far\", \"camera\"]} required={params.required} />}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n","import * as React from \"react\";\r\nimport { CameraIconbar } from \"./cameraIconBar/CameraIconBar\";\r\nimport { quizLocalStorageService, t } from \"quiz/QuizApp\";\r\nimport { Dialog } from \"quiz/components/interaction/Dialog\";\r\n\r\ntype CameraProps = {\r\n\tonTakePhoto: (data: string) => void;\r\n};\r\n\r\ntype CameraState = {\r\n\tconstraints: MediaStreamConstraints;\r\n\tdeviceIdx: number;\r\n\tbuttonsEnable: boolean;\r\n};\r\n\r\nlet currentStream: MediaStream;\r\n\r\nconst cameraOptions = {\r\n\twidth: { ideal: 3264 },\r\n\theight: { ideal: 2160 }\r\n};\r\n\r\nconst cameraLocalId = \"cameraLocalIndex\";\r\n\r\nexport const Camera: React.FC<CameraProps> = props => {\r\n\tconst cameraRef = React.useRef<HTMLVideoElement>();\r\n\tconst [state, setState] = React.useState<CameraState>({\r\n\t\tconstraints: {\r\n\t\t\tvideo: {\r\n\t\t\t\t...cameraOptions\r\n\t\t\t}\r\n\t\t},\r\n\t\tdeviceIdx: 0,\r\n\t\tbuttonsEnable: false //todo: вынести доступность кнопопок в отдельную логику\r\n\t});\r\n\r\n\tconst handleUserMedia = (stream: MediaStream) => {\r\n\t\tif (cameraRef && cameraRef.current) {\r\n\t\t\tcameraRef.current.srcObject = stream;\r\n\t\t\tcameraRef.current.onloadeddata = () => setState(prev => ({ ...prev, buttonsEnable: true }));\r\n\t\t}\r\n\t};\r\n\r\n\tconst stopUserMedia = React.useCallback(() => {\r\n\t\tif (currentStream) {\r\n\t\t\tcurrentStream.getVideoTracks().forEach(track => track.stop());\r\n\t\t\tcurrentStream = null;\r\n\t\t}\r\n\t}, [currentStream]);\r\n\r\n\tconst getStream = (constraints: MediaStreamConstraints) => {\r\n\t\tnavigator.mediaDevices\r\n\t\t\t.getUserMedia(constraints)\r\n\t\t\t.then(stream => {\r\n\t\t\t\tcurrentStream = stream;\r\n\t\t\t\treturn handleUserMedia(currentStream);\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\tthrow e;\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst getLocalDeviceIndex = React.useCallback(() => quizLocalStorageService.get(cameraLocalId), []);\r\n\r\n\tconst getDevicesIds = React.useCallback(async () => {\r\n\t\tconst devices = await navigator.mediaDevices.enumerateDevices();\r\n\t\tconst deviceIds = devices.filter(d => d.kind === \"videoinput\").map(d => d.deviceId);\r\n\t\treturn deviceIds;\r\n\t}, []);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst deviceIndex = +getLocalDeviceIndex();\r\n\t\tsetState(prev => ({ ...prev, buttonsEnable: false }));\r\n\r\n\t\tgetDevicesIds()\r\n\t\t\t.then(d => {\r\n\t\t\t\t// eslint-disable-next-line promise/always-return\r\n\t\t\t\tif (deviceIndex != null) {\r\n\t\t\t\t\tgetStream({ video: { deviceId: { exact: d[deviceIndex] }, ...cameraOptions } });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgetStream(state.constraints);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\tgetStream(state.constraints);\r\n\t\t\t\tthrow e;\r\n\t\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\tstopUserMedia();\r\n\t\t};\r\n\t}, [state.deviceIdx]);\r\n\r\n\tconst getPhotoData = React.useCallback((): string => {\r\n\t\tconst video = cameraRef.current;\r\n\r\n\t\tconst canvasWidth = video.videoWidth;\r\n\t\tconst canvasHeight = video.videoHeight;\r\n\r\n\t\tconst canvas = document.createElement(\"canvas\");\r\n\t\tcanvas.width = canvasWidth;\r\n\t\tcanvas.height = canvasHeight;\r\n\t\tconst ctx = canvas.getContext(\"2d\");\r\n\r\n\t\tctx.drawImage(video, 0, 0, canvasWidth, canvasHeight);\r\n\r\n\t\treturn canvas.toDataURL(\"image/jpeg\");\r\n\t}, [cameraRef.current]);\r\n\r\n\tconst takePhoto = React.useCallback(() => {\r\n\t\tconst data = getPhotoData();\r\n\t\tdata && props.onTakePhoto(data);\r\n\t}, []);\r\n\r\n\tconst changeCamera = React.useCallback(async () => {\r\n\t\tconst devices = await navigator.mediaDevices.enumerateDevices();\r\n\t\tconst deviceIds = devices.filter(d => d.kind === \"videoinput\").map(d => d.deviceId);\r\n\r\n\t\tconst currentIndex = +getLocalDeviceIndex() || 0;\r\n\r\n\t\tconst nextIndex = currentIndex + 1;\r\n\t\tconst idx = nextIndex > deviceIds.length - 1 ? 0 : nextIndex;\r\n\r\n\t\tawait quizLocalStorageService.set(cameraLocalId, idx.toString());\r\n\r\n\t\tsetState(prev => ({\r\n\t\t\t...prev,\r\n\t\t\tdeviceIdx: idx\r\n\t\t}));\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<video autoPlay muted playsInline ref={cameraRef} style={{ width: \"100%\" }}></video>\r\n\t\t\t</div>\r\n\t\t\t<CameraIconbar\r\n\t\t\t\tonSwitchCamera={() => currentStream && changeCamera()}\r\n\t\t\t\tonTakePhoto={() => cameraRef.current?.srcObject && state.buttonsEnable && takePhoto()}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n","import * as React from \"react\";\r\nimport { TakePhotoButton } from \"../takePhotoButton/TakePhotoButton\";\r\nimport { SwitchCameraButton } from \"../switchCameraButton/SwitchCameraButton\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getCameraIconBarStyles } from \"./cameraIconBarStyles\";\r\n\r\nexport const iconsSize = \"75px\";\r\n\r\ntype CameraIconBarProps = {\r\n\tonTakePhoto: () => void;\r\n\tonSwitchCamera: () => void;\r\n};\r\n\r\nexport const CameraIconbar: React.FC<CameraIconBarProps> = React.memo(props => {\r\n\tconst style = useStyles(getCameraIconBarStyles);\r\n\r\n\treturn (\r\n\t\t<div className={css(style.wrap)}>\r\n\t\t\t<div className={css(style.row)}>\r\n\t\t\t\t<div className={css(style.tab)}></div>\r\n\t\t\t\t<div className={css(style.takePhoto)}>\r\n\t\t\t\t\t<TakePhotoButton onClick={() => props.onTakePhoto()} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={css(style.tab)}>\r\n\t\t\t\t\t<div className={css(style.switchCameraWrap)}>\r\n\t\t\t\t\t\t<SwitchCameraButton onClick={() => props.onSwitchCamera()} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\nCameraIconbar.displayName = \"CameraIconBar\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getCameraIconBarStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\twidth: \"100%\",\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tbottom: theme.sizing.sizes.lg,\r\n\t\t\toverflow: \"hidden\"\r\n\t\t} as CSSProp,\r\n\r\n\t\trow: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp,\r\n\t\tswitchCameraWrap: {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tright: \"50%\",\r\n\t\t\tbottom: \"50%\",\r\n\t\t\ttransform: \"translate(50%, 50%)\",\r\n\t\t\tzIndex: theme.zIndex.appBar\r\n\t\t} as CSSProp,\r\n\t\ttab: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\tflexGrow: 1\r\n\t\t} as CSSProp,\r\n\t\ttakePhoto: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tjustifyContent: \"center\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { nav } from \"quiz/QuizApp\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getCameraNavbarStyles } from \"./cameraNavbarStyles\";\r\n\r\nexport const CameraNavbar: React.FC = React.memo(() => {\r\n\tconst styles = useStyles(getCameraNavbarStyles);\r\n\r\n\treturn (\r\n\t\t<div className={css(styles.wrap)}>\r\n\t\t\t<div onClick={() => nav.back()} className={css(styles.iconWrap)}>\r\n\t\t\t\t<i className=\"icon icon-back color-white\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\nCameraNavbar.displayName = \"CameraNavbar\";\r\n","import { Theme } from \"theme/theme\";\r\nimport { CSSProp } from \"wraps/styleCreators\";\r\nimport { scale, ScaleEnum } from \"utils/cssHelpers\";\r\nimport { CustomColors } from \"utils/constants\";\r\n\r\nexport const getCameraNavbarStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\twrap: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tbackgroundColor: CustomColors.black\r\n\t\t} as CSSProp,\r\n\t\ticonWrap: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\tpaddingTop: scale(theme.sizing.sizes.xs, ScaleEnum.Triple),\r\n\t\t\tpaddingBottom: scale(theme.sizing.sizes.xs, ScaleEnum.Triple),\r\n\t\t\tpaddingLeft: theme.constants.gridPadding\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { Image } from \"quiz/components/image/Image\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getSwitchCameraButtonStyles } from \"./getSwitchCameraButtonStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\n\r\nconst cameraIcon = require(\"./switchButton.svg\");\r\n\r\ntype SwitchCameraButtonProps = {\r\n\tonClick: () => void;\r\n};\r\n\r\nexport const SwitchCameraButton: React.FC<SwitchCameraButtonProps> = React.memo(props => {\r\n\tconst styles = useStyles(getSwitchCameraButtonStyles);\r\n\r\n\treturn (\r\n\t\t<div onClick={props.onClick} className={css(styles.wrap)}>\r\n\t\t\t<Image src={cameraIcon} styles={styles.icon} />\r\n\t\t</div>\r\n\t);\r\n});\r\nSwitchCameraButton.displayName = \"SwitchCameraButton\";\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getSwitchCameraButtonStyles = () => {\r\n\tconst size = \"28px\";\r\n\tconst wrapSize = \"58px\";\r\n\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: size,\r\n\t\t\twidth: size\r\n\t\t} as CSSProp,\r\n\t\twrap: {\r\n\t\t\twidth: wrapSize,\r\n\t\t\theight: wrapSize,\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tbackground: \"rgba(24, 59, 74, 0.24)\",\r\n\t\t\tborderRadius: \"50%\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","module.exports = __webpack_public_path__ + \"fonts/switchButton.svg\";","import * as React from \"react\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { getTakePhotoButtonStyles } from \"./takePhotoButtonStyles\";\r\n\r\ntype TakePhotoButtonProps = {\r\n\tonClick: () => void;\r\n};\r\n\r\nexport const TakePhotoButton: React.FC<TakePhotoButtonProps> = React.memo(props => {\r\n\tconst styles = useStyles(getTakePhotoButtonStyles);\r\n\r\n\treturn (\r\n\t\t<div onClick={props.onClick} className={css(styles.wrap)}>\r\n\t\t\t<div className={css(styles.outerCircle)}>\r\n\t\t\t\t<div className={css(styles.innerCircle)}></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\nTakePhotoButton.displayName = \"TakePhotoButton\";\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\nimport { iconsSize } from \"../cameraIconBar/CameraIconBar\";\r\nimport { Theme } from \"theme/theme\";\r\n\r\nexport const getTakePhotoButtonStyles = (theme: Theme) => {\r\n\tconst common: CSSProp = {\r\n\t\tposition: \"absolute\",\r\n\t\tborderRadius: \"50%\"\r\n\t};\r\n\r\n\treturn {\r\n\t\touterCircle: {\r\n\t\t\t...common,\r\n\t\t\theight: iconsSize,\r\n\t\t\twidth: iconsSize,\r\n\t\t\tbackgroundColor: \"hsla(0,0%,100%,.4)\",\r\n\t\t\tzIndex: 1\r\n\t\t} as CSSProp,\r\n\t\tinnerCircle: {\r\n\t\t\t...common,\r\n\t\t\tleft: \"50%\",\r\n\t\t\ttop: \"38px\",\r\n\t\t\theight: \"44px\",\r\n\t\t\twidth: \"44px\",\r\n\t\t\tbackground: \"#fff\",\r\n\t\t\tmargin: \"-22px 0 0 -22px\",\r\n\t\t\tzIndex: 2\r\n\t\t} as CSSProp,\r\n\t\twrap: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\theight: iconsSize,\r\n\t\t\twidth: iconsSize\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { Page } from \"framework7-react\";\r\nimport { nav } from \"quiz/QuizApp\";\r\nimport { CSSProp, css } from \"wraps/styleCreators\";\r\nimport { CustomColors } from \"utils/constants\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { PageNotFound } from \"quiz/pages/pageNotFound/PageNotFound\";\r\nimport { Camera } from \"../camera/Camera\";\r\nimport { CameraNavbar } from \"../camera/cameraNavbar/CameraNavbar\";\r\n\r\nexport type CustomCameraProps = {\r\n\tcontext: { onTakePhoto: (dataUri: string[]) => void };\r\n};\r\n\r\nconst cameraPageStyles = () => ({\r\n\tcontent: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexFlow: \"column\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"flex-start\",\r\n\t\theight: \"100%\",\r\n\t\twidth: \"100%\",\r\n\t\tbackgroundColor: CustomColors.black\r\n\t} as CSSProp\r\n});\r\n\r\nexport const CameraPage: React.FC<CustomCameraProps> = React.memo(props => {\r\n\tconst style = useStyles(cameraPageStyles);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{props.context != null ? (\r\n\t\t\t\t<Page className=\"photo-browser-page photo-browser-page-dark no-toolbar pb-tweaks\">\r\n\t\t\t\t\t<CameraNavbar />\r\n\t\t\t\t\t<div className={css(style.content)}>\r\n\t\t\t\t\t\t<Camera\r\n\t\t\t\t\t\t\tonTakePhoto={data => {\r\n\t\t\t\t\t\t\t\tprops.context.onTakePhoto([data]);\r\n\t\t\t\t\t\t\t\tnav.back();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Page>\r\n\t\t\t) : (\r\n\t\t\t\t<PageNotFound />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n});\r\nCameraPage.displayName = \"CameraPage\";\r\n","import * as React from \"react\";\r\nimport { css } from \"wraps/styleCreators\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { uploadHelperOptions } from \"quiz/components/question/controls/QuestionGalleryControl\";\r\nimport { getChoosePhotoButtonStyles } from \"./choosePhotoButtonStyles\";\r\n\r\ntype ChosePhotoButtonProps = {\r\n\tbutton(): React.ReactElement;\r\n\tonChange: (e: HTMLInputElement) => void;\r\n};\r\n\r\nexport const ChosePhotoButton: React.FC<ChosePhotoButtonProps> = props => {\r\n\tconst styles = useStyles(getChoosePhotoButtonStyles);\r\n\r\n\treturn (\r\n\t\t<label className={css(styles.label)}>\r\n\t\t\t{props.button()}\r\n\t\t\t<input\r\n\t\t\t\tclassName={css(styles.input)}\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\tonChange={e => {\r\n\t\t\t\t\tprops.onChange && props.onChange(e.target as HTMLInputElement);\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={e => ((e?.target as HTMLInputElement).value = null)}\r\n\t\t\t\tmultiple\r\n\t\t\t\taccept={uploadHelperOptions.types.join(\",\")}\r\n\t\t\t/>\r\n\t\t</label>\r\n\t);\r\n};\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\n\r\nexport const getChoosePhotoButtonStyles = () => {\r\n\treturn {\r\n\t\tinput: {\r\n\t\t\twidth: \"0.1px\",\r\n\t\t\theight: \"0.1px\",\r\n\t\t\topacity: 0,\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\tposition: \"absolute\"\r\n\t\t} as CSSProp,\r\n\t\tlabel: {\r\n\t\t\tdisplay: \"inherit\"\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import * as React from \"react\";\r\nimport { QuestionActionButton } from \"quiz/components/question/common/questionActionButton/QuestionActionButton\";\r\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { useStyles } from \"hooks/useStyles\";\r\nimport { getUploadPhotoButtonStyles } from \"./uploadPhotoButtonStyles\";\r\nimport { QstContext } from \"quiz/components/question/common/QstContext\";\r\n\r\ntype UploadPhotoButtonProps = {\r\n\ttext?: string;\r\n\ticon: IconProp;\r\n\trequired: boolean;\r\n\tonClick?: () => void;\r\n};\r\n\r\nexport const UploadPhotoButton: React.FC<UploadPhotoButtonProps> = props => {\r\n\tconst styles = useStyles(getUploadPhotoButtonStyles);\r\n\tconst ctx = React.useContext(QstContext);\r\n\r\n\treturn (\r\n\t\t<QuestionActionButton\r\n\t\t\ticon={props.icon}\r\n\t\t\ttext={props.text || \"Upload Photo\"}\r\n\t\t\tonClick={() => props.onClick && props.onClick()}\r\n\t\t\ticonStyles={ctx.attachPhotoIsValid ? null : styles.danger}\r\n\t\t\t{...(props.required ? { iconRight: [\"fas\", \"asterisk\"], iconRightStyles: styles.asteriksIcon } : null)}\r\n\t\t/>\r\n\t);\r\n};\r\n","import { CSSProp } from \"wraps/styleCreators\";\r\nimport { Theme } from \"theme/theme\";\r\n\r\nexport const getUploadPhotoButtonStyles = (theme: Theme) => {\r\n\treturn {\r\n\t\tasteriksIcon: {\r\n\t\t\tfontWeight: theme.sizing.fontWeights.bold,\r\n\t\t\tfontSize: theme.sizing.sizes.sm,\r\n\t\t\tcolor: theme.colors.danger.main\r\n\t\t} as CSSProp,\r\n\t\tdanger: {\r\n\t\t\tcolor: theme.colors.danger.main\r\n\t\t} as CSSProp\r\n\t};\r\n};\r\n","import { IconProp } from \"@fortawesome/fontawesome-svg-core\";\r\n\r\nexport enum QuestionAttachPhoto {\r\n\tNone = \"N\",\r\n\tAvailable = \"A\",\r\n\tRequired = \"R\"\r\n}\r\n\r\nexport enum AnswerType {\r\n\tNumber = \"N\",\r\n\tText = \"T\",\r\n\tOneOption = \"O\",\r\n\tManyOptions = \"M\",\r\n\tBoolean = \"B\",\r\n\tAttachPhoto = \"F\",\r\n\tScanQrCode = \"Q\",\r\n\tScanQrCodeWithHideText = \"Y\"\r\n}\r\n\r\nexport type ID = number | string;\r\n\r\ninterface Record {\r\n\tid: ID;\r\n}\r\n\r\ninterface Sortable {\r\n\tsortOrder?: number;\r\n}\r\n\r\ninterface Nameable {\r\n\tname: string;\r\n}\r\n\r\nexport interface IQuestionnaire extends Record, Nameable {\r\n\tcode: string;\r\n\tdescription?: string;\r\n\tflagSignature?: boolean;\r\n\tquestions: IQuestion[];\r\n\tprevVisit?: Visit;\r\n}\r\n\r\nexport interface IQuestion extends Record, Sortable, Nameable {\r\n\tdescription?: string;\r\n\tflagAnswerRequired?: boolean;\r\n\tanswerType: AnswerType;\r\n\tquestionAttachPhoto?: QuestionAttachPhoto;\r\n\tflagComment?: boolean;\r\n\titems?: IQuestionItem[];\r\n\timages?: IQuestionImage[];\r\n\tsortOrder?: number;\r\n\t// required for save\r\n\tid_mdt_ObjectListItems?: ID;\r\n\tkpi?: KPI[];\r\n}\r\n\r\nexport interface IQuestionItem extends Record, Sortable, Nameable {\r\n\tgroup?: string;\r\n\tid_mdt_ObjectListItems?: number | string;\r\n}\r\n\r\nexport interface IQuestionImage {\r\n\tid?: ID;\r\n\tfileId?: ID;\r\n\tuid?: string;\r\n}\r\n\r\nexport type QuestionValue = boolean | number | string | ID | Object | any[];\r\n\r\nexport type Visit = {\r\n\tid?: ID;\r\n\tdateBegin?: Date;\r\n\tdateEnd?: Date;\r\n\tdateSubmitLocal?: Date;\r\n\tcomment?: string;\r\n\tcommentSignature?: string;\r\n\toutletId: ID;\r\n\tquestionnaireId: ID;\r\n\tquestionnaire?: IQuestionnaire;\r\n\toutlet?: OutletFullData;\r\n\temployeeId?: ID;\r\n\temployee?: Employee;\r\n\tsignatureFile?: string;\r\n\tsignatureId?: ID;\r\n\tsignatureUid?: string;\r\n\tanswers?: VisitAnswer[];\r\n\telapsedSeconds?: number;\r\n\tlatitude?: number;\r\n\tlongitude?: number;\r\n\tlatitudeEnd?: number;\r\n\tlongitudeEnd?: number;\r\n\tflagRoute?: boolean;\r\n};\r\n\r\nexport type VisitAnswer = {\r\n\tquestionId: ID;\r\n\tquestion?: IQuestion;\r\n\tquestionnaireId: ID;\r\n\tanswerType: AnswerType;\r\n\titems: VisitAnswerItem[];\r\n\tcomment?: string;\r\n\tfiles?: VisitAnswerFile[];\r\n\t// required for progressBar\r\n\tviewed?: boolean;\r\n};\r\n\r\nexport type VisitAnswerFile = {\r\n\tid?: ID;\r\n\tfileId?: ID;\r\n\tdraftFileId?: ID;\r\n\tvisitAnswerId?: ID;\r\n\tdata?: any;\r\n\tuid?: string;\r\n};\r\n\r\nexport type VisitAnswerItem = {\r\n\tid?: ID;\r\n\tvalue?: any;\r\n\tanswer?: string;\r\n};\r\n\r\nexport interface Employee extends Nameable {\r\n\tid: ID;\r\n\tpositionName?: string;\r\n}\r\n\r\nexport interface OutletChainParent {\r\n\tname: string;\r\n\tnameShort: string;\r\n}\r\n\r\nexport interface OutletChain extends Record, Nameable {\r\n\ttype: string;\r\n\tnameShort: string;\r\n\tparent: OutletChainParent;\r\n}\r\n\r\nexport interface LegalEntity extends Record, Nameable {\r\n\tinn: string;\r\n}\r\n\r\nexport interface Outlet extends Record, Nameable {\r\n\tcode?: string;\r\n\ticonName?: IconProp | string;\r\n\taddress: string;\r\n\tphone?: string;\r\n\ttype?: string;\r\n\tformat?: string;\r\n\tlegalEntity?: LegalEntity;\r\n\toutletChain?: OutletChain;\r\n\temployees?: Employee[];\r\n}\r\n\r\nexport interface OutletFullData extends Outlet {\r\n\tdistance?: string | number;\r\n\tflagQuestionnairesEmpty?: boolean;\r\n\temployee?: Employee; //todo: remove?\r\n\tlastVisit?: Visit;\r\n\tflagVisited?: boolean;\r\n}\r\n\r\nexport type Position = {\r\n\tlatitude: number;\r\n\tlongitude: number;\r\n};\r\n\r\nexport enum KPIType {\r\n\tDefect = \"DF\"\r\n}\r\n\r\nexport interface KPI {\r\n\tname: string;\r\n\ttype: KPIType;\r\n}\r\n\r\nexport interface UserSettings extends Record {\r\n\tflagAcceptPrivacyPolicy?: boolean;\r\n\tid_mdt_Principal?: number;\r\n}\r\n","import { MDTApiClient } from \"mdtApiClient/mdtApiClient\";\r\n\r\nconst DEFAULTS = {\r\n\t\"Empty list\": \"Список пуст\",\r\n\tQuestionnaire: \"Анкета\",\r\n\tQuestionnaires: \"Анкеты\",\r\n\tOutlet: \"Торговая точка\",\r\n\t\"Outlet not found or you do not have access\": \"Торговая точка не найдена или у вас нет доступа\",\r\n\t\"Delete draft\": \"Удалить черновик\",\r\n\tReport: \"Отчет\",\r\n\t\"Outlet Information\": \"Информация о торговой точке\",\r\n\tToday: \"Сегодня\",\r\n\tAnswer: \"Ответ\",\r\n\tComment: \"Комментарий\",\r\n\tPhotos: \"Фотографии\",\r\n\tRescan: \"Отсканировать ещё раз\",\r\n\t\"QR code scanned\": \"QR-код отсканирован\",\r\n\t\"QR code successfully recognized\": \"QR-код успешно распознан\",\r\n\t\"Camera error\": '\"Ошибка работы с камерой\"',\r\n\t\"Camera unavailable. Please enable application access to the camera in the settings\":\r\n\t\t'\"Камера недоступна. Пожалуйста, включите доступ приложения к камере в настройках\"',\r\n\t\"QR code unsupported\": \"Поддержка QR-кода недоступна\",\r\n\t\"No profiles\": \"Нет анкет\",\r\n\t\"Answer required\": \"Ответ обязателен\",\r\n\t\"Comment required\": \"Комментарий обязателен\",\r\n\t\"File attachment error\": \"Ошибка прикладывания файла\",\r\n\t\"One or more files didn't pass the validity check!\": \"Один или несколько файлов не соответствуют требованиям!\",\r\n\t\"File extension should be one of\": \"Допустимые форматы файлов:\",\r\n\t\"File size should be\": \"Размер файла должен быть\",\r\n\t\"more than\": \"больше чем\",\r\n\tand: \"и\",\r\n\t\"less than\": \"меньше чем\",\r\n\t\"No questionnaires\": \"Анкеты отсутствуют\",\r\n\tVisited: \"Посещенные\",\r\n\t\"Legal Entity\": \"Юридическое лицо\",\r\n\tChain: \"Сеть\",\r\n\t\"Chain type\": \"Тип сети\",\r\n\t\"Outlet type\": \"Тип торговой точки\",\r\n\tINN: \"ИНН\",\r\n\tClosest: \"Ближайшие\",\r\n\t\"Image preparation\": \"Подготовка изображений\",\r\n\t\"Unsent Reports\": \"Неотправленные отчеты\",\r\n\t\"Search result\": \"Результат поиска\",\r\n\t\"Questionnaire finished!\": \"Анкета отправлена!\",\r\n\t\"Upload Photo\": \"Добавить фото\",\r\n\t\"Scan the QR-Code\": \"Отсканируйте QR-код\",\r\n\tOptional: \"Опционально\",\r\n\t\"Visit report\": \"Отчет по визиту\",\r\n\tDuration: \"Продолжительность\",\r\n\t\"Photo required\": \"Фото обязательно\",\r\n\tVersion: \"Версия\",\r\n\t\"Change Password\": \"Смена пароля\",\r\n\tHome: \"Главная страница\",\r\n\t\"Enter a new password\": \"Введите новый пароль\",\r\n\t\"Repeat new password\": \"Повторите новый пароль\",\r\n\tSignature: \"Подпись\",\r\n\t\"Place for signature\": \"Место для подписи\",\r\n\t\"License agreement\": \"Лицензионное соглашение\",\r\n\t\"Privacy policy\": \"Политика конфиденциальности\",\r\n\t\"Enter a number\": \"Введите число\",\r\n\t\"Enter the current password\": \"Введите текущий пароль\",\r\n\t\"Wait a bit ...\": \"Подождите немного ...\",\r\n\t\"Enter full name\": \"Введите Фамилию, Имя, Отчество\",\r\n\t\"Visit synchronization error\": \"Ошибка синхронизации отчета\",\r\n\tRetry: \"Повторить\",\r\n\tDelete: \"Удалить\",\r\n\t\"Visit save failed!\": \"Не удалось сохранить отчет!\",\r\n\t\"{failed} of {total} photos failed to upload.\": \"Не удалось загрузить {failed} из {total} фото.\",\r\n\tVisits: \"Визиты\",\r\n\tComplain: \"Пожаловаться\",\r\n\t\"Render error\": \"Ошибка рендера\",\r\n\t\"Nothing found\": \"Ничего не найдено\",\r\n\tSend: \"Отправить\",\r\n\tSuccess: \"Успех\",\r\n\t\"Excellent!\": \"Отлично\",\r\n\tof: \"из\",\r\n\t\"Enter an answer *\": \"Введите ответ *\",\r\n\t\"Enter a number *\": \"Введите число *\",\r\n\t\"Please enter a password\": \"Пожалуйста, введите пароль\",\r\n\t\"Please enter an email\": \"Пожалуйста, введите email\",\r\n\t\"Please enter email and password\": \"Пожалуйста, введите e-mail и пароль\",\r\n\t\"No internet connection\": \"Нет подключения к интернету\",\r\n\tReview: \"Отзыв\",\r\n\t\"Forgot password\": \"Забыли пароль\",\r\n\tkm: \"км\",\r\n\tmeter: \"м\",\r\n\t\"Update preparation\": \"Загрузка обновления\",\r\n\t\"Update the app\": \"Обновить приложение\",\r\n\t\"A new version of the app has been released, please update\":\r\n\t\t\"Вышла новая версия приложения, пожалуйста, обновитесь\",\r\n\t\"Failed to send feedback\": \"Не удалось отправить отзыв\",\r\n\t\"Visits history\": \"История визитов\",\r\n\t\"Questionnaire draft was saved\": \"Черновик анкеты сохранен\",\r\n\t\"Report sync...\": \"Отправка анкеты...\",\r\n\t\"Hide visited\": \"Скрыть посещенные\",\r\n\tGallery: \"Галерея\",\r\n\t\"Take picture\": \"Cфотографировать\",\r\n\tPhone: \"Телефон\",\r\n\t\"Page not found\": \"Cтраница не найдена\",\r\n\t\"Are you sure you want to delete the draft?\": \"Вы уверены, что хотите удалить черновик?\",\r\n\t\"Questionnaire draft was deleted\": \"Черновик анкеты удалён\",\r\n\t\"Restore password\": \"Восстановить пароль\",\r\n\t\"For example\": \"Например\",\r\n\t\"Mass 39\": \"риг лен 39\",\r\n\t\"Start entering the first letters of the point of sale attributes:\":\r\n\t\t\"Начните вводить первые буквы атрибутов торговой точки:\", //todo\r\n\t\"outlet name\": \"название торговой точки\",\r\n\t\"chain name\": \"сеть\",\r\n\t\"legal entity name\": \"наименование юр. лица\",\r\n\taddress: \"адрес\",\r\n\t\"employee name\": \"имя сотрудника\",\r\n\t\"code of outlet\": \"код торговой точки\",\r\n\t\"Only my outlets\": \"Только мои точки\",\r\n\tReset: \"Сбросить\",\r\n\tChoose: \"Выбрать\",\r\n\t\"Choose language\": \"Выбрать язык\",\r\n\t\"Offline mode\": \"Оффлайн режим\",\r\n\t\"Saving questionnaires\": \"Сохранение анкет\",\r\n\t\"Failed to save questionnaires\": \"Не удалось сохранить анкеты\",\r\n\t\"Qusetionnaires saved, left\": \"Анкеты сохранены, осталось\",\r\n\tmin: \"мин\",\r\n\t\"Interface language\": \"Язык интерфейса\",\r\n\t\"There are no questions in the questionnaire\": \"Вопросы в анкете отсутствуют\",\r\n\t\"Access error\": \"Ошибка доступа\",\r\n\t\"Failed to save photos of visit!\": \"Не удалось сохранить фотографии визита!\",\r\n\t\"Check your internet connection\": \"Проверьте ваше интернет соединение\",\r\n\t\"Please enter\": \"Пожалуйста, введите\",\r\n\t\"Are you sure you want to exit the application?\": \"Вы уверены, что хотите выйти из приложения?\",\r\n\tExit: \"Выход\",\r\n\tLogout: \"Выйти\",\r\n\t\"Error getting questionnaire\": \"Ошибка получения анкеты\",\r\n\t\"Share of missing items\": \"Доля отсутствующих товаров\",\r\n\t\"Common info\": \"Общая информация\",\r\n\t'By clicking the \"Register\" button you accept': 'Нажимая кнопку \"Зарегистрироваться\" вы принимаете',\r\n\t\"Privacy Policy\": \"Политику конфиденциальности\",\r\n\tAccept: \"Принять\",\r\n\tReject: \"Отклонить\",\r\n\tFAQ: \"Часто задаваемые вопросы\",\r\n\t\"The visit will not be counted as part of the route\": \"Визит не будет засчитан в рамках маршрута\",\r\n\t\"Set signature\": \"Поставить подпись\",\r\n\t\"The server may be overloaded now. Try to repeat request again\":\r\n\t\t\"Возможно сервер сейчас перегружен. Попробуйте повторить запрос ещё раз\",\r\n\t\"Data retrieval error\": \"Ошибка получения данных\",\r\n\t\"Failed to determine location\": \"Не удалось определить местоположение\",\r\n\t\"Allow geolocation in app settings to determine location\":\r\n\t\t\"Разрешите геолокацию в настройках приложения для определения местоположения\",\r\n\t\"Device location not available. Check your geolocation settings on device\":\r\n\t\t\"Местоположение устройства недоступно. Проверьте настройки геолокации на устройстве\",\r\n\t\"Failed to get location. Check your geolocation settings on device\":\r\n\t\t\"Не удалось получить местоположение. Проверьте настройки геолокации на устройстве\",\r\n\t\"No category\": \"Без категории\",\r\n\tPrevious: \"Предыдущий\",\r\n\tFinish: \"Завершить\",\r\n\t\"Check required items\": \"Отметьте необходимые пункты\",\r\n\t\"Select options\": \"Выберите варианты\",\r\n\t\"Need to select one of the options\": \"Необходимо выбрать один из вариантов\",\r\n\t\"Need to add at least one photo\": \"Необходимо добавить хотя бы одно фото\",\r\n\t\"Need to scan QR-code\": \"Необходимо отсканировать QR-код\",\r\n\t\"Need enter a numeric\": \"Необходимо ввести число\",\r\n\t\"Need enter a text\": \"Необходимо ввести текст\",\r\n\t\"Wating for connection ...\": \"Ожидание соединения ...\",\r\n\t\"Terms of use\": \"Пользовательское соглашение\",\r\n\t\"A letter will be sent to the specified e-mail address with a link to reset password and install a new one\":\r\n\t\t\"На указанный e-mail будет отправлено письмо с ссылкой для сброса пароля и установки нового\",\r\n\t\"Enter e-mail\": \"Введите e-mail\",\r\n\tRegistration: \"Регистрация\",\r\n\t\"Register now\": \"Зарегистрироваться\",\r\n\t\"Personal data\": \"Личные данные\",\r\n\t\"Enter your name\": \"Введите имя\",\r\n\t\"A letter with a link to confirm registration will be sent to the specified e-mail\":\r\n\t\t\"На указанный e-mail будет отправлено письмо с ссылкой для подтверждения регистрации\",\r\n\tAuthorization: \"Авторизация\",\r\n\tEnter: \"Войти\",\r\n\t\"Enter password\": \"Введите пароль\",\r\n\t\"Your registration application has been successfully sent and is awaiting consideration by the administrator\":\r\n\t\t\"Ваша заявка на регистрацию успешно отправлена и ожидает рассмотрения администратором\",\r\n\t\"Your registration application is awaiting confirmation by administrator\":\r\n\t\t\"Ваша заявка на регистрацию ожидает подтверждения администратором\",\r\n\t\"Application sent\": \"Заявка отправлена\",\r\n\t\"Registration confirmation\": \"Подтверждение регистрации\",\r\n\t\"The letter has been sent to your mail\": \"Письмо отправлено на вашу почту\"\r\n};\r\n\r\nexport type Lang = {\r\n\tID: number;\r\n\tCode: string;\r\n\tTitle: string;\r\n};\r\n\r\nexport class TextService {\r\n\tdictionary = {};\r\n\tavailableLangs: Lang[] = [];\r\n\r\n\tconstructor(private apiClient: MDTApiClient) {}\r\n\r\n\tinit() {\r\n\t\treturn this.getLanguageDict();\r\n\t}\r\n\r\n\tgetLanguageDict(): Promise<{}> {\r\n\t\treturn this.apiClient\r\n\t\t\t.request(\"fetch/mdt.TextValue\", {\r\n\t\t\t\tselect: \"ID_TextKey/Code as $key, Value as $value\",\r\n\t\t\t\tfilter: \"ID_Language eq 'ID_CURRENT_LANGUAGE'\",\r\n\t\t\t\ttop: 1000\r\n\t\t\t} as Object)\r\n\t\t\t.then(MDTApiClient.handleAPIError)\r\n\t\t\t.then(r => r.json())\r\n\t\t\t.then(d => {\r\n\t\t\t\tthis.dictionary = { ...((d[0] && d[0].Dict) || {}) };\r\n\t\t\t\treturn this.dictionary;\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetAvailableLanguages(): Promise<Lang[]> {\r\n\t\treturn this.apiClient\r\n\t\t\t.request(\"fetch/mdt.Language\", {\r\n\t\t\t\tselect: \"*\"\r\n\t\t\t} as Object)\r\n\t\t\t.then(MDTApiClient.handleAPIError)\r\n\t\t\t.then(r => r.json())\r\n\t\t\t.then(d => {\r\n\t\t\t\tthis.availableLangs =\r\n\t\t\t\t\t(d[0] &&\r\n\t\t\t\t\t\td[0].Rows.map(lang => ({\r\n\t\t\t\t\t\t\tID: lang.ID,\r\n\t\t\t\t\t\t\tCode: lang.Code,\r\n\t\t\t\t\t\t\tTitle: lang.Title\r\n\t\t\t\t\t\t}))) ||\r\n\t\t\t\t\t[];\r\n\t\t\t\treturn this.availableLangs;\r\n\t\t\t});\r\n\t}\r\n\r\n\tsetQuizLocalDict(langId: number) {\r\n\t\tconst currentLang = this.availableLangs.find(lang => lang.ID == langId);\r\n\t\tif (currentLang?.Code == \"en\") {\r\n\t\t\tconst enDict = Object.keys(DEFAULTS).reduce((dict, current) => {\r\n\t\t\t\treturn { ...dict, current };\r\n\t\t\t}, {});\r\n\t\t\treturn (this.dictionary = { ...this.dictionary, ...enDict });\r\n\t\t}\r\n\t\treturn (this.dictionary = { ...this.dictionary, ...DEFAULTS });\r\n\t}\r\n\r\n\tt(v: string, args?: Object): string {\r\n\t\tconst s = v != null ? this.dictionary[v.trim()] || v : v;\r\n\t\tif (!args) return s;\r\n\r\n\t\tconst items = s.split(/\\{(\\w+)\\}/);\r\n\t\tconst res = [];\r\n\t\tfor (let i = 0; i < items.length; i++) {\r\n\t\t\tlet item = items[i];\r\n\t\t\tif (i % 2 == 1) {\r\n\t\t\t\tconst val = args[items[i]];\r\n\t\t\t\tif (val instanceof Array) item = \"(\" + val.join(\", \") + \")\";\r\n\t\t\t\telse item = val;\r\n\t\t\t}\r\n\t\t\tres.push(item);\r\n\t\t}\r\n\t\treturn res.join(\"\").replace(/\\*\\*/g, \"\");\r\n\t}\r\n\r\n\tprivate translationExp = /^(\\s*)(.+?)(\\s*)$/;\r\n\t//fn for replacing message strings with translations\r\n\ttemplateFn = (literals, ...args): string => {\r\n\t\treturn literals.reduce((str, v, idx) => {\r\n\t\t\tconst res = this.translationExp.exec(v);\r\n\t\t\tif (res?.length) v = `${res[1]}${this.t(res[2])}${res[3]}`;\r\n\t\t\treturn (str += v + (args[idx] ?? \"\"));\r\n\t\t}, \"\");\r\n\t};\r\n}\r\n/*\r\n(empty): \"(пусто)\"\r\nA new version of the application has been detected. Update the app: \"Обнаружена новая версия приложения. Обновите приложение\"\r\nA user with this e-mail already exists: \"Пользователь с таким E-mail уже существует\"\r\nA user with this login already exists: \"Пользователь с таким логином уже существует\"\r\nAND: \"И\"\r\nAbout: \"О программе\"\r\nAbout App: \"О программе\"\r\nAccess denied: \"Доступ запрещён\"\r\nAction: \"Действие\"\r\nActions: \"Действия\"\r\nActive only: \"Только активные\"\r\nAdd: \"Добавить\"\r\nAdd field: \"Добавить поле\"\r\nAdd file: \"Добавить файл\"\r\nAdd group: \"Добавить группу\"\r\nAdd new column: \"Добавить новый столбец\"\r\nAdd object: \"Добавить объект\"\r\nAdd permission: \"Добавить разрешение\"\r\nAdd tag: \"Добавить тег\"\r\nAdding photos required: \"Добавление фотографии обязательно\"\r\nAddress: \"Адрес\"\r\nAddress Accuracy: \"Точность адреса\"\r\nAddress Completeness: \"Полнота адреса\"\r\nAddress complete: \"Полный адрес\"\r\nAddress field: \"Поле с адресом\"\r\nAddress not filled: \"Адрес не заполнен\"\r\nAddress not found!: \"Адрес не найден!\"\r\nAddress outdated!: \"Адрес устарел!\"\r\nAddress partially filled: \"Адрес заполнен частично\"\r\nAdministration: \"Администрирование\"\r\nAdministrator blocked: \"Заблокировано администратором\"\r\nAll: \"Все\"\r\nAll changes will be saved!: \"Все изменения будут сохранены!\"\r\nAll my outlets: \"Все мои точки\"\r\nAll records: \"Все записи\"\r\nAll source records: \"Все записи источников\"\r\nAlways enabled (form state ignored): \"Всегда доступен (состояние формы игнорируется)\"\r\nAnother outlet: \"Другая точка\"\r\nAnother outlet...: \"Другая точка...\"\r\nApplications: \"Приложения\"\r\nApply: \"Применить\"\r\nApr: \"Апр\"\r\nApril: \"Апрель\"\r\nAre you sure: \"Вы уверены\"\r\nAre you sure you want to copy these records?: \"Вы уверены, что хотите скопировать эти записи?\"\r\nAre you sure you want to copy this record?: \"Вы уверены, что хотите скопировать эту запись?\"\r\nAre you sure you want to delete the visit without the possibility of recovery?: \"Вы действительно хотите удалить визит без возможности восстановления?\"\r\nAre you sure you want to delete these records?: \"Вы уверены, что хотите удалить эти записи?\"\r\nAre you sure you want to delete this record?: \"Вы уверены, что хотите удалить эту запись?\"\r\nAre you sure you want to delete this tag?: \"Вы уверены, что хотите удалить этот тег?\"\r\nAre you sure? All unsaved data will be lost!: \"Вы уверены? Все несохраненные данные будут потеряны!\"\r\nArguments: \"Аргументы\"\r\nAscending: \"По возрастанию\"\r\nAttention!: \"Внимание!\"\r\nAudit: \"Журнал\"\r\nAudit record doesn't exist!: \"Запись в журнале не существует!\"\r\nAug: \"Авг\"\r\nAugust: \"Август\"\r\nBack: \"Назад\"\r\nBack to login: \"Назад\"\r\nBind: \"Привязать\"\r\nBind records: \"Записи для привязки\"\r\nBind to: \"Привязать к\"\r\nBinding dimension: \"Измерения привязки\"\r\nBinding filters: \"Фильтры привязки\"\r\nBinding remains as is: \"Привязка останется как есть\"\r\nBinding table: \"Таблица привязок\"\r\nBinding will be closed: \"Привязка будет закрыта\"\r\nBinding will be delete: \"Привязка будет удалена\"\r\nBindings: \"Привязки\"\r\nBonuses: \"Бонусы\"\r\nBound: \"Привязанные\"\r\nBound in another period: \"Привязанные в другом периоде\"\r\nBound to another period: \"Привязанные к другому периоду\"\r\nBound to current structure: \"Привязанные к текущей структуре\"\r\nBound!: \"Привязано!\"\r\nBrand: \"Бренды\"\r\nBug fixes: \"Исправления ошибок\"\r\nCache update time: \"Дата обновления кэша\"\r\nCamera error: \"Ошибка работы с камерой\"\r\nCamera unavailable. Please enable application access to the camera in the settings: \"Камера недоступна. Пожалуйста, включите доступ приложения к камере в настройках\"\r\nCan't create control for field: **{field}**.: \"Невозможно создать элемент управления для поля **{field}**.\"\r\nCan't create control!: \"Невозможно создать элемент управления!\"\r\nCan't create route: \"Не удалось создать маршрут\"\r\nCancel: \"Отмена\"\r\nCancel can not be performed.: \"Отмена будет невозможна.\"\r\nCancel changes: \"Отменить изменения\"\r\nCannot find field **{code}** in table **{table}**!: \"Не удалось найти поле **{code}** в таблице **{table}**!\"\r\nCannot find field **{field}** from path **{path}** in table **{table}**!: \"Не удалось найти поле **{field}** по пути **{path}** в таблице **{table}**!\"\r\nCannot find one2many field for table **{refTable}** in table **{table}**!: \"Не удалось найти поле один-ко-многим к таблице **{refTable}** из таблицы **{table}**!\"\r\nCannot reorder elements! Not all records are loaded in list: \"Невозможно изменить порядок элементов! Список загружен не полностью!\"\r\nCannot select more than {count} records: \"Невозможно выбрать больше чем {count} записей\"\r\nChange: \"Изменить\"\r\nChange password: \"Изменить пароль\"\r\nChanges will be lost. Are you sure?: \"Изменения будут потеряны. Вы уверены?\"\r\nChoose an action that needs to be done with an unsaved visit: \"Выберите действие, что необходимо сделать с несохраненным визитом\"\r\nChoose main record: \"Выберите главную запись\"\r\nCity area: \"Округ города\"\r\nCity district: \"Район города\"\r\nClaim request: \"Сформировать запрос\"\r\nClean: \"Очистить\"\r\nClear: \"Очистить\"\r\nClear all filters: \"Очистить все фильтры\"\r\nClear filters: \"Очистить фильтры\"\r\nClientType: \"Тип клиента\"\r\nClose: \"Закрыть\"\r\nClose position: \"Закрыть позицию\"\r\nClose since: \"Закрыть с\"\r\nClosest outlets: \"Ближайшие точки\"\r\nCode: \"Код\"\r\nCodeJDE: \"Код JDE\"\r\nCollapse group: \"Свернуть группу\"\r\nColumn mapping: \"Соответствия колонок\"\r\nColumns: \"Поля\"\r\nColumns are not mapped: \"Соответствия колонок не заполнены\"\r\nComment: \"Отзыв\"\r\nComplete: \"Завершить\"\r\nCompletion time: \"Время завершения\"\r\nConfirm new password: \"Подтверждение нового пароля\"\r\nConfirm password: \"Подтверждение пароля\"\r\nConfirmation: \"Подтверждение\"\r\nConflicted records: \"Конфликтующие записи\"\r\nConnection error: \"Проблемы с соединением\"\r\nConstructor: \"Конструктор\"\r\nContains: \"Содержит\"\r\nContinue?: \"Продолжить?\"\r\nContractChain: \"Сеть контракта\"\r\nContractClause: \"Пункт договора\"\r\nContractLegalEntity: \"ЮЛ Контракта\"\r\nContractManager: \"Отв. Менеджер\"\r\nContractNumber: \"Номер Контракта\"\r\nContractStatus: \"Статус контракта\"\r\nContract_LegalEntity: \"Контракт список ЮЛ\"\r\nControl \"{name}\" doesn't exist!: \"Элемент управления \"{name}\" не существует!\"\r\nControl not found for type: **{type}**: \"Невозможно определить элемент управления для типа: **{type}**\"\r\nCoordinates: \"Координаты\"\r\nCopied!: \"Скопировано!\"\r\nCopy: \"Скопировать\"\r\nCopy all: \"Скопировать все\"\r\nCopy into route: \"Скопировать в маршрут\"\r\nCopy into routes: \"Скопировать в маршруты\"\r\nCopy link: \"Скопировать ссылку\"\r\nCopy linked records: \"Копировать связанные\"\r\nCopy route: \"Скопировать маршрут\"\r\nCopy routes: \"Скопировать маршруты\"\r\nCopy unavailable: new or modified records selected: \"Копирование невозможно: выделены новые или измененные записи\"\r\nCorrection of coordinates: \"Коррекция координат\"\r\nCountry: \"Страна\"\r\nCreate and map: \"Создать и связать\"\r\nCreate new primary record: \"Создать новую основную запись\"\r\nCreate route: \"Задать маршрут\"\r\nCreated: \"Дата создания\"\r\nCreated {datetime}: \"Создано {datetime}\"\r\nCreated {datetime} by {user}: \"Создано {datetime} пользователем {user}\"\r\nCycle: \"Цикл\"\r\nData will be sent: \"Данные будут отправлены\"\r\nDatabase0AlreadyExists: \"База данных #0 уже существует\"\r\nDatabase0DoesNotExists: \"Database #0 not found\"\r\nDatasource records: \"Записи источников\"\r\nDate end: \"Дата окончания\"\r\nDate start: \"Дата начала\"\r\nDateContractBegin: \"Дата начала действия контракта\"\r\nDateContractEnd: \"Дата окончания действия контракта\"\r\nDay: \"День\"\r\nDebug info: \"Отладочная информация\"\r\nDec: \"Дек\"\r\nDecember: \"Декабрь\"\r\nDefault status: \"Статус по умолчанию\"\r\nDefault value: \"Значения по умолчанию\"\r\nDelete: \"Удалить\"\r\nDelete binding: \"Удалить привязку\"\r\nDelete linked records: \"Удалить связанные\"\r\nDelete routes: \"Удалить маршруты\"\r\nDelete row: \"Удалить строку\"\r\nDeleteAttention: \"**Внимание!** Операция удаления необратима.\"\r\nDeleteConfirm: \"Вы хотите удалить их?\"\r\nDeleted!: \"Удалено!\"\r\nDeleting: \"Удаление\"\r\nDescription: \"Описание\"\r\nDetails: \"Подробности\"\r\nDimension filters: \"Фильтры измерения\"\r\nDimensions: \"Измерения\"\r\nDisplay Processing status: \"Показывать статус обработки\"\r\nDisplay address completeness status: \"Показать статус заполнения адреса\"\r\nDisplay details by default: \"По умолчанию открывать детали\"\r\nDisplay map by default: \"По умолчанию открывать карту\"\r\nDown: \"Вниз\"\r\nDownload: \"Скачать\"\r\nDownload all: \"Скачать всё\"\r\nDownload image: \"Скачать изображение\"\r\nDownload images: \"Скачать изображения\"\r\nEdit: \"Редактировать\"\r\nEdit tag: \"Редактировать тег\"\r\nEditing answer: \"Корректировка ответа\"\r\nEmploye: \"Сотрудник\"\r\nEmployee: \"Сотрудник\"\r\nEmployees: \"Сотрудники\"\r\nEnglish: \"Английский\"\r\nEnqueued!: \"Поставлено в очередь!\"\r\nEnter a comment: \"Введите комментарий\"\r\nEnter all the answers: \"Введите ответы на все вопросы\"\r\nEnter an answer: \"Введите ответ\"\r\nEnter outlet chain name: \"Введите название сети\"\r\nEnter the address or responsible person for the outlet: \"Введите адрес или ответственного за торговую точку\"\r\nEnter your comment: \"Введите свой отзыв\"\r\nEnter your feedback here: \"Введите здесь свой отзыв\"\r\nError: \"Ошибка\"\r\nError data sent successfully: \"Технические данные об ошибке успешно отправлены\"\r\nError in App: \"Ошибка в приложении\"\r\nError in Quiz App: \"Ошибка в приложении Quiz\"\r\nError!: \"Ошибка!\"\r\nError_Description: \"Описание ошибки\"\r\nExcel file: \"Excel файл\"\r\nExecuted!: \"Выполнено!\"\r\nExecution result: \"Результат выполнения\"\r\nExisting primary record: \"Существующая основная запись\"\r\nExpand group: \"Развернуть группу\"\r\nExport: \"Экспорт\"\r\nExtended filter: \"Расширенный фильтр\"\r\nFIAS: \"ФИАС\"\r\nFIAS Address Accuracy: \"Точность адреса (ФИАС)\"\r\nFIAS Address Completeness: \"Полнота адреса (ФИАС)\"\r\nFIAS Status: \"Статус (ФИАС)\"\r\nFIAS filters: \"Фильтры по ФИАС\"\r\nFK to source table: \"FK к таблице-источнику\"\r\nFK to target table: \"FK к целевой таблице\"\r\nFailed to load image!: \"Не удалось загрузить изображение!\"\r\nFatal error occurred: \"Произошла фатальная ошибка\"\r\nFeb: \"Фев\"\r\nFebruary: \"Февраль\"\r\nFeedback: \"Обратная связь\"\r\nFeedback sent!: \"Отзыв отправлен!\"\r\nFeedback successfully sent: \"Отзыв успешно отправлен\"\r\nField: \"Поле\"\r\nField0NotFoundInTable1: \"Поле #0 в таблице #1 не найдено.\"\r\nField **{field}** from path **{path}** in table **{table}** isn't FK!: \"Поле **{field}** по пути **{path}** из таблицы **{table}** не является внешним ключом!\"\r\nField **{field}** has no reference table!: \"Поле **{field}** не имеет ссылки на таблицу!\"\r\nField **{field}** is not one-to-one field!: \"Поле **{field}** не является полем связи один-к-одному!\"\r\nField cannot be empty: \"Поле не может быть пустым\"\r\nField control not found for type: **{type}**: \"Невозможно определить элемент управления для типа: **{type}**\"\r\nField was not found: \"Поле не найдено\"\r\nFieldPath: \"Поле по пути\"\r\nFile: \"Файл\"\r\nFile **{file}** was not loaded: \"Файл **{file}** не загружен\"\r\nFile **{file}** was successfully loaded: \"Файл **{file}** успешно загружен\"\r\nFile extension: \"Расширение файла\"\r\nFile is empty: \"Файл пустой\"\r\nFile was successfully imported: \"Файл был успешно загружен\"\r\nFiles: \"Файлы\"\r\nFill out the required fields!: \"Заполните обязательные поля!\"\r\nFilter: \"Фильтр\"\r\nFilter values: \"Значения фильтра\"\r\nFilters: \"Фильтры\"\r\nFind: \"Найти\"\r\nFire: \"Уволить\"\r\nFire employee: \"Уволить сотрудника\"\r\nFlag Deleted: \"На удаление\"\r\nFolderNumber: \"Номер папки\"\r\nFollow the instructions in the letter to set a password: \"Следуйте инструкциям в письме для установки пароля\"\r\nFollow the link in e-mail to set a password: \"Следуйте инструкциям в письме для установки пароля\"\r\nForgot password?: \"Забыли пароль?\"\r\nForgot your password?: \"Забыли ваш пароль?\"\r\nForm Designer: \"Дизайнер формы\"\r\nForm invalid!: \"Форма заполнена неверно!\"\r\nFrequency: \"Частота\"\r\nFri: \"Пт\"\r\nFriday: \"Пятница\"\r\nFull name: \"Полное имя\"\r\nFull-text search: \"Полнотекстовый поиск\"\r\nFunction filters: \"Фильтры по функциям\"\r\nGeography: \"География\"\r\nGeography Point Accuracy: \"Точность координат\"\r\nGeography Type: \"Тип географии\"\r\nGroup0NotFound: \"Группа #0 не найдена\"\r\nGroups: \"Группы\"\r\nGroups and Roles: \"Группы и роли\"\r\nHas not been selected: \"Не был выбран\"\r\nHide details: \"Скрыть детали\"\r\nHide details by default: \"По умолчанию скрывать детали\"\r\nHide map: \"Скрыть карту\"\r\nHide visited: \"Скрывать посещенные\"\r\nHierarchical: \"Иерархический\"\r\nHierarchy view type: \"Тип отображения иерархии\"\r\nHire: \"Нанять\"\r\nHire employee: \"Нанять сотрудника\"\r\nHistory of changes: \"История изменений\"\r\nHoliday: \"Выходной\"\r\nHome page: \"Домашняя страница\"\r\nIN: \"В\"\r\nINN: \"ИНН\"\r\nIdea: \"Идея\"\r\nImpersonate: \"Имперсонация\"\r\nImport: \"Загрузить\"\r\nImport completed!: \"Импорт завершен!\"\r\nImport contracts: \"Загрузка контрактов\"\r\nImport error: \"Ошибка импорта\"\r\nImport errors: \"Ошибки импорта\"\r\nImport result: \"Результат загрузки\"\r\nImport template must be specified: \"Шаблон должен быть задан\"\r\nImport to {Table}: \"Загрузка в {Table}\"\r\nIn stock: \"В наличии\"\r\nIn your browser, the application may not work correctly. Please, for the application to work correct: \"В вашем браузере приложение может работать некорректно. Пожалуйста, для корректной работы приложения скачайте браузер Google Chrome\"\r\nInactive record: \"Запись неактивна\"\r\nInclude technical details: \"Включить технические детали\"\r\nIncomplete visits: \"Незавершенные визиты\"\r\nIndex0NotFoundInTable1: \"Индекс #0 в таблице #1 не найдено.\"\r\nInformation: \"Информация\"\r\nInpossible to copy: \"Невозможно скопировать\"\r\nInvalid CSV file format: \"Неправильный формат CSV файла\"\r\nInvalid file format: \"Неправильный формат файла\"\r\nInvalid settings value for parameter \"{code}\" in \"mdt.Settings\". {error}: \"Некорректное значение для параметра \"{code}\" в \"mdt.Settings\". {error}\"\r\nInvalidJson: \"Ошибочные json-данные\"\r\nInvitation sent!: \"Приглашение послано\"\r\nInvitation was successfully sent: \"Приглашение успешно послано\"\r\nIs missing: \"Отсутствует\"\r\nJSON Designer: \"Дизайнер JSON\"\r\nJan: \"Янв\"\r\nJanuary: \"Январь\"\r\nJul: \"Июл\"\r\nJuly: \"Июль\"\r\nJun: \"Июн\"\r\nJune: \"Июнь\"\r\nLanguage: \"Язык\"\r\nLast answer: \"Последний ответ\"\r\nLast visit: \"Последний визит\"\r\nLegalEntity: \"Юр.Лицо\"\r\nLegend: \"Легенда\"\r\nLevel: \"Уровень\"\r\nLike: \"Нравится\"\r\nLimit!: \"Предел!\"\r\nLine: \"Строка\"\r\nLink copied to clipboard: \"Ссылка скопирована в буфер обмена\"\r\nLink sent!: \"Ссылка послана\"\r\nLink to main record: \"Привязать к основной\"\r\nList Form Common Settings: \"Общие настройки\"\r\nList Form Personal Settings: \"Персональные настройки\"\r\nList doesn't have columns!: \"В списке нет колонок!\"\r\nList doesn't support displaying xml data! Field: {field}.: \"Отображение данных в формате xml не поддерживается. Поле: {field}.\"\r\nList form settings: \"Настройка списка\"\r\nList view settings: \"Настройки списка\"\r\nLive Status: \"Активность\"\r\nLoad: \"Загрузка\"\r\nLoad more...: \"Загрузить еще...\"\r\nLoading: \"Загрузка\"\r\nLoading...: \"Загрузка...\"\r\nLocalization: \"Локализация\"\r\nLocation: \"Местоположение\"\r\nLog in: \"Вход\"\r\nLog off: \"Выйти\"\r\nLogin: \"Логин\"\r\nLogout: \"Выход\"\r\nMain record: \"Основная запись\"\r\nMake key: \"Сделать ключом\"\r\nManage: \"Управление\"\r\nManage bindings: \"Управление привязками\"\r\nManage current bindings: \"Изменить текущие привязки\"\r\nManage navigation: \"Управление навигацией\"\r\nManager's signature: \"Подпись заведующего\"\r\nMap: \"Связать\"\r\nMap with existing record: \"Связать с существующей основной записью\"\r\nMapped source records: \"Привязанные записи источников\"\r\nMapped!: \"Связано!\"\r\nMapping: \"Связывание данных\"\r\nMapping filters: \"Фильтры для связывания\"\r\nMar: \"Мар\"\r\nMarch: \"Март\"\r\nMatched records: \"Отфильтрованные записи\"\r\nMaximum file length is {length}Mb: \"Максимальный размер файла {length}Мб\"\r\nMay: \"Май\"\r\nMerge: \"Объединить\"\r\nMerge positions: \"Объединить позиции\"\r\nMerged!: \"Объединено!\"\r\nMessage: \"Сообщение\"\r\nMinimum **digit** count is **{Count}**: \"Минимальное количество **цифр** **{Count}**\"\r\nMinimum **lowercase** character count is **{Count}**: \"Минимальное количество **строчных** букв **{Count}**\"\r\nMinimum **symbol** count is **{Count}**: \"Минимальное количество **специальных** символов **{Count}**\"\r\nMinimum **uppercase** character count is **{Count}**: \"Минимальное количество **заглавных** букв **{Count}**\"\r\nMinimum password **length** is **{Count}** characters: \"Минимальное **количество** символов **{Count}**\"\r\nModify...: \"Изменить...\"\r\nModule: \"Модуль\"\r\nMon: \"Пн\"\r\nMonday: \"Понедельник\"\r\nMore: \"Ещё\"\r\nMove: \"Переместить\"\r\nMove employee: \"Переместить сотрудника\"\r\nMove position: \"Переместить позицию\"\r\nName: \"Имя\"\r\nNameEN: \"Английское Наименование\"\r\nNameRU: \"Русское наименование\"\r\nNamed filters: \"Именованные фильтры\"\r\nNavigation successfully updated: \"Навигация успешно обновлена\"\r\nNavigation updated!: \"Навигация обновлена!\"\r\nNew password: \"Новый пароль\"\r\nNew route created: \"Новый маршрут создан\"\r\nNext: \"Следующий\"\r\nNext Month: \"Следующий месяц\"\r\nNo: \"Нет\"\r\nNo answer: \"Нет ответа\"\r\nNo available questionnaires found: \"Доступные анкеты не найдены\"\r\nNo changes: \"Нет изменений\"\r\nNo changes to revert: \"Нет изменений, которые можно отменить\"\r\nNo data to export: \"Нет данных для экспорта\"\r\nNo employees: \"Нет сотрудников\"\r\nNo filters: \"Нет фильтров\"\r\nNo outlets found: \"Торговые точки не найдены\"\r\nNo questionnaires available: \"Нет доступных анкет\"\r\nNo questionnaires found: \"Анкеты не найдены\"\r\nNo results found for your request: \"По вашему запросу ничего не найдено\"\r\nNo route: \"Нет маршрута\"\r\nNo visits: \"Нет посещений\"\r\nNoOneFieldSelectedInTable0: \"Не выбрано ни одного поля в таблице #0\"\r\nNoPermissionToTable0: \"У вас нет доступа к таблице #0 для выполнение данного действия\"\r\nNot bound: \"Непривязанные\"\r\nNot linked only: \"Только несвязанные\"\r\nNot mapped only: \"Только несвязанные\"\r\nNothing to update: \"Нет записей для обновления\"\r\nNotifications: \"Уведомления\"\r\nNov: \"Ноя\"\r\nNovember: \"Ноябрь\"\r\nNumber of outlets: \"Кол-во точек\"\r\nOR: \"ИЛИ\"\r\nObject {code} not found: \"Объект {code} не найден\"\r\nOct: \"Окт\"\r\nOctober: \"Октябрь\"\r\nOld password: \"Старый пароль\"\r\nOnly for existing records: \"Только для существующих записей\"\r\nOnly raw records: \"Только необработанные записи\"\r\nOops! Something gone wrong... (Type of question and answer do not occur): \"Упс! Что-то пошло не так... (Тип вопроса и ответа не совпадают)\"\r\nOpen: \"Открыть\"\r\nOpen position: \"Открыть позицию\"\r\nOption: \"Опция\"\r\nOut and not mapped: \"Несвязанные и итоговые\"\r\nOut only: \"Только итоговые\"\r\nOut records: \"Итоговые записи\"\r\nOutlet chains: \"Розничные сети\"\r\nOutlet not found: \"Торговая точка не найдена\"\r\nOutletChain: \"Сеть\"\r\nOutlets: \"Торговые точки\"\r\nOutlets for questioning: \"Точки для анкетирования\"\r\nPage controls: \"Настройка страниц\"\r\nParent: \"Родитель\"\r\nPassword: \"Пароль\"\r\nPassword cannot repeat your previous password: \"Пароль должен отличаться от предыдущего\"\r\nPassword changed!: \"Пароль изменён!\"\r\nPassword expiration: \"Срок действия пароля\"\r\nPassword expiration!: \"Срок действия пароля!\"\r\nPassword was successfully changed: \"Пароль успешно изменён\"\r\nPasswords must match: \"Пароли должны совпадать\"\r\nPaste screenshots from the clipboard or drag files into the text field: \"Вставьте скриншоты из буфера обмена или перетащите файлы в текстовое поле\"\r\nPath: \"Путь\"\r\nPick: \"Выбрать\"\r\nPick icon: \"Выбрать иконку\"\r\nPick record: \"Выберите запись\"\r\nPick records: \"Выберите записи\"\r\nPlain: \"Простой\"\r\nPlease contact administrator to obtain permissions!: \"Пожалуйста, свяжитесь с администратором для получения доступа!\"\r\nPlease enable device location in the settings or select the outlet manually: \"Пожалуйста, включите функцию определения местоположения устройства в настройках или выберите точку вручную\"\r\nPlease enter a signature transcript: \"Пожалуйста, введите расшифровку подписи\"\r\nPlease select cycle and position: \"Пожалуйста, выберите цикл и позицию\"\r\nPlease select cycle and position!: \"Пожалуйста, выберите цикл и позицию!\"\r\nPlease select filter value...: \"Пожалуйста, выберите значение в фильтре...\"\r\nPlease try again later: \"Попробуйте позже\"\r\nPlease, enter a login: \"Пожалуйста, введите логин\"\r\nPlease, enter a password: \"Пожалуйста, введите пароль\"\r\nPosition close date: \"Дата закрытия позиции\"\r\nPositions: \"Позиции\"\r\nPositions and employees: \"Позиции и сотрудники\"\r\nPostal Code: \"Индекс\"\r\nPrev: \"Предыдущий\"\r\nPreview: \"Предварительный просмотр\"\r\nPrevious Month: \"Предыдущий месяц\"\r\nPrimary record: \"Главная запись\"\r\nPrincipal types: \"Тип учетной записи\"\r\nPrint: \"Распечатать\"\r\nPrint images: \"Распечатать изображения\"\r\nProblem: \"Проблема\"\r\nProcess: \"Обработать\"\r\nProcess of determining the coordinates of the location...: \"Идет процесс определения координат местоположения\"\r\nProduct Brand: \"Продукт Бренд\"\r\nProduct Category: \"Продукт Категория\"\r\nProduct Segment: \"Продукт Сегмент\"\r\nProduct SubCategory: \"Продукт Подкатегория\"\r\nProfile: \"Профиль\"\r\nProgram error: \"Ошибка программы\"\r\nProvider did not return address description.: \"Провайдер не вернул данные по выбранному адресу.\"\r\nQR code scanned: \"QR-код отсканировн\"\r\nQR code successfully recognized: \"QR-код успешно распознан\"\r\nQuestion: \"Вопрос\"\r\nQuestionnaire: \"Анкета\"\r\nRecord: \"Запись\"\r\nRecord Count: \"Количество записей\"\r\nRecord doesn't exist! Maybe it was deleted. Please refresh data and try again.: \"Запись не существует! Возможно она была удалена. Попробуйте обновить страницу.\"\r\nRecord was deleted, therefore it cannot be updated: \"Запись удалена, поэтому не может быть сохранена\"\r\nRecord was successfully bound: \"Запись успешно привязана\"\r\nRecord was successfully copied: \"Запись успешно скопирована\"\r\nRecord was successfully deleted: \"Запись успешно удалена\"\r\nRecord was successfully saved: \"Запись успешно сохранена\"\r\nRecord was successfully unbound: \"Записи успешно отвязаны\"\r\nRecord with id: {id} doesn't exist in table {tableCode}!: \"Запись с id: {id} не существует в таблице {tableCode}!\"\r\nRecord(s) were successfully copied!: \"Записи успешно скопированы\"\r\nRecord(s) were successfully deleted!: \"Записи успешно удалены\"\r\nRecords were successfully copied!: \"Записи успешно скопированы\"\r\nRecords were successfully mapped: \"Записи успешно связаны\"\r\nRecords were successfully merged: \"Записи успешно объединены\"\r\nRecords were successfully unmapped: \"Записи успешно развязаны\"\r\nReferenced record doesn't exist: \"Связанная запись не существует\"\r\nReferenced record is not unique: \"Связанная запись не уникальна\"\r\nRefresh: \"Обновить\"\r\nRegion: \"Регион\"\r\nRegion Code: \"Код региона\"\r\nRegionRB: \"Регион РБ\"\r\nRegister: \"Зарегистрироваться\"\r\nRegistration: \"Зарегестрироваться\"\r\nRegistration completed: \"Регистрация завершена\"\r\nRegistration is complete: \"Регистрация завершена\"\r\nRegistration is disabled: \"Регистрация запрещена\"\r\nReload: \"Обновить\"\r\nRemain: \"Оставить\"\r\nRemove: \"Удалить\"\r\nReopen position: \"Переоткрыть позицию\"\r\nReplace: \"Заменить\"\r\nReport: \"Отчет\"\r\nReport a bug: \"Сообщить об ошибке\"\r\nReport type: \"Тип отзыва\"\r\nReprop type: \"Тип отзыва\"\r\nRescan: \"Отсканировать ещё раз\"\r\nReset password: \"Сброс пароля\"\r\nRestore row: \"Восстановить строку\"\r\nRevert: \"Вернуть\"\r\nReview: \"Просмотр\"\r\nRoles: \"Роли\"\r\nRotate left: \"Повернуть влево\"\r\nRotate right: \"Повернуть вправо\"\r\nRoute: \"Маршрут\"\r\nRoute on target cycle already exist and can't be deleted: \"Маршрут на планируемый цикл уже существует и не может быть удален\"\r\nRoute status: \"Статус маршрута\"\r\nRoute time transfer updated!: \"Время перемещения между точками обновлено!\"\r\nRoute will be copied: \"Маршрут будет скопирован\"\r\nRoutes: \"Маршруты\"\r\nRow: \"Строка\"\r\nRow count: \"Количество строк\"\r\nRun: \"Запустить\"\r\nRussian: \"Русский\"\r\nSat: \"Сб\"\r\nSaturday: \"Суббота\"\r\nSave: \"Сохранить\"\r\nSave all changes in the table?: \"Сохранить изменения?\"\r\nSave and close: \"Сохранить и закрыть\"\r\nSave as new: \"Сохранить как новый\"\r\nSave as...: \"Сохранить как...\"\r\nSave form: \"Сохранить форму\"\r\nSave form before switching language: \"Сохраните форму перед переключением языка\"\r\nSave list form: \"Сохранить форму списка\"\r\nSave password: \"Сохранить пароль\"\r\nSaved successfully!: \"Сохранено успешно!\"\r\nSaved!: \"Сохранено!\"\r\nSchema error: \"Ошибка в схеме\"\r\nSearch: \"Поиск\"\r\nSecurity: \"Настройки доступа\"\r\nSelect: \"Выбрать\"\r\nSelect language: \"Выберите язык\"\r\nSelect questionnaire: \"Выбрать анкету\"\r\nSend: \"Отправить\"\r\nSend error report: \"Отправить отчёт об ошибке\"\r\nSend feedback: \"Отправить отзыв\"\r\nSend invitation: \"Послать приглашение\"\r\nSend mail: \"Отправить письмо\"\r\nSend selected ids: \"Отправить выбранные ids\"\r\nSend technical information about the error so that our specialists can understand it: \"Отправьте технические данные об ошибке для того, чтобы наши специалисты с ней разобрались\"\r\nSept: \"Сен\"\r\nSeptember: \"Сентябрь\"\r\nServer error: \"Ошибка сервера\"\r\nServer is not responding: \"Сервер не отвечает\"\r\nService sending technical errors in the application is not configured: \"Служба отправки технических ошибок в приложении не настроена\"\r\nSet password: \"Установка пароля\"\r\nSet status: \"Проставить статус\"\r\nSettings: \"Настройки\"\r\nShare of the defect: \"Доля дефектуры\"\r\nShortened meter: \"м\"\r\nShow details: \"Показать детали\"\r\nShow map: \"Показать карту\"\r\nShow on: \"Показать на\"\r\nSignature block: \"Блок подписи\"\r\nSignature not filled. Are you sure that you want to send a questionnaire without a signature: \"Подпись не заполнена. Вы уверены, что хотите отправить анкету без подписи?\"\r\nSignature transcript (full name): \"Расшифровка подписи (ФИО)\"\r\nSize: \"Размер\"\r\nSkip link: \"Пропустить связь\"\r\nSkip new records: \"Пропускать новые записи\"\r\nSorry, there are no questions in the questionnaire. Contact administrator: \"Извините, в анкете отсутствуют вопросы. Обратитесь к администратору\"\r\nSorry, this questionnaire is not available to you at the moment: \"Извините, в данный момент анкета вам недоступна\"\r\nSort ascending A → Z: \"Сортировать по возрастанию А → Я\"\r\nSort descending Z → A: \"Сортировать по убыванию Я → А\"\r\nSorting: \"Сортировка\"\r\nSource (CSV or XLS(X) file): \"Источник (CSV или XLS(X) файл)\"\r\nSource only: \"Только записи источника\"\r\nSource records: \"Записи источника\"\r\nSource table: \"Таблица-источник\"\r\nSpecified address couldn't be found in FIAS dictionary. Please try to find it manually.: \"Выбранный адрес не найден в справочнике ФИАС. Попробуйте найти его вручную.\"\r\nSpecified address is outdated. Please try to provide the actual one.: \"Выбранный адрес устарел. Попробуйте указать актуальный адрес.\"\r\nSplit page: \"Разделить страницу\"\r\nSplitVersion: \"Версия сплита\"\r\nStatus: \"Статус\"\r\nStatus History: \"Журнал изменения статусов\"\r\nStatus changed!: \"Статус изменён!\"\r\nStatus undefined: \"Статус не определён\"\r\nStatus was changed successfully: \"Статус успешно изменён!\"\r\nStatusComment: \"Комментарий\"\r\nStatusCommentModal: \"Изменение статуса\"\r\nStructure and Employees: \"Структура и сотрудники\"\r\nSuccessfully enqueued {length} tasks: \"В очередь добавлено {length} задач\"\r\nSuggestions: \"Предложения\"\r\nSun: \"Вс\"\r\nSunday: \"Воскресение\"\r\nSupport: \"Поддержка\"\r\nSure you want to rollback all unsaved changes in the table?: \"Вы уверены, что хотите отменить все несохраненные изменения?\"\r\nTable: \"Таблица\"\r\nTable0NotFound: \"Таблица #0 не найдена.\"\r\nTable settings: \"Настройка таблицы\"\r\nTable was not found: \"Таблица не найдена\"\r\nTags: \"Теги\"\r\nTarget table: \"Целевая таблица\"\r\nTask: \"Задача\"\r\nTask editor: \"Редактор задач\"\r\nTask executed successfully: \"Задача выполнена успешно\"\r\nTasks: \"Задачи\"\r\nTermination Date: \"Дата увольнения\"\r\nThe allowed timeout for the request from the server has been exceeded: \"Превышено допустимое время ожидания запроса от сервера\"\r\nThe login or password you entered is incorrect: \"Логин или пароль введены неверно\"\r\nThe outlet chain you selected has no outlets: \"Выбранная вами сеть не имеет торговых точек\"\r\nThe password does not meet the password policy requirements: \"Ваш пароль не удовлетворяет политике безопасности\"\r\nThe password doesn't meet complexity requirements:: \"Ваш пароль не удовлетворяет политике безопасности:\"\r\nThe value is duplicated: \"Значение повторяющееся\"\r\nThe value is empty: \"Значение пустое\"\r\nThe value is invalid: \"Значение неправильное\"\r\nThe value is too long: \"Значение слишком длинное\"\r\nThe visit will not be counted as part of the route: \"Визит не будет засчитан в рамках маршрута\"\r\nTheme: \"Тема\"\r\nThere are duplicates in source. Check key mapping: \"Обнаружены дубликаты в источнике. Проверьте соответствия ключей\"\r\nThere are no answer options for the question '{qName}' in the questionnaire '{questionnaireName}' fo: \"Нет вариантов ответа для вопроса '{qName}' в анкете '{questionnaireName}' для ТТ ID={outletID}\"\r\nThere are no records to update or insert: \"Нет записей для вставки или обновления\"\r\nThere are no response options for this outlet and this question: \"Нет вариантов ответа для данной ТТ и данного вопроса\"\r\nThere is an incomplete questionnaires. Restore?: \"Существуют незаконченные анкеты. Восстановить?\"\r\nThere is no available statuses: \"Нет доступных статусов\"\r\nThere is no bound outlet for this position: \"К данной позиции нет привязанных торговых точек\"\r\nThere is no reference to table \"mdt.File\" in field: \"Нет ссылки на таблицу \"mdt.File\" в поле\"\r\nThere is no route on this cycle: \"На данном цикле нет маршрута\"\r\nThere is no route on this cycle for position: \"На выбранном цикле нет маршрута для позиции\"\r\nThere was a problem connecting to the server. Please try again later.: \"Возникла проблема при подключении к серверу. Попробуйте позже.\"\r\nThu: \"Чт\"\r\nThursday: \"Четверг\"\r\nTime: \"Время\"\r\nTime Transfer: \"Время перемещения\"\r\nTime Visit: \"Время визита\"\r\nTitle: \"Название\"\r\nTo console: \"В консоль\"\r\nTo question: \"Анкетировать\"\r\nToo much records for select field control. Please contact administrator!: \"Контрол select не поддерживает большое количество записей. Пожалуйста, свяжитесь с администратором!\"\r\nTotal: \"Итого\"\r\nTotal period: \"Весь период\"\r\nTotal time: \"Общее время\"\r\nTry again: \"Попробовать ещё раз\"\r\nTue: \"Вт\"\r\nTuesday: \"Вторник\"\r\nUnauthorized: \"Не пройдена авторизация для выполнения данного запроса\"\r\nUnbind: \"Отвязать\"\r\nUnbind records: \"Отвязать записи\"\r\nUnbind since: \"Отвязать с\"\r\nUnbound!: \"Отвязано!\"\r\nUndo impersonation: \"Отменить имперсонацию\"\r\nUnexpected error: \"Непредвиденная ошибка\"\r\nUnexpected error occurred: \"Возникла непредвиденная ошибка\"\r\nUnlink: \"Отвязать\"\r\nUnmap: \"Развязать\"\r\nUnmapped source records: \"Несвязанные записи источников\"\r\nUnmapped!: \"Развязано!\"\r\nUnsent questionnaires: \"Неотправленые анкеты\"\r\nUp: \"Вверх\"\r\nUp / Down: \"Вверх / Вниз\"\r\nUpdate: \"Обновить\"\r\nUpdate application: \"Обновить\"\r\nUpdate to match current settings: \"Обновление для соответствия текущих настроек\"\r\nUpload error: \"Ошибка загрузки\"\r\nUser0NotAdmin: \"Пользователь #0 не явлется админстратором\"\r\nUser does not have permission to access the application: \"Пользователь не имеет прав для доступа в приложение\"\r\nUser doesn't have **{level}** access to table **{table}**: \"Пользователь не имеет прав **{level}** к таблице **{table}**\"\r\nUser profile: \"Профиль пользователя\"\r\nUserAndPasswordNotFound: \"Пользователь '#0' с таким паролем не найден\"\r\nUsers: \"Пользователи\"\r\nValidation error: \"Ошибка валидации\"\r\nValidation errors: \"Ошибки валидации\"\r\nValue: \"Значение\"\r\nVersion: \"Версия\"\r\nView: \"Вид\"\r\nView answer: \"Просмотр ответа\"\r\nView route: \"Перейти в маршрут\"\r\nVisit: \"Визит\"\r\nVisited outlets: \"Посещенные точки\"\r\nWarning: \"Предупреждение\"\r\nWas chosen: \"Был выбран\"\r\nWed: \"Ср\"\r\nWednesday: \"Среда\"\r\nWeek: \"Неделя\"\r\nYes: \"Да\"\r\nYou are trying to use an invalid link: \"Ссылка устарела\"\r\nYou have **{count}** notification(s): \"У вас **{count}** уведомление(й)\"\r\nYour comment: \"Ваш комментарий\"\r\nYour contact email: \"Ваш емейл для контакта\"\r\nYour feedback helps us improve the application: \"Ваш отзыв поможет нам улучшить приложение\"\r\nYour feedback was sent successfully: \"Ваш отзыв успешно отправлен\"\r\nYour feedback will help us improve App: \"Ваш отзыв поможет нам улучшить приложение\"\r\nYour password is expired and must be changed: \"Срок действия пароля истёк и его необходимо изменить\"\r\nYour password will expire: \"Ваш пароль истекает\"\r\nYour password will expire at {Date}: \"Ваш пароль истекает {Date}\"\r\nYour profile is not mapped to the employee directory: \"Ваш профиль не сопоставлен со справочником сотрудников\"\r\n\\\"Navigator.geolocation\\\" is not available to determine the location of the device: \"Для определения местоположения устройства недоступен \\\"Navigator.geolocation\\\"\"\r\naction: \"действие\"\r\nal:Add: \"Добавление\"\r\nal:Delete: \"Удаление\"\r\nal:Execute: \"Выполнение\"\r\nal:Read: \"Чтение\"\r\nal:Write: \"Запись\"\r\nall: \"все\"\r\nany: \"любой\"\r\naudit:BadPKType: \"Невозможно включить аудит из-за недопустимого типа первичного ключа для следующих таблиц: %s\"\r\nbind:BadAdvancedFitlerSettings: \"Некорректно настроен расширенный фильтр привязок. Должно быть заполнено оба поля ID_ObjectListFilterSource и ID_ObjectFilterSource\"\r\nbind:BadBindingTable: \"Нужно указать существующую таблицу в качестве таблицы привязок.\"\r\nbind:BadBindingTableForDimension: \"В таблице привязок должно быть обязательное поле ID_Dimension\"\r\nbind:BadDimensionObject: \"Объект с доп. измерением должен иметь хотя бы один столбец\"\r\nbind:BadDimensionObjectForFilter: \"Для фильтрации значений объект с измерениями должен содержать обязательное поле: ID_mdt_Object\"\r\nbind:BadObjectFilterDimension: \"Функция со списком отфильтрованных значений измерений должен возвращать таблицу с обязательным полем: ID_Record\"\r\nbind:BadObjectFilterSource: \"Функция со списком отфильтрованных значений источника должен возвращать таблицу с обязательным полем: ID_Record\"\r\nbind:BadObjectListFilterSource: \"Объект со списком возможных фильтров должен содержать обязательные поля: ID_Filter, Title\"\r\nbind:BadParameterValue: \"Недопустимое значение параметра %s\"\r\nbind:BadSourceTable: \"Нужно указать существующую таблицу в качестве таблицы-источника.\"\r\nbind:BadTargetTable: \"Нужно указать существующую таблицу в качестве целевой таблицы.\"\r\nbind:BindingAlreadyExists: \"Выбранные целевая и таблица-источник используются в настройках другой привязки. Пожалуйста, выберите другие таблицы.\"\r\nbind:BindingRequiredFields: \"Таблица привязок **%s** должна содержать все обязательные поля: DateBegin, DateEnd, DateEndFix, FlagTotalPeriod\"\r\nbind:BindingSettingsError: \"В настройках привязок отсутствует запись для таблицы \"\r\nbind:ConflictBindingsExists: \"Для выбранного периода уже существуют привязки:\"\r\nbind:CreateConfirmButton: \"Создать таблицу привязок\"\r\nbind:DateBeginError: \"Если установлена дата начала привязки, то должен быть сброшен флаг \"Весь период\"\"\r\nbind:DateEndFixError: \"Если установлена дата окончания привязки, то должен быть сброшен флаг \"Весь период\"\"\r\nbind:DateEndFixLess: \"Дата закрытия должна быть больше даты начала привязки. Измените дату закрытия привязок:\"\r\nbind:DeleteBindingsConfirm: \"Вы действительно хотите удалить эти привязки?\"\r\nbind:DeleteTableConfirm: \"Вы хотите **удалить** таблицу привязок **%s**? Количество записей в таблице: **%d**.\"\r\nbind:DimensionRecordsNull: \"Не указаны измерения привязки (@ID_DimensionRecords)\"\r\nbind:FKError: \"Невозможно определить связь между таблицами **%s** и **%s**\"\r\nbind:FlagTotalPeriodError: \"Если дата начала привязки не установлена, то должен быть установлен флаг \"Весь период\"\"\r\nbind:FutureBindingsExists: \"Для выбранных записей существуют более поздние привязки. Вы хотите заменить существующие привязки?\"\r\nbind:ObjectAlreadyExists: \"Невозможно создать объект **[%s].[%s]**, т.к. уже существует объект с таким именем.\"\r\nbind:OnlyMDTRecords: \"Можно привязывать только итоговые записи.\"\r\nbind:RecordNotExists: \"Запись c ID = %d не существует в таблице **%s**\"\r\nbind:RecordsNotExists: \"Возможно, список записей устарел. Записи с ID **%s** не существуют в таблице **%s**\"\r\nbind:SourcePKInvalid: \"В таблице-источнике должен быть несоставной первичный ключ с целочисленным типом (tinyint, smallint, int)\"\r\nbind:SourceRecordsNull: \"Не указаны записи для привязки (@ID_SourceRecords)\"\r\nbind:TRChangesForbidden: \"Изменения существующих привязок запрещены. Воспользуйтесь интерфейсом привязок.\"\r\nbind:TRDateEndFixGreater: \"Дата закрытия привязки (DateEndFix) должна быть меньше даты начала последующей привязки.\"\r\nbind:TRDateEndFixLess: \"Дата фиксированного окончания (DateEndFix) привязки должна быть больше даты начала.\"\r\nbind:TRDateEndGreater: \"Дата закрытия привязки должна быть меньше даты начала последующей привязки.\"\r\nbind:TRDateEndLess: \"Дата окончания привязки должна быть больше даты начала.\"\r\nbind:TRFlagTotalPeriodError: \"При привязке на \"Весь период\" дата начала должна быть \"1900-01-01\".\"\r\nbind:TRIntersectsExistsing: \"Выбранная дата привязки не может пересекаться с периодом действия существующей привязки с фиксированной датой окончания (DateEndFix).\"\r\nbind:TableCreateConfirm: \"Будет **создана** новая таблица привязок **[bind].[%s]** и триггеры: **Insert**, **Update**. Продолжить?\"\r\nbind:TableDescriptionError: \"Невозможно получить описание таблицы \"\r\nbind:TargetAndSourceFKEquals: \"Невозможно однозначно определить столбцы, ссылающиеся на целевую таблицу и таблицу-источник. Пожалуйста, проверьте настройки привязок.\"\r\nbind:TargetPKInvalid: \"В целевой таблице должен быть несоставной первичный ключ с целочисленным типом (tinyint, smallint, int)\"\r\nbind:TargetRecordNull: \"Не указана целевая запись (@ID_TargetRecord)\"\r\nchecked - only for existing records, unchecked - only for new records, default - for all records: \"выделено - только для существующих записей, не выделено - только для новых, по умолчанию - для всех\"\r\nclick or drop files for upload: \"для загрузки нажмите или перетащите файлы\"\r\ncontains: \"содержит\"\r\ncycle: \"цикл\"\r\nd: \"д\"\r\nday: \"день\"\r\ndays ago: {count}: \"дней назад: {count}\"\r\ndbm:BadFieldID: \"Неверный ID столбца\"\r\ndbm:BadFieldType: \"Неверный тип столбца\"\r\ndbm:BadID_RefTable: \"Неверный ID_RefTable\"\r\ndbm:BadSchemaName: \"Неверно указано название схемы\"\r\ndbm:BadTableID: \"Указан неверный ID таблицы\"\r\ndbm:BadTableName: \"Неверно указано название таблицы\"\r\ndbm:CancelNotPerformed: \"**Внимание!** Отмена операции будет невозможна.\"\r\ndbm:EmptyFieldNameOrType: \"Укажите имя и тип для создаваемого столбца\"\r\ndbm:EmptySchemaName: \"Укажите название схемы.\"\r\ndbm:EmptyTableName: \"Укажите название таблицы.\"\r\ndbm:NeedFiledsData: \"Укажите хотя бы один столбец для создания\"\r\ndbm:NothingChanged: \"Нет изменений для сохранения в базу.\"\r\ndbm:RunScript: \"Выполнить SQL-скрипт\"\r\ndbm:ScriptWillRun: \"Будет выполнен следующий **SQL-скрипт**:\"\r\ndbm:SystemFieldChangesIgnored: \"**Предупреждение!** Столбец **ID** является системным и создаётся автоматически. Все его изменения игнорируются.\"\r\ndefault: \"по умолчанию\"\r\ndm:ActionCheckError: \"Необходимо указать действие по каждой связи.\"\r\ndm:AddAccess: \"Добавление\"\r\ndm:BadActionCode: \"Неверный код действия\"\r\ndm:BadIDObject: \"Неправильный параметр @ID_Object.\"\r\ndm:BadIDRecordMDTMain: \"Параметр @ID_RecordMDTMain не должен быть в списке @ID_Records.\"\r\ndm:ComplicatedRelation: \"Часть записей не удаётся удалить, т.к. они связаны с записями в других таблицах. Сначала выполните удаление для этих записей:\"\r\ndm:CopyRowsCount: \"Будет скопировано строк: **$count**\"\r\ndm:DeleteAccess: \"Удаление\"\r\ndm:DeleteOperation: \"Удаление записей\"\r\ndm:DeleteRowsCount: \"Будет удалено строк: **$count**\"\r\ndm:EmptyActionCode: \"Укажите действие\"\r\ndm:EmptyActionsList: \"Укажите список действий для объединяемых записей.\"\r\ndm:FilterInPermissions: \"Невозможно проверить права на объект %d, т.к. используются фильтры. Обратитесь к администратору системы.\"\r\ndm:MainRecordNotExists: \"Выбранная основная запись не существует в таблице. Пожалуйста, обновите страницу.\"\r\ndm:MergeOperation: \"Объединение записей\"\r\ndm:NeedAccessToObjects: \"### Недостаточно прав↵↵Отсутствуют права на **добавление/запись/удаление** к следующим объектам: **%s**.↵↵Продолжение невозможно.\"\r\ndm:NeedSimplePK: \"В таблице должен быть простой первичный ключ.\"\r\ndm:PKGenerationError: \"Невозможно сгенерировать ID для новой записи в таблице %s\"\r\ndm:SetNullRowsCount: \"Будет отвязано строк: **$count**\"\r\ndm:SettingsErrorHeader: \"Сохранение настроек\"\r\ndm:SettingsFieldNotExists: \"Должно быть выбрано существующее поле таблицы. Поле с ошибкой: %s\"\r\ndm:SettingsLinkNotExists: \"Должна быть выбрана существующая o2m/hist связь. Связь с ошибкой: %s\"\r\ndm:SettingsSkipError: \"Пропускаемые поля должны быть nullable или для них должно быть установлено значение по-умолчанию. Поле с ошибкой: %s\"\r\ndm:SettingsWrongCopyAction: \"Выбрано недопустимое действие при копировании для связи: %s\"\r\ndm:SettingsWrongDeleteAction: \"Выбрано недопустимое действие при удалении для связи: %s\"\r\ndm:SettingsWrongMergeAction: \"Выбрано недопустимое действие при объединении для связи: %s\"\r\ndm:SkipRowsCount: \"Будет пропущено строк: **$count**\"\r\ndm:UQConflictRowsCount: \"Будет удалено строк: **$count** (из-за ограничений уникальности)\"\r\ndm:UpdateRowsCount: \"Будет обновлено строк: **$count**\"\r\ndm:WriteAccess: \"Запись\"\r\nempty: \"пусто\"\r\nends with: \"заканчивается на\"\r\nequals: \"равно\"\r\nerror:AccountDisabled: \"Аккаунт выключен\"\r\nerror:AccountSuspended: \"Аккаунт временно выключен. Подождите {Seconds} и попробуйте снова\"\r\nerror:CannotConvertValue: \"Значение **{Value}** не может быть преобразовано в тип **{Type}**\"\r\nerror:CheckConstraintConflict: \"Конфликт проверочного ограничения для поля **{Field}** таблицы **{Table}**\"\r\nerror:DomainIsNotAllowed: \"{Domain} запрещён для регистрации\"\r\nerror:DuplicateColumnMapping: \"Соответствие для колонки **{Column}** повторяющееся\"\r\nerror:DuplicateValue: \"Невозможно сохранить повторяющееся значение **{Value}** в поле(я) **{Field}** таблицы **{Table}**\"\r\nerror:ExplicitSpecialRoles: \"Специальные роли не могут быть заданы явно\"\r\nerror:FieldNotFound: \"Поле **{Field}** не найдено в таблице **{Table}**\"\r\nerror:FileNotSupported: \"Файл **{Name}** не поддерживается\"\r\nerror:ForeignKeyConstraintConflict: \"Конфликт ограничения внешнего ключа для поля **{Field}** таблицы **{Table}**\"\r\nerror:InvalidColumnMapping: \"Неправильное сопоставление колонки **{Column}**\"\r\nerror:InvalidDataLength: \"Максимальная длина поля **{Field}** таблицы **{Table}** равна **{MaxLength}**\"\r\nerror:InvalidEmail: \"{Email} не является правильным E-mail адресом\"\r\nerror:InvalidFieldMapping: \"Сопоставление к **{Kind}** полю невозможно (**{Path}**)\"\r\nerror:InvalidValue: \"Значение **{Value}** не является допустимым для поля **{Field}** таблицы **{Table}**\"\r\nerror:NotEnoughRights: \"У вас не хватает прав доступа! Пожалуйста, свяжитесь с администратором.\"\r\nerror:NullValue: \"Поле **{Field}** в таблице **{Table}** не может быть пустым\"\r\nerror:OverflowValue: \"Значение **{Value}** не попадает в допустимый диапазон для поля **{Field}** таблицы **{Table}**\"\r\nerror:PrimaryFieldNotFound: \"Первичный ключ не найден в таблице **{Table}**\"\r\nerror:PrincipalMemberRecursion: \"Невозможно добавить пользователя к своим дочерним\"\r\nerror:SecurityFieldAccess: \"Пользователь **{User}** не имеет доступа **{Level}** к полю **{Field}** таблицы **{Table}**\"\r\nerror:SecurityPermission: \"Пользователь **{User}** не имеет разрешения **{Permission}**\"\r\nerror:SecurityTableAccess: \"Пользователь **{User}** не имеет доступа **{Level}** к таблице **{Table}**\"\r\nerror:StatusChangeError: \"Пользователь <b>{UserName}</b> не имеет прав на изменение статуса с <b>{OldStatusName}</b> на <b>{NewStatusName}</b>\"\r\nerror:TableNotFound: \"Таблица **{Table}** не найдена\"\r\nerror:TemplateNotFound: \"Шаблон {Template} не существует\"\r\nerror:Timeout: \"Превышен интервал времени ожидания. Пожалуйста, попробуйте позже либо обратитесь к администратору.\"\r\nerror:UserInvalidPassword: \"Логин или пароль введены неверно\"\r\nerror:UserNotFound: \"Пользователь **{UserName}** не найден\"\r\nfield: \"поле\"\r\ngreater or equals: \"больше или равно\"\r\ngreater than: \"больше\"\r\nh: \"ч\"\r\nheader: \"заголовок\"\r\nhours ago: {count}: \"часов назад: {count}\"\r\nin list: \"в списке\"\r\nin list (with query): \"в списке результатов запроса\"\r\nis NOT NULL: \"непустое значение\"\r\nis NULL: \"пустое значение\"\r\nis current user: \"является текущим пользователем\"\r\njob:StartTimeGreaterEndTime: \"Дата окончания действия расписания должна быть больше даты начала\"\r\nless or equals: \"меньше или равно\"\r\nless than: \"меньше\"\r\nm: \"м\"\r\nmarkdown: \"маркдаун\"\r\nminutes ago: {count}: \"минут назад: {count}\"\r\nmonths ago: {count}: \"месяцев назад: {count}\"\r\nmore: \"ещё\"\r\nno records: \"нет записей\"\r\nnot contains: \"не содержит\"\r\nnot ends with: \"не заканчивается на\"\r\nnot equals: \"не равно\"\r\nnot starts with: \"не начинается с\"\r\npanel: \"панель\"\r\nperiodFrom: \"c\"\r\nperiodTo: \"по\"\r\npersonal: \"личный\"\r\npwd:Name: \"Имя\"\r\nqst:ExcludeErrorDescription: \"Различные значения в поле FlagExclude запрещены\"\r\nqst:ExcludeErrorTitle: \"Ошибка заполнения связи \"{LinkName}\"\"\r\nquery in: \"запрос в\"\r\nremember me: \"запомнить меня\"\r\nrows: \"строк\"\r\ns: \"сек\"\r\nseconds ago: {count}: \"секунд назад: {count}\"\r\nselect all: \"выбрать все\"\r\nshared: \"общий\"\r\nstarts with: \"начинается с\"\r\ntabs: \"вкладки\"\r\nthis is the first visit: \"это первый визит\"\r\ntransfer: \"перемещение\"\r\nvisits: \"посещения\"\r\nweek: \"неделя\"\r\nyears ago: {count}: \"лет назад: {count}\"\r\n{count} row: \"Строк: {count}\"\r\n{count} rows: \"Строк: {count}\"\r\n{inserted} record(s) inserted, {updated} record(s) updated: \"Добавлено: {inserted}, Обновлено: {updated}\"\r\nсycle: \"цикл\"\r\n*/\r\n","import { CSSStyleSize, CSSStyleSizes, SizeType } from \"./themeTypes\";\r\nimport { DeepPartial } from \"../types\";\r\nimport { ThemeDefaults } from \"./themeDefaults\";\r\nimport { objectFromEnum } from \"../utils/enum\";\r\nimport * as deepExtend from \"deep-extend\";\r\n\r\nexport interface ThemeBorders {\r\n\tborderWidth: CSSStyleSize;\r\n\tborderWidths: CSSStyleSizes;\r\n\r\n\tborderRadius: CSSStyleSize;\r\n\tborderRadiuses: CSSStyleSizes;\r\n}\r\n\r\nexport function createThemeBorder(\r\n\toptions: DeepPartial<ThemeBorders> = {}\r\n): ThemeBorders {\r\n\tlet widthBase =\r\n\t\toptions.borderWidth || ThemeDefaults.borders.borderWidth || \"0\";\r\n\tlet radiusBase =\r\n\t\toptions.borderRadius || ThemeDefaults.borders.borderRadius || \"none\";\r\n\r\n\treturn deepExtend(\r\n\t\t{\r\n\t\t\tborderWidth: widthBase,\r\n\t\t\tborderRadius: radiusBase,\r\n\t\t\tborderWidths: objectFromEnum(SizeType, () => widthBase),\r\n\t\t\tborderRadiuses: objectFromEnum(SizeType, () => radiusBase)\r\n\t\t},\r\n\t\tThemeDefaults.borders,\r\n\t\toptions\r\n\t) as ThemeBorders;\r\n}\r\n","export type Breakpoint = 'xs' | 'sm' | 'md' | 'lg' | 'xl';\r\nexport type BreakpointValues = { [key in Breakpoint]: number };\r\n\r\nexport interface Breakpoints {\r\n    keys: Breakpoint[];\r\n    values: BreakpointValues;\r\n    up: (key: Breakpoint | number) => string;\r\n    down: (key: Breakpoint | number) => string;\r\n    between: (start: Breakpoint, end: Breakpoint) => string;\r\n    only: (key: Breakpoint) => string;\r\n    width: (key: Breakpoint) => number;\r\n}\r\n\r\nexport type BreakpointsOptions = Partial<\r\n    {\r\n        unit: string;\r\n        step: number;\r\n    } & Breakpoints\r\n>;\r\n\r\nexport const keys: Breakpoint[] = ['xs', 'sm', 'md', 'lg', 'xl'];\r\n\r\nexport function createBreakpoints(options: BreakpointsOptions = {}): Breakpoints {\r\n    const {\r\n        values = {\r\n            xs: 0,\r\n            sm: 600,\r\n            md: 960,\r\n            lg: 1280,\r\n            xl: 1920,\r\n        },\r\n        unit = 'px',\r\n        step = 5,\r\n        ...other\r\n    } = options;\r\n\r\n    function up(key) {\r\n        const value = typeof values[key] === 'number' ? values[key] : key;\r\n        return `@media (min-width:${value}${unit})`;\r\n    }\r\n\r\n    function down(key) {\r\n        const endIndex = keys.indexOf(key) + 1;\r\n        const upperbound = values[keys[endIndex]];\r\n\r\n        if (endIndex === keys.length) {\r\n            // xl down applies to all sizes\r\n            return up('xs');\r\n        }\r\n\r\n        const value = typeof upperbound === 'number' && endIndex > 0 ? upperbound : key;\r\n        return `@media (max-width:${value - step / 100}${unit})`;\r\n    }\r\n\r\n    function between(start, end) {\r\n        const endIndex = keys.indexOf(end) + 1;\r\n\r\n        if (endIndex === keys.length) {\r\n            return up(start);\r\n        }\r\n\r\n        return (\r\n            `@media (min-width:${values[start]}${unit}) and ` +\r\n            `(max-width:${values[keys[endIndex]] - step / 100}${unit})`\r\n        );\r\n    }\r\n\r\n    function only(key) {\r\n        return between(key, key);\r\n    }\r\n\r\n    function width(key) {\r\n        return values[key];\r\n    }\r\n\r\n    return {\r\n        keys,\r\n        values,\r\n        up,\r\n        down,\r\n        between,\r\n        only,\r\n        width,\r\n        ...other\r\n    };\r\n}\r\n","import * as Color from \"color\";\r\nimport { forEachEnumKey } from \"../utils/enum\";\r\nimport { ThemeDefaults } from \"./themeDefaults\";\r\nimport * as deepExtend from \"deep-extend\";\r\nimport { DeepPartial } from \"../types\";\r\n\r\nexport type ColorValue = string;\r\n\r\nexport type ThemeColorTextState = {\r\n\tmain: ColorValue;\r\n\taccent: ColorValue;\r\n\tcontrast: ColorValue;\r\n\tsecondary: ColorValue;\r\n\tmuted: ColorValue;\r\n};\r\n\r\nexport interface ThemeColorState {\r\n\tmain: ColorValue;\r\n\tsecondary: ColorValue;\r\n\tactive: ColorValue;\r\n\tfocus: ColorValue;\r\n\thover: ColorValue;\r\n\tdisabled: ColorValue;\r\n\ttext: ColorValue;\r\n\ttexts: ThemeColorTextState;\r\n\tbackground: ColorValue;\r\n\tborder: ColorValue;\r\n}\r\n\r\nexport enum ColorTypes {\r\n\tbase = \"base\",\r\n\tprimary = \"primary\",\r\n\tsecondary = \"secondary\",\r\n\tsuccess = \"success\",\r\n\tdanger = \"danger\",\r\n\twarning = \"warning\",\r\n\tinfo = \"info\"\r\n}\r\n\r\nexport type ThemeColors = {\r\n\ttext: ThemeColorTextState;\r\n} & { [type in keyof typeof ColorTypes]: ThemeColorState };\r\n\r\nexport function createColorState(\r\n\tdata: DeepPartial<ThemeColorState>,\r\n\tbaseTextState: ThemeColorTextState\r\n): ThemeColorState {\r\n\tif (!data.main) throw new Error(\"Base state color must be set explicitly!\");\r\n\tconst [lightText, darkText] = Color(baseTextState.main).isLight()\r\n\t\t? [baseTextState.main, baseTextState.contrast]\r\n\t\t: [baseTextState.contrast, baseTextState.main];\r\n\r\n\tconst color = Color(data.main);\r\n\tconst textColor = data.text || color.hex();\r\n\treturn {\r\n\t\tmain: color.hex(),\r\n\t\tsecondary: data.secondary || color.hex(),\r\n\t\tactive: data.active || color.darken(0.1).hex(),\r\n\t\tfocus: data.focus || color.darken(0.15).hex(),\r\n\t\thover: data.hover || color.lighten(0.1).hex(),\r\n\t\tdisabled: data.disabled || color.fade(0.5).hex(),\r\n\t\ttext: textColor,\r\n\t\ttexts: deepExtend(\r\n\t\t\t{\r\n\t\t\t\tmain: textColor,\r\n\t\t\t\taccent: textColor,\r\n\t\t\t\tcontrast: Color(textColor).isLight() ? darkText : lightText,\r\n\t\t\t\tsecondary: textColor,\r\n\t\t\t\tmuted: textColor\r\n\t\t\t},\r\n\t\t\tdata.texts\r\n\t\t),\r\n\t\tbackground: data.background || color.hex(),\r\n\t\tborder: data.border || color.hex()\r\n\t};\r\n}\r\n\r\nconst defaultBaseTextState: ThemeColorTextState = {\r\n\tmain: \"#000000\",\r\n\taccent: \"#000000\",\r\n\tcontrast: \"#ffffff\",\r\n\tsecondary: \"#000000\",\r\n\tmuted: \"#000000\"\r\n};\r\n\r\nexport function createThemeColors(options: DeepPartial<ThemeColors> = {}): ThemeColors {\r\n\tconst colors: any = {};\r\n\tlet baseTextState = defaultBaseTextState;\r\n\tforEachEnumKey(ColorTypes, key => {\r\n\t\tconst data = {\r\n\t\t\t...ThemeDefaults.colors[key],\r\n\t\t\t...options[key]\r\n\t\t};\r\n\t\tcolors[key] = createColorState(data, key == ColorTypes.base ? data.text : baseTextState);\r\n\t\tif (key == ColorTypes.base) baseTextState = colors[key].texts;\r\n\t});\r\n\treturn colors as ThemeColors;\r\n}\r\n","import * as deepExtend from \"deep-extend\";\r\nimport { ThemeDefaults } from \"./themeDefaults\";\r\n\r\nexport interface ThemeConstants {\r\n\tgridPadding: string;\r\n}\r\n\r\nexport function createConstants(options: Partial<ThemeConstants> = {}): ThemeConstants {\r\n\treturn deepExtend(ThemeDefaults.constants, options);\r\n}\r\n","import { CSSProps } from \"wraps/styleCreators\";\r\nimport { DeepPartial } from \"../types\";\r\nimport { ThemeDefaults } from \"./themeDefaults\";\r\nimport * as deepExtend from \"deep-extend\";\r\n\r\ntype CSSStyleBoxShadow = CSSProps[\"boxShadow\"];\r\n\r\ntype CSSStyleBoxShadowSizes = {\r\n\tmd: CSSStyleBoxShadow;\r\n\tlg: CSSStyleBoxShadow;\r\n\txl: CSSStyleBoxShadow;\r\n\txxl: CSSStyleBoxShadow;\r\n};\r\n\r\nexport interface ThemeShadows {\r\n\tnormal: CSSStyleBoxShadow;\r\n\tdown: CSSStyleBoxShadowSizes;\r\n\tup: CSSStyleBoxShadowSizes;\r\n\tright: CSSStyleBoxShadowSizes;\r\n\tleft: CSSStyleBoxShadowSizes;\r\n}\r\n\r\nexport function createThemeShadows(options: DeepPartial<ThemeShadows> = {}): ThemeShadows {\r\n\tlet normal = options.normal || ThemeDefaults.shadows.normal || \"none\";\r\n\treturn deepExtend(\r\n\t\t{\r\n\t\t\tnormal,\r\n\t\t\tdown: {\r\n\t\t\t\tmd: normal,\r\n\t\t\t\tlg: normal,\r\n\t\t\t\txl: normal,\r\n\t\t\t\txxl: normal\r\n\t\t\t},\r\n\t\t\tup: {\r\n\t\t\t\tmd: normal,\r\n\t\t\t\tlg: normal,\r\n\t\t\t\txl: normal,\r\n\t\t\t\txxl: normal\r\n\t\t\t},\r\n\t\t\tright: {\r\n\t\t\t\tmd: normal,\r\n\t\t\t\tlg: normal,\r\n\t\t\t\txl: normal,\r\n\t\t\t\txxl: normal\r\n\t\t\t},\r\n\t\t\tleft: {\r\n\t\t\t\tmd: normal,\r\n\t\t\t\tlg: normal,\r\n\t\t\t\txl: normal,\r\n\t\t\t\txxl: normal\r\n\t\t\t}\r\n\t\t},\r\n\t\tThemeDefaults.shadows,\r\n\t\toptions\r\n\t);\r\n}\r\n","import * as deepExtend from \"deep-extend\";\r\nimport { parseUnitCSSSizeValue } from \"../utils/cssHelpers\";\r\nimport { objectFromEnum } from \"../utils/enum\";\r\nimport { ThemeDefaults } from \"./themeDefaults\";\r\nimport { SizeType } from \"./themeTypes\";\r\nimport { DeepPartial } from \"types\";\r\nimport { CSSProps, CSSSizeValue } from \"wraps/styleCreators\";\r\n\r\nexport enum TextSizeType {\r\n\t/** 96px */\r\n\tmega = \"mega\",\r\n\t/** 64px */\r\n\tsuper = \"super\",\r\n\t/** 48px */\r\n\tdisplay = \"display\",\r\n\t/** 32px */\r\n\theading = \"heading\",\r\n\t/** 24px */\r\n\ttitle = \"title\",\r\n\t/** 18px */\r\n\tbodyMax = \"bodyMax\",\r\n\t/** 16px */\r\n\tbody = \"body\",\r\n\t/** 14px */\r\n\tbodyMin = \"bodyMin\",\r\n\t/** 12px */\r\n\tcaption = \"caption\"\r\n}\r\n\r\nexport enum TextWeightType {\r\n\tlight = \"light\",\r\n\tmedium = \"normal\",\r\n\tbold = \"bold\"\r\n}\r\n\r\nexport interface ThemeSizing {\r\n\tsizes: { [key in keyof typeof SizeType]: CSSSizeValue };\r\n\tfontSizes: { [key in keyof typeof TextSizeType]: CSSProps[\"fontSize\"] };\r\n\tlineHeights: { [key in keyof typeof TextSizeType]: CSSProps[\"lineHeight\"] };\r\n\tfontWeights: { [key in keyof typeof TextWeightType]: CSSProps[\"fontWeight\"] };\r\n}\r\n\r\nexport function createSizeVariants(minSize: CSSSizeValue): { [key in keyof typeof SizeType]: string } {\r\n\tconst data = parseUnitCSSSizeValue(minSize);\r\n\treturn objectFromEnum(SizeType, (size, i) => (data.valid ? `${(i + 1) * data.value}${data.unit}` : minSize));\r\n}\r\n\r\nexport function createThemeSizing(options: DeepPartial<ThemeSizing> = {}): ThemeSizing {\r\n\tlet min: CSSSizeValue = \"8px\";\r\n\tif (ThemeDefaults.sizing && ThemeDefaults.sizing.sizes && ThemeDefaults.sizing.sizes.xxs)\r\n\t\tmin = ThemeDefaults.sizing.sizes.xxs;\r\n\treturn deepExtend(\r\n\t\t{\r\n\t\t\tsizes: createSizeVariants(min)\r\n\t\t},\r\n\t\tThemeDefaults.sizing,\r\n\t\toptions\r\n\t);\r\n}\r\n","import { createThemeBorder, ThemeBorders } from \"./borders\";\r\nimport { Breakpoints, createBreakpoints } from \"./breakpoints\";\r\nimport { createThemeColors, ThemeColors } from \"./colors\";\r\nimport { createThemeShadows, ThemeShadows } from \"./shadows\";\r\nimport { createThemeSizing, ThemeSizing } from \"./sizing\";\r\nimport { createThemeTransitions, ThemeTransitions } from \"./transition\";\r\nimport { createTypography, ThemeTypography } from \"./typography\";\r\nimport { ThemeZIndexes, createZIndexes } from \"./zIndex\";\r\nimport { DeepPartial } from \"../types\";\r\nimport { ThemeConstants, createConstants } from \"./constants\";\r\n\r\nexport interface Theme {\r\n\tbreakpoints: Breakpoints;\r\n\tcolors: ThemeColors;\r\n\ttypography: ThemeTypography;\r\n\tshadows: ThemeShadows;\r\n\tborders: ThemeBorders;\r\n\tsizing: ThemeSizing;\r\n\ttransitions: ThemeTransitions;\r\n\tzIndex: ThemeZIndexes;\r\n\tconstants: ThemeConstants;\r\n\toverrides?: any;\r\n}\r\n\r\ninterface ThemeBase extends DeepPartial<Theme> {}\r\n\r\nexport function createTheme(base: ThemeBase = {}): Theme {\r\n\tconst theme = {\r\n\t\tbreakpoints: createBreakpoints(base.breakpoints as any), //todo typing\r\n\t\tcolors: createThemeColors(base.colors),\r\n\t\ttypography: createTypography(base.typography),\r\n\t\tshadows: createThemeShadows(base.shadows),\r\n\t\tborders: createThemeBorder(base.borders),\r\n\t\tsizing: createThemeSizing(base.sizing),\r\n\t\ttransitions: createThemeTransitions(base.transitions),\r\n\t\tzIndex: createZIndexes(base.zIndex),\r\n\t\tconstants: createConstants(base.constants),\r\n\t\toverrides: { ...base.overrides }\r\n\t};\r\n\treturn theme;\r\n}\r\n","import { DeepPartial } from \"../types\";\r\nimport { ThemeBorders } from \"./borders\";\r\nimport { ColorTypes, ColorValue, ThemeColorState, ThemeColorTextState, ThemeColors } from \"./colors\";\r\nimport { ThemeShadows } from \"./shadows\";\r\nimport { ThemeSizing, TextWeightType, TextSizeType } from \"./sizing\";\r\nimport { CSSStyleFontWeight, CSSStyleSize } from \"./themeTypes\";\r\nimport { ThemeTransitions } from \"./transition\";\r\nimport { ThemeTypography } from \"./typography\";\r\nimport { ThemeZIndexes } from \"./zIndex\";\r\nimport { ThemeConstants } from \"./constants\";\r\n\r\ninterface DefaultThemeSettings {\r\n\tcolors: DeepPartial<ThemeColors> &\r\n\t\t{\r\n\t\t\t[P in keyof typeof ColorTypes]: Partial<ThemeColorState> & {\r\n\t\t\t\tmain: ColorValue;\r\n\t\t\t};\r\n\t\t};\r\n\ttypography: DeepPartial<ThemeTypography> & {\r\n\t\tfonts: {\r\n\t\t\tbase: string;\r\n\t\t};\r\n\t};\r\n\tshadows: DeepPartial<ThemeShadows>;\r\n\tborders: DeepPartial<ThemeBorders> & {\r\n\t\tborderWidth: string;\r\n\t\tborderRadius: string;\r\n\t};\r\n\tsizing: DeepPartial<ThemeSizing> & {\r\n\t\tfontSizes: { [key in keyof typeof TextSizeType]: string };\r\n\t\tlineHeights: { [key in keyof typeof TextSizeType]: string };\r\n\t\tfontWeights: { [key in keyof typeof TextWeightType]: any };\r\n\t};\r\n\ttransitions: Partial<ThemeTransitions>;\r\n\tzIndexes: ThemeZIndexes;\r\n\tconstants: ThemeConstants;\r\n}\r\n\r\nconst textsDefaults = {\r\n\tmain: \"#345B6C\",\r\n\taccent: \"#345B6C\",\r\n\tcontrast: \"#ffffff\",\r\n\tsecondary: \"#345B6C\",\r\n\tmuted: \"#345B6C\"\r\n};\r\n\r\nexport const ThemeDefaults: DefaultThemeSettings = {\r\n\tcolors: {\r\n\t\tbase: {\r\n\t\t\tmain: \"#ffffff\",\r\n\t\t\ttext: textsDefaults.main,\r\n\t\t\ttexts: textsDefaults,\r\n\t\t\tborder: \"#E8F0F3\",\r\n\t\t\tfocus: \"#E8F0F3\",\r\n\t\t\thover: \"#E8F0F3\"\r\n\t\t},\r\n\t\tprimary: { main: \"#29ABE2\" },\r\n\t\tsecondary: { main: \"#41DD92\" },\r\n\t\tsuccess: { main: \"#41DD92\" },\r\n\t\tdanger: { main: \"#F73B52\" },\r\n\t\twarning: { main: \"#FF823C\" },\r\n\t\tinfo: { main: \"#47C5FA\" }\r\n\t},\r\n\ttypography: {\r\n\t\tfonts: {\r\n\t\t\t//system font stack by default https://css-tricks.com/snippets/css/system-font-stack/\r\n\t\t\tbase:\r\n\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"'\r\n\t\t}\r\n\t},\r\n\tshadows: {\r\n\t\tnormal: \"0px 16px 32px rgba(52, 91, 108, 0.08)\",\r\n\t\tdown: {\r\n\t\t\tmd: \"0px 4px 8px rgba(52, 91, 108, 0.16)\",\r\n\t\t\tlg: \"0px 8px 16px rgba(52, 91, 108, 0.16)\",\r\n\t\t\txl: \"0px 16px 32px rgba(52, 91, 108, 0.16)\",\r\n\t\t\txxl: \"0px 32px 64px rgba(101, 147, 196, 0.16)\"\r\n\t\t},\r\n\t\tup: {\r\n\t\t\tmd: \"0px -16px 32px rgba(52, 91, 108, 0.08)\",\r\n\t\t\tlg: \"0px -8px 16px rgba(52, 91, 108, 0.16)\",\r\n\t\t\txl: \"0px -16px 32px rgba(52, 91, 108, 0.16)\",\r\n\t\t\txxl: \"0px -32px 64px rgba(52, 91, 108, 0.08)\"\r\n\t\t},\r\n\t\tright: {\r\n\t\t\tmd: \"4px 0px 8px rgba(52, 91, 108, 0.08)\",\r\n\t\t\tlg: \"8px 0px 16px rgba(52, 91, 108, 0.08)\",\r\n\t\t\txl: \"16px 0px 32px rgba(52, 91, 108, 0.08)\",\r\n\t\t\txxl: \"32px 0px 64px rgba(52, 91, 108, 0.08)\"\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tmd: \"-4px 0px 8px rgba(52, 91, 108, 0.08)\",\r\n\t\t\tlg: \"-8px 0px 16px rgba(52, 91, 108, 0.08)\",\r\n\t\t\txl: \"-16px 0px 32px rgba(52, 91, 108, 0.08\",\r\n\t\t\txxl: \"-32px 0px 64px rgba(52, 91, 108, 0.08)\"\r\n\t\t}\r\n\t},\r\n\tborders: {\r\n\t\tborderWidth: \"1px\",\r\n\t\tborderRadius: \"none\"\r\n\t},\r\n\tsizing: {\r\n\t\tsizes: {\r\n\t\t\txxs: \"2px\",\r\n\t\t\txs: \"4px\",\r\n\t\t\tsm: \"8px\",\r\n\t\t\tmd: \"16px\",\r\n\t\t\tlg: \"24px\",\r\n\t\t\txl: \"32px\",\r\n\t\t\txxl: \"40px\"\r\n\t\t},\r\n\t\tfontSizes: {\r\n\t\t\tmega: \"96px\",\r\n\t\t\tsuper: \"64px\",\r\n\t\t\tdisplay: \"48px\",\r\n\t\t\theading: \"32px\",\r\n\t\t\ttitle: \"24px\",\r\n\t\t\tbodyMax: \"18px\",\r\n\t\t\tbody: \"16px\",\r\n\t\t\tbodyMin: \"14px\",\r\n\t\t\tcaption: \"12px\"\r\n\t\t},\r\n\t\tlineHeights: {\r\n\t\t\tmega: \"112px\",\r\n\t\t\tsuper: \"72px\",\r\n\t\t\tdisplay: \"56px\",\r\n\t\t\theading: \"128%\",\r\n\t\t\ttitle: \"128%\",\r\n\t\t\tbodyMax: \"155%\",\r\n\t\t\tbody: \"26px\",\r\n\t\t\tbodyMin: \"22px\",\r\n\t\t\tcaption: \"16px\"\r\n\t\t},\r\n\t\tfontWeights: {\r\n\t\t\tlight: 300,\r\n\t\t\tmedium: \"normal\",\r\n\t\t\tbold: \"bold\"\r\n\t\t} as any\r\n\t},\r\n\ttransitions: {\r\n\t\tbase: \"all .2s ease-in-out\",\r\n\t\tfade: \"opacity .15s linear\",\r\n\t\tcollapse: \"height .35s ease\"\r\n\t},\r\n\tzIndexes: {\r\n\t\tappBar: 1000,\r\n\t\tsideBar: 1500,\r\n\t\tmodal: 2000,\r\n\t\tnotification: 2500,\r\n\t\tdropdown: 3000,\r\n\t\ttooltip: 3500\r\n\t},\r\n\tconstants: {\r\n\t\tgridPadding: \"20px\"\r\n\t}\r\n};\r\n","export enum SizeType {\r\n\t/** 2px */\r\n\txxs = \"xxs\",\r\n\t/** 4px */\r\n\txs = \"xs\",\r\n\t/** 8px */\r\n\tsm = \"sm\",\r\n\t/** 16px */\r\n\tmd = \"md\",\r\n\t/** 24px */\r\n\tlg = \"lg\",\r\n\t/** 32px */\r\n\txl = \"xl\",\r\n\t/** 40px */\r\n\txxl = \"xxl\"\r\n}\r\n\r\nexport type CSSStyleSize = string | null;\r\n\r\nexport type CSSStyleSizes = { [type in keyof typeof SizeType]: CSSStyleSize };\r\n\r\nexport type CSSStyleFontWeight = string;\r\n","import * as deepExtend from \"deep-extend\";\r\nimport { ThemeDefaults } from \"./themeDefaults\";\r\n\r\nexport interface ThemeTransitions {\r\n\tbase: string;\r\n\tfade: string;\r\n\tcollapse: string;\r\n}\r\n\r\nexport function createThemeTransitions(options: Partial<ThemeTransitions> = {}): ThemeTransitions {\r\n\treturn deepExtend(\r\n\t\t{\r\n\t\t\tbase: \"all 0.5s linear\",\r\n\t\t\tfade: \"none\",\r\n\t\t\tcollapse: \"none\"\r\n\t\t},\r\n\t\tThemeDefaults.transitions,\r\n\t\toptions\r\n\t);\r\n}\r\n","import { DeepPartial } from \"../types\";\r\nimport { objectFromEnum } from \"../utils/enum\";\r\nimport { ThemeDefaults } from \"./themeDefaults\";\r\n\r\nexport enum TypographyType {\r\n\tbase = \"base\",\r\n\t//semantic\r\n\ttext = \"text\",\r\n\tlink = \"link\",\r\n\tmonospace = \"monospace\",\r\n\theader = \"header\",\r\n\tsubHeader = \"subHeader\"\r\n\t//icon?\r\n}\r\n\r\ntype TypographyTypeFonts = { [type in keyof typeof TypographyType]: string };\r\n\r\nexport type ThemeTypography = {\r\n\tfonts: TypographyTypeFonts;\r\n};\r\n\r\nexport function createTypography(options: DeepPartial<ThemeTypography> = {}): ThemeTypography {\r\n\treturn {\r\n\t\tfonts: objectFromEnum(TypographyType, key => {\r\n\t\t\tconst font = options.fonts && options.fonts[key];\r\n\t\t\treturn font || ThemeDefaults.typography.fonts[key] || ThemeDefaults.typography.fonts.base;\r\n\t\t})\r\n\t};\r\n\t// return objectFromEnum(TypographyType, key => createTypographySettings(options[key], key));\r\n}\r\n","import * as deepExtend from \"deep-extend\";\r\nimport { ThemeDefaults } from \"./themeDefaults\";\r\n\r\nexport interface ThemeZIndexes {\r\n\tappBar: number;\r\n\tsideBar: number;\r\n\tmodal: number;\r\n\tnotification: number;\r\n\tdropdown: number;\r\n\ttooltip: number;\r\n}\r\n\r\nexport function createZIndexes(options: Partial<ThemeZIndexes> = {}): ThemeZIndexes {\r\n\treturn deepExtend(ThemeDefaults.zIndexes, options);\r\n}\r\n","import * as React from \"react\";\r\nimport { theme } from \"themes/defaultTheme\";\r\n\r\nexport const ThemeContext = React.createContext(theme);\r\n","import { createTheme, Theme } from \"../theme/theme\";\r\nimport \"roboto-fontface\";\r\n\r\nconst pallete = {\r\n\twhite: \"#FFF\",\r\n\tblue: {\r\n\t\tdark: \"#0E8CC1\",\r\n\t\tmain: \"#29ABE2\",\r\n\t\tlight_4: \"#47C5FA\",\r\n\t\tlight_3: \"#73DBFF\",\r\n\t\tlight_2: \"#ACEDFF\",\r\n\t\tlight_1: \"#E6FAFF\"\r\n\t},\r\n\tgreen: {\r\n\t\tdark: \"#23BA72\",\r\n\t\tmain: \"#41DD92\",\r\n\t\tlight_4: \"#5DF4AB\",\r\n\t\tlight_3: \"#81FFC4\",\r\n\t\tlight_2: \"#AEFFDC\",\r\n\t\tlight_1: \"#E6FFF4\"\r\n\t},\r\n\tgray: {\r\n\t\tdark: \"#185874\",\r\n\t\tmain: \"#345B6C\",\r\n\t\tlight_4: \"#5C8293\",\r\n\t\tlight_3: \"#88A8B6\",\r\n\t\tlight_2: \"#B6CCD6\",\r\n\t\tlight_1: \"#E8F0F3\"\r\n\t},\r\n\tred: {\r\n\t\tdark: \"#C61C32\",\r\n\t\tmain: \"#F73B52\",\r\n\t\tlight_4: \"#FF556B\",\r\n\t\tlight_3: \"#FF798C\",\r\n\t\tlight_2: \"#FFACB6\",\r\n\t\tlight_1: \"#FFE6E7\"\r\n\t},\r\n\torange: {\r\n\t\tdark: \"#C65F1C\",\r\n\t\tmain: \"#FF823C\",\r\n\t\tlight_4: \"#FF9955\",\r\n\t\tlight_3: \"#FFB379\",\r\n\t\tlight_2: \"#FFD0AC\",\r\n\t\tlight_1: \"#FFF0E6\"\r\n\t}\r\n};\r\n\r\nexport const theme: Theme = createTheme({\r\n\tcolors: {\r\n\t\tbase: {\r\n\t\t\thover: pallete.gray.light_4,\r\n\t\t\tsecondary: pallete.gray.light_2,\r\n\t\t\tactive: pallete.gray.dark,\r\n\t\t\tfocus: pallete.gray.dark,\r\n\t\t\ttext: pallete.gray.main,\r\n\t\t\ttexts: {\r\n\t\t\t\tmuted: pallete.gray.light_3,\r\n\t\t\t\taccent: pallete.gray.dark,\r\n\t\t\t\tcontrast: \"#FFFFFF\"\r\n\t\t\t},\r\n\t\t\tborder: pallete.gray.light_2,\r\n\t\t\tdisabled: pallete.gray.light_1,\r\n\t\t\tbackground: pallete.gray.light_1\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tbackground: \"#E6FFF4\",\r\n\t\t\tborder: pallete.gray.light_3,\r\n\t\t\ttexts: {\r\n\t\t\t\tcontrast: pallete.white\r\n\t\t\t},\r\n\t\t\tdisabled: pallete.gray.light_1\r\n\t\t},\r\n\t\tprimary: {\r\n\t\t\tmain: pallete.blue.main,\r\n\t\t\thover: pallete.blue.light_4,\r\n\t\t\tactive: pallete.blue.dark,\r\n\t\t\tbackground: pallete.white,\r\n\t\t\tborder: \"#ACEDFF\",\r\n\t\t\ttexts: {\r\n\t\t\t\tcontrast: pallete.white\r\n\t\t\t},\r\n\t\t\tdisabled: pallete.gray.light_1\r\n\t\t},\r\n\t\tdanger: {\r\n\t\t\tmain: pallete.red.main,\r\n\t\t\thover: pallete.red.light_4,\r\n\t\t\tactive: pallete.red.dark,\r\n\t\t\tbackground: \"#FFE6E7\",\r\n\t\t\tborder: \"#FFACB6\",\r\n\t\t\ttexts: {\r\n\t\t\t\tcontrast: pallete.white\r\n\t\t\t},\r\n\t\t\tdisabled: pallete.gray.light_1\r\n\t\t},\r\n\t\tsuccess: {\r\n\t\t\tmain: pallete.green.main,\r\n\t\t\thover: pallete.green.light_4,\r\n\t\t\tactive: pallete.green.dark,\r\n\t\t\tbackground: \"#E6FFF4\",\r\n\t\t\tborder: \"#AEFFDC\",\r\n\t\t\ttexts: {\r\n\t\t\t\tcontrast: pallete.white\r\n\t\t\t},\r\n\t\t\tdisabled: pallete.gray.light_1\r\n\t\t},\r\n\t\tinfo: {\r\n\t\t\tmain: pallete.blue.main,\r\n\t\t\thover: pallete.blue.light_4,\r\n\t\t\tactive: pallete.blue.dark,\r\n\t\t\tbackground: \"#E6FAFF\",\r\n\t\t\tborder: \"#ACEDFF\",\r\n\t\t\ttexts: {\r\n\t\t\t\tcontrast: pallete.white\r\n\t\t\t},\r\n\t\t\tdisabled: pallete.gray.light_1\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tmain: pallete.orange.main,\r\n\t\t\thover: pallete.orange.light_4,\r\n\t\t\tactive: pallete.orange.dark,\r\n\t\t\tbackground: \"#FFF0E6\",\r\n\t\t\tborder: \"#FFD0AC\",\r\n\t\t\ttexts: {\r\n\t\t\t\tcontrast: pallete.white\r\n\t\t\t},\r\n\t\t\tdisabled: pallete.gray.light_1\r\n\t\t}\r\n\t},\r\n\ttypography: {\r\n\t\tfonts: {\r\n\t\t\tbase:\r\n\t\t\t\t'Roboto, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"'\r\n\t\t}\r\n\t},\r\n\tsizing: {\r\n\t\tlineHeights: {\r\n\t\t\tcaption: \"15px\",\r\n\t\t\tbody: \"22px\"\r\n\t\t}\r\n\t}\r\n});\r\n","import * as piexif from \"piexifjs\";\r\nimport * as loadImage from \"blueimp-load-image\";\r\n\r\ntype TaggedTemplateFunction = (literals: TemplateStringsArray, ...placeholders: string[]) => string;\r\n\r\nexport type UploadOptions = {\r\n\ttypes?: string[];\r\n\tminSize?: number;\r\n\tmaxSize?: number;\r\n\r\n\tmessageTpl?: TaggedTemplateFunction;\r\n};\r\n\r\nexport class UploadFileManagerError extends Error {\r\n\tname = \"Upload FileManager Error\";\r\n\tmessage: string;\r\n\tmessageTemplate: string[];\r\n\r\n\tconstructor(data: { message: string }) {\r\n\t\tsuper();\r\n\t\tthis.message = data.message;\r\n\r\n\t\t//for \"instance of\" checks\r\n\t\tObject.setPrototypeOf(this, UploadFileManagerError.prototype);\r\n\t}\r\n\r\n\ttoString(): string {\r\n\t\treturn `${this.name}: ${this.message}`;\r\n\t}\r\n}\r\n\r\nexport type PreparedImage = { full: Blob; thumb: Blob };\r\n\r\nexport class UploadHelper {\r\n\tpublic upload(fileList: FileList, options: UploadOptions): File[] {\r\n\t\tconst files = Array.from(fileList);\r\n\r\n\t\tconst isPassedAllChecks = files.every(\r\n\t\t\tfile =>\r\n\t\t\t\tthis.checkSize(file.size, options.maxSize, options.minSize) && this.checkType(options.types, file.type)\r\n\t\t);\r\n\r\n\t\tif (!isPassedAllChecks) {\r\n\t\t\tconst t = options.messageTpl || this.defaultTaggedFn;\r\n\t\t\tlet message = t`One or more files didn't pass the validity check!\\n`;\r\n\t\t\tif (options.types) message += t`File extension should be one of ${options.types.join(\", \")}. `;\r\n\t\t\tif (options.maxSize || options.minSize) {\r\n\t\t\t\tconst min = options.minSize ? t`more than ${options.minSize.toString()}` : \"\";\r\n\t\t\t\tconst and = options.maxSize && options.minSize ? t` and ` : t` `;\r\n\t\t\t\tconst max = options.maxSize ? t`less than ${options.maxSize.toString()}` : \"\";\r\n\t\t\t\tmessage += t`File size should be ${min}${and}${max}. `;\r\n\t\t\t}\r\n\t\t\tthrow new UploadFileManagerError({ message });\r\n\t\t}\r\n\t\treturn files;\r\n\t}\r\n\r\n\tprivate defaultTaggedFn: TaggedTemplateFunction = (literals, ...placeholders) =>\r\n\t\tliterals.reduce((str, v, idx) => (str += v + (placeholders[idx] ?? \"\")), \"\");\r\n\r\n\tprivate checkType(types: string[], fileType: string): boolean {\r\n\t\treturn types ? types.includes(fileType) : true;\r\n\t}\r\n\r\n\tprivate checkSize(fileSize: number, maxSize: number, minSize = 0): boolean {\r\n\t\treturn (!minSize || fileSize > minSize) && (!maxSize || fileSize < maxSize);\r\n\t}\r\n\r\n\tpublic async prepareImage(file: Blob): Promise<string> {\r\n\t\treturn new Promise<string>((resolve, reject) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.onloadend = async event => {\r\n\t\t\t\tresolve(event.target.result as string);\r\n\t\t\t\treader.onerror = error => reject(error);\r\n\t\t\t};\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate async getBase64(image: Blob | string): Promise<string> {\r\n\t\tif (typeof image === \"string\") {\r\n\t\t\treturn image;\r\n\t\t}\r\n\t\treturn await this.prepareImage(image);\r\n\t}\r\n\r\n\tpublic processImageData(\r\n\t\timage: Blob | string,\r\n\t\tquality = 0.2,\r\n\t\twithThumb = false,\r\n\t\tthumbSize = 200\r\n\t): Promise<PreparedImage> {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.getBase64(image)\r\n\t\t\t\t.then(async base64 => {\r\n\t\t\t\t\tconst fullSizeImage = await this.getBlob(base64, quality);\r\n\t\t\t\t\tconst thumb = withThumb ? await this.getBlob(base64, quality, thumbSize) : null;\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\tfull: fullSizeImage,\r\n\t\t\t\t\t\tthumb: thumb\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => reject(err));\r\n\t\t});\r\n\t}\r\n\r\n\tprivate getEXIFObject(dataUrl: string) {\r\n\t\tif (!dataUrl.includes(\"image/jpeg\") && !dataUrl.includes(\"image/jpg\")) return null;\r\n\t\treturn piexif.load(dataUrl);\r\n\t}\r\n\r\n\tprivate getEXIFOrientation(exifObj): number {\r\n\t\treturn exifObj?.[\"0th\"]?.[piexif.ImageIFD.Orientation];\r\n\t}\r\n\r\n\tprivate async getBlob(img: string, quality: number, thumbSize?: number): Promise<Blob> {\r\n\t\tconst exifObj = this.getEXIFObject(img);\r\n\t\tconst orientation = this.getEXIFOrientation(exifObj);\r\n\t\tconst options: any = {\r\n\t\t\tcanvas: true,\r\n\t\t\torientation,\r\n\t\t\tmeta: true\r\n\t\t};\r\n\t\tif (thumbSize) {\r\n\t\t\toptions.maxWidth = 200;\r\n\t\t\toptions.maxHeight = 200;\r\n\t\t}\r\n\t\tconst imageCanvas = await loadImage(img, options);\r\n\t\tlet canvas = imageCanvas.image;\r\n\t\tconst blob = await this.toBlob(canvas, quality);\r\n\t\t// for iOS garbage collection bug with canvas\r\n\t\tcanvas.width = 0;\r\n\t\tcanvas.height = 0;\r\n\t\tcanvas = null;\r\n\t\treturn blob;\r\n\t}\r\n\r\n\tprivate toBlob(canvas: HTMLCanvasElement, quality: number): Promise<Blob> {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tcanvas.toBlob(blob => resolve(blob), \"image/jpeg\", quality);\r\n\t\t});\r\n\t}\r\n}\r\n","import { getCSSSizeValue } from \"./cssHelpers\";\r\nimport { theme } from \"themes/defaultTheme\";\r\n\r\nexport const UISettings = {\r\n\tuserTimeouts: {\r\n\t\tbutton: 1000\r\n\t}\r\n};\r\n\r\nexport const GallerySettings = {\r\n\tslidesOnScreenSingle: 1,\r\n\tslidesOnScreenMultiple: 4\r\n};\r\n\r\nexport const MobileSettings = {\r\n\tlongTouchSpeedMs: 750\r\n};\r\n\r\nexport const SwiperSettings = {\r\n\tspaceBetweenPx: getCSSSizeValue(theme.sizing.sizes.md),\r\n\tquickTransitionDelayMs: 300\r\n};\r\n//todo Format settings to config file\r\nexport const FormatSettings = {\r\n\tlocale: \"ru-RU\"\r\n};\r\n\r\nexport const QrScannerSettings = {\r\n\tonScanDelayMs: 900\r\n};\r\n\r\nexport const NotificationSettings = {\r\n\tcloseTimeoutMs: 2000\r\n};\r\n\r\nexport const NativeStatusBarIndent = {\r\n\tstatusBar: \"25px\",\r\n\tnavbarPhotoBrowser: \"105px\"\r\n};\r\n\r\nexport const CustomColors = {\r\n\tblack: \"var(--f7-photobrowser-dark-bars-bg-color)\"\r\n};\r\n\r\n// URLS\r\nexport const docsApiUrl = \"https://docs.ics-it.ru/api/html\";\r\nexport const privacyPolicyLink = \"https://docs.ics-it.ru/quiz/documents/privacyPolicy\";\r\nexport const faqLink = \"https://docs.ics-it.ru/quiz/faq/faq\";\r\n","import { CSSSizeValue } from \"wraps/styleCreators\";\r\n\r\nconst CSSLengthUnits = [\"em\", \"ex\", \"%\", \"px\", \"cm\", \"mm\", \"in\", \"pt\", \"pc\", \"ch\", \"rem\", \"vh\", \"vw\", \"vmin\", \"vmax\"];\r\n\r\ntype ParseUnitCSSLengthResult = { value: number; unit: string; valid: true } | { valid: false };\r\n\r\nexport function parseUnitCSSSizeValue(value: CSSSizeValue): ParseUnitCSSLengthResult {\r\n\tlet v, unit;\r\n\tif (typeof value == \"number\") {\r\n\t\tv = value;\r\n\t} else {\r\n\t\tv = parseFloat(value);\r\n\t\tconst unitMatch = value.match(/\\D+$/);\r\n\t\tunit = unitMatch && unitMatch[0];\r\n\t}\r\n\tif (isNaN(v) || (unit && CSSLengthUnits.indexOf(unit.trim()) === -1)) return { valid: false };\r\n\treturn {\r\n\t\tunit: unit ? unit.trim() : \"\",\r\n\t\tvalue: v,\r\n\t\tvalid: true\r\n\t};\r\n}\r\n\r\nexport function getCSSSizeValue(value: CSSSizeValue) {\r\n\tlet x = parseUnitCSSSizeValue(value);\r\n\tif (!x.valid) throw new Error(\"Can't parse CSS value!\");\r\n\treturn x.value;\r\n}\r\n\r\nexport type CssVariablesMap = { [key: string]: string | number };\r\n\r\nexport function applyCssVars(vars: CssVariablesMap, el?: HTMLElement) {\r\n\tObject.keys(vars).map(k => {\r\n\t\tlet v = vars[k];\r\n\t\t//allow passing with or without --\r\n\t\tif (k[0] != \"-\") k = \"--\" + k;\r\n\t\t(el || document.documentElement).style.setProperty(k, v as string);\r\n\t});\r\n}\r\n\r\nexport function replaceClass(el: HTMLInputElement, replace: string, to: string) {\r\n\tel.classList.remove(replace);\r\n\tel.classList.add(to);\r\n}\r\n\r\n// Scale\r\nexport enum ScaleEnum {\r\n\t/** x / 2 */\r\n\tHalf = \"Half\",\r\n\t/** x * 2 */\r\n\tDouble = \"Double\",\r\n\t/** x * 3 */\r\n\tTriple = \"Triple\"\r\n}\r\n\r\ntype ScaleEnumMapType = {\r\n\t[key in ScaleEnum]: number;\r\n};\r\n\r\nconst ScaleEnumMap: ScaleEnumMapType = {\r\n\t[ScaleEnum.Half]: 0.5,\r\n\t[ScaleEnum.Double]: 2,\r\n\t[ScaleEnum.Triple]: 3\r\n};\r\n\r\nexport function scale(value: CSSSizeValue, scale: ScaleEnum): CSSSizeValue {\r\n\tconst val = parseUnitCSSSizeValue(value);\r\n\tif (!val.valid) throw new Error(\"Can't parse CSS value!\");\r\n\treturn `${Math.round(val.value * ScaleEnumMap[scale])}${val.unit || \"px\"}`;\r\n}\r\n","// Enum helpers\r\nfunction enumFilterKey(key, i) {\r\n\treturn isNaN(Number(key));\r\n}\r\n\r\nexport function forEachEnumKey(\r\n\tenumObj: any,\r\n\tcallback: (enumKey: string, index: number) => void\r\n) {\r\n\tlet keys = Object.keys(enumObj);\r\n\treturn keys.filter(enumFilterKey).forEach(callback);\r\n}\r\n\r\nexport function mapEnumKeys(\r\n\tenumObj: any,\r\n\tcallback: (enumKey: string, index: number) => void\r\n) {\r\n\tlet keys = Object.keys(enumObj);\r\n\treturn keys.filter(enumFilterKey).map(callback);\r\n}\r\n\r\nexport function objectFromEnum<T = any>(\r\n\tenumObj: any,\r\n\tcallback: (enumKey: T, index: number) => any = k => k\r\n): any {\r\n\tlet result = {};\r\n\tforEachEnumKey(enumObj, (k, i) => (result[k] = callback(k as any, i)));\r\n\treturn result;\r\n}\r\n","import { Coords } from \"hooks/usePosition\";\r\nimport { position } from \"./dom\";\r\nimport { GeolocationError } from \"quiz/services/GeolocationError\";\r\nimport { GeolocationErrorCodes } from \"quiz/components/errors/QuizGeolocationError\";\r\n\r\nexport const getCoords = (onSuccess: (coords: Coords) => void, onError: (error) => void) => {\r\n\tconst geo = navigator.geolocation;\r\n\tif (!geo) {\r\n\t\tonError(\r\n\t\t\tnew GeolocationError({\r\n\t\t\t\tcode: 4,\r\n\t\t\t\tmessage: `\"Navigator.geolocation\" is not available to determine the location of the device`,\r\n\t\t\t\tPERMISSION_DENIED: GeolocationErrorCodes.PERMISSION_DENIED,\r\n\t\t\t\tPOSITION_UNAVAILABLE: GeolocationErrorCodes.POSITION_UNAVAILABLE,\r\n\t\t\t\tTIMEOUT: GeolocationErrorCodes.TIMEOUT\r\n\t\t\t})\r\n\t\t);\r\n\t\treturn void 0;\r\n\t}\r\n\r\n\tconst success = (position: Position) => {\r\n\t\tconst coords: Coords = {\r\n\t\t\tlatitude: `${position.coords.latitude}`,\r\n\t\t\tlongitude: `${position.coords.longitude}`\r\n\t\t};\r\n\r\n\t\tonSuccess(coords);\r\n\t};\r\n\r\n\tgeo.getCurrentPosition(success, err => onError(new GeolocationError(err)), { timeout: 5000 });\r\n};\r\n","import { faqLink, FormatSettings } from \"utils/constants\";\r\nimport { OutletChain } from \"quiz/services/models\";\r\nimport { OutletCache } from \"quiz/services/QuizDraftService\";\r\nimport { TouchEvent } from \"react\";\r\n\r\ntype Unpacked<T> = T extends (...args: any[]) => infer U ? U : T;\r\n\r\nexport type Val<T> = T | Unpacked<T>;\r\n\r\nexport function isFunction(x: any): x is Function {\r\n\treturn typeof x === \"function\";\r\n}\r\n\r\nexport function v<T>(value: Val<T>, ...args: any[]): Unpacked<T> | undefined {\r\n\treturn isFunction(value) ? (value as Function)(...args) : value;\r\n}\r\n\r\n/** Evaluates `val` if exist or returns default value */\r\nexport function vd<T>(val: T, defaultValue: Unpacked<T>, ...args: any[]): Unpacked<T> | undefined {\r\n\treturn val != null ? v<T>(val, ...args) : defaultValue;\r\n}\r\n\r\nexport function removeFromArray<T = any>(arr: T[], item: T): void {\r\n\tconst p = arr.indexOf(item);\r\n\tp >= 0 && arr.splice(p, 1);\r\n}\r\n\r\nexport function updateArray<T>(\r\n\torig: T[],\r\n\tvalues: T[],\r\n\tcondition: (origItem: T, newItem: T) => boolean,\r\n\tprepare?: (origItem: T, newItem: T) => T\r\n): T[] {\r\n\tconst r = [];\r\n\tconst vals = [...values];\r\n\torig.forEach(o => {\r\n\t\tconst v = vals.find(v => condition(o, v));\r\n\t\tif (v) {\r\n\t\t\tremoveFromArray(vals, v);\r\n\t\t\tr.push(prepare ? prepare(o, v) : v);\r\n\t\t} else {\r\n\t\t\tr.push(o);\r\n\t\t}\r\n\t});\r\n\tvals.forEach(v => r.push(v));\r\n\treturn r;\r\n}\r\n\r\n/** Upper first letter of a string */\r\nexport function upperFirst(str: string): string {\r\n\treturn str[0].toUpperCase() + str.substr(1);\r\n}\r\n\r\nexport enum MoveDirection {\r\n\tstart = \"start\",\r\n\tend = \"end\",\r\n\tnext = \"next\",\r\n\tprev = \"prev\"\r\n}\r\n\r\nexport function lastIndex(arr: any[]): number {\r\n\treturn arr.length - 1;\r\n}\r\n\r\nexport function move(idx: number, lastIndex: number, dir: MoveDirection): number {\r\n\tlet nextIdx = 0;\r\n\tif (dir == MoveDirection.start) nextIdx = 0;\r\n\telse if (dir == MoveDirection.end) nextIdx = lastIndex;\r\n\telse if (dir == MoveDirection.prev) nextIdx = idx == 0 ? lastIndex : idx - 1;\r\n\telse if (dir == MoveDirection.next) nextIdx = idx == lastIndex ? 0 : idx + 1;\r\n\treturn nextIdx;\r\n}\r\n\r\n//todo: typings\r\nexport function filterProps(props, allowedKeys, include = true) {\r\n\tconst res = {};\r\n\tObject.keys(props).forEach(objKey => {\r\n\t\tif (allowedKeys.includes(objKey) == include) res[objKey] = props[objKey];\r\n\t});\r\n\treturn res;\r\n}\r\n\r\n//Date\r\nexport function toLocalISOString(date: Date): string {\r\n\tdate.setMinutes(date.getMinutes() - date.getTimezoneOffset());\r\n\treturn date.toISOString();\r\n}\r\n\r\nexport function formatDateTime(value: Date, locale?: string, options?: Intl.DateTimeFormatOptions): string {\r\n\treturn value?.toLocaleDateString(locale || FormatSettings.locale, options);\r\n}\r\n\r\nexport function getTodayOrFormatDateTime(value: Date) {\r\n\treturn value.toDateString() === new Date().toDateString() ? \"Today\" : formatDateTime(value);\r\n}\r\n\r\nfunction format(s: string): string {\r\n\treturn s.length === 1 ? \"0\" + s : s;\r\n}\r\n\r\nexport function partOFTime(time: Date): string {\r\n\tconst h = format(time.getHours().toString());\r\n\tconst m = format(time.getMinutes().toString());\r\n\r\n\treturn h + \":\" + m;\r\n}\r\n\r\nexport function getVisitDuration(elapsedSeconds: number): string {\r\n\tconst hours = Math.floor(elapsedSeconds / 60 / 60);\r\n\tconst minutes = Math.floor((elapsedSeconds - hours * 60 * 60) / 60);\r\n\tconst seconds = Math.floor(elapsedSeconds - hours * 60 * 60 - minutes * 60);\r\n\treturn [hours, minutes, seconds].map(value => format(value.toString())).join(\":\");\r\n}\r\n\r\nexport function formatMetricsDate(date: Date): string {\r\n\tconst r = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n\treturn r;\r\n}\r\n\r\n//Сравнивает дату в строке формата \"dd.mm.yy\"\r\nexport function compareStringDate(a: string, b: string): number {\r\n\tconst firstDate = a\r\n\t\t.split(\".\")\r\n\t\t.reverse()\r\n\t\t.join(\".\");\r\n\tconst secondDate = b\r\n\t\t.split(\".\")\r\n\t\t.reverse()\r\n\t\t.join(\".\");\r\n\r\n\treturn +new Date(firstDate) - +new Date(secondDate);\r\n}\r\n\r\nexport function getTimeDiffInMinutes(d1: Date, d2: Date) {\r\n\tlet diff = (d1.getTime() - d2.getTime()) / 1000;\r\n\tdiff /= 60;\r\n\treturn Math.round(diff);\r\n}\r\n\r\n//Img\r\nexport function isImg(file: File): void {\r\n\tif (!/^image\\//i.test(file.type)) {\r\n\t\tconsole.error(\"error\");\r\n\t}\r\n}\r\n\r\nexport async function readImg(file: File): Promise<string | ArrayBuffer> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst fr = new FileReader();\r\n\t\tfr.readAsDataURL(file);\r\n\t\tfr.onloadend = () => resolve(fr.result);\r\n\t\tfr.onerror = () => reject(\"Error\");\r\n\t});\r\n}\r\n\r\nexport function convertImg(inputFile: FileList): Promise<string | ArrayBuffer>[] {\r\n\tconst files = Array.from(inputFile);\r\n\tfiles.forEach(isImg);\r\n\treturn files.map(readImg);\r\n}\r\n\r\n//Number\r\nexport function formatNumber(value: string, locale?: string, options?: Intl.NumberFormatOptions): string {\r\n\treturn Number.parseFloat(value).toLocaleString(locale || FormatSettings.locale, options);\r\n}\r\n\r\nexport function formatDistance(value: string) {\r\n\tconst parsedVal = Number.parseFloat(value);\r\n\tif (!Number.isInteger(parsedVal)) throw new Error(\"Failed to format distance\");\r\n\treturn parsedVal < 1000\r\n\t\t? { value: parsedVal.toString(), measure: \"meter\" }\r\n\t\t: { value: (parsedVal / 1000).toFixed(1), measure: \"km\" };\r\n}\r\n\r\n//String\r\nexport function abbr(text: string, options?: { max: number }): string {\r\n\tconst opts = { max: 2, ...options };\r\n\treturn text\r\n\t\t.trim()\r\n\t\t.replace(/\\b\\w/g, l => l.toUpperCase())\r\n\t\t.split(\" \")\r\n\t\t.map(s => s[0])\r\n\t\t.join(\"\")\r\n\t\t.slice(0, opts.max);\r\n}\r\n\r\nexport function makeInitials(employee: string): string {\r\n\treturn employee\r\n\t\t.split(\" \")\r\n\t\t.map(x => x[0].toUpperCase())\r\n\t\t.join(\"\");\r\n}\r\n\r\nexport function removeAllSymbols(value: string): string {\r\n\treturn value\r\n\t\t.match(/[A-zА-я0-9ёЁ]*/g)\r\n\t\t.filter(el => el != \"\")\r\n\t\t.join(\" \");\r\n}\r\n\r\nexport function shortString(str: string, limit: number): string {\r\n\tconst finish = limit > str.length ? str.length : limit;\r\n\treturn str.slice(0, finish);\r\n}\r\n\r\n//Colors\r\nconst colors = [\r\n\t\"#1abc9c\",\r\n\t\"#2ecc71\",\r\n\t\"#3498db\",\r\n\t\"#9b59b6\",\r\n\t\"#34495e\",\r\n\t\"#16a085\",\r\n\t\"#27ae60\",\r\n\t\"#2980b9\",\r\n\t\"#8e44ad\",\r\n\t\"#2c3e50\",\r\n\t\"#f1c40f\",\r\n\t\"#e67e22\",\r\n\t\"#e74c3c\",\r\n\t\"#95a5a6\",\r\n\t\"#f39c12\",\r\n\t\"#d35400\",\r\n\t\"#c0392b\",\r\n\t\"#bdc3c7\",\r\n\t\"#7f8c8d\",\r\n\t\"#41DD92\",\r\n\t\"#FF823C\"\r\n];\r\ntype color = string;\r\nconst colorGenCache = {};\r\nexport function colorGen(txt: string, useCache = true): color {\r\n\tif (useCache && colorGenCache[txt]) return colorGenCache[txt];\r\n\tconst color =\r\n\t\tcolors[\r\n\t\t\ttxt\r\n\t\t\t\t.split(\"\")\r\n\t\t\t\t.map(c => c.charCodeAt(0))\r\n\t\t\t\t.reduce((a, b) => a + b, 0) % colors.length\r\n\t\t];\r\n\tcolorGenCache[txt] = color;\r\n\treturn color;\r\n}\r\n\r\n//Scroll\r\nexport function toTop() {\r\n\tdocument.getElementsByClassName(\"page\")[0].scrollIntoView();\r\n}\r\n\r\n//Network\r\nexport function appIsOnline(): boolean {\r\n\treturn navigator?.onLine;\r\n}\r\n\r\n//AnimationKey\r\nexport function getAnimationKey(isLoading: boolean, errors: string[]): string {\r\n\tconst err = errors.filter(x => x);\r\n\tconst animationKey = isLoading && !err.length ? \"loading\" : err.length ? \"error\" : \"ready\";\r\n\treturn animationKey;\r\n}\r\n\r\n//url params\r\nexport function getUrlParams(params: { [key: string]: string }): string {\r\n\tconst paramsStirng = Object.keys(params)\r\n\t\t.reduce((acc, key) => {\r\n\t\t\treturn [...acc, `${key}=${params[key]}`];\r\n\t\t}, [])\r\n\t\t.join(\"&\");\r\n\treturn paramsStirng;\r\n}\r\n\r\nexport function getOutletChainName(outletChain: OutletChain): string {\r\n\tif (!outletChain) {\r\n\t\treturn \"\";\r\n\t}\r\n\tlet name = (outletChain.parent ? `${outletChain.parent.nameShort || \"\"} ` : \"\") + (outletChain.nameShort || \"\");\r\n\tif (outletChain.parent && outletChain.parent.nameShort === outletChain.nameShort) {\r\n\t\tname = outletChain.nameShort;\r\n\t}\r\n\treturn name;\r\n}\r\n\r\n// toDo typing\r\nexport function getApiErrorForT(e: any): any[] {\r\n\tlet error = [e.reason?.toString() || e.message || e.toString()];\r\n\tconst err = e.reason?.data?.err?.data || e.data || e;\r\n\tif (err.Message && err.Code && err.Args) {\r\n\t\terror = [`error:${err.Code}`, err.Args];\r\n\t} else if (err.Message && err.Args && !err.Code) {\r\n\t\terror = [err.Message, err.Args];\r\n\t}\r\n\treturn error;\r\n}\r\n\r\nexport function parseErrorMessage(error): string {\r\n\tconst originMessage: string = error.message || \"\";\r\n\tif (/timeout expired|deadlock|timeoutexception/.test(originMessage.toLowerCase())) {\r\n\t\treturn \"The server may be overloaded now. Try to repeat request again\";\r\n\t}\r\n\r\n\tif (error.code && error.args) {\r\n\t\treturn `error:${error.code}`;\r\n\t}\r\n\r\n\treturn originMessage;\r\n}\r\n\r\n//cache\r\nexport function cacheIsValid(dateExpired: Date) {\r\n\treturn new Date() < dateExpired;\r\n}\r\n\r\n//guid\r\nexport function guid(): string {\r\n\tfunction S4() {\r\n\t\treturn (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n\t}\r\n\treturn (S4() + S4() + \"-\" + S4() + \"-4\" + S4().substr(0, 3) + \"-\" + S4() + \"-\" + S4() + S4() + S4()).toLowerCase();\r\n}\r\n\r\n//get file url for apiClient\r\nexport function getFileUrlForRequest(url: string) {\r\n\tconst fileIdxUrl = url.indexOf(\"file\");\r\n\treturn url.slice(fileIdxUrl);\r\n}\r\n\r\n//fix click\r\nexport function fixClicks() {\r\n\tconst maxDistance = 25;\r\n\tlet touchStartX, touchStartY;\r\n\tlet touchStartTarget;\r\n\tlet cancel;\r\n\r\n\tfunction handleTouchStart(e) {\r\n\t\tconst touch = e.targetTouches[0];\r\n\t\tcancel = !touch;\r\n\t\tif (touch) {\r\n\t\t\ttouchStartTarget = e.target;\r\n\t\t\ttouchStartX = touch.pageX;\r\n\t\t\ttouchStartY = touch.pageY;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleTouchMove(e) {\r\n\t\tconst touch = e.targetTouches[0];\r\n\t\tif (touch) {\r\n\t\t\tconst pageX = touch.pageX;\r\n\t\t\tconst pageY = touch.pageY;\r\n\t\t\tif (Math.abs(pageX - touchStartX) > maxDistance || Math.abs(pageY - touchStartY) > maxDistance)\r\n\t\t\t\tcancel = true;\r\n\t\t} else cancel = true;\r\n\t}\r\n\tdocument.addEventListener(\"touchstart\", handleTouchStart);\r\n\tdocument.addEventListener(\"touchmove\", handleTouchMove);\r\n\tdocument.addEventListener(\"click\", () => {\r\n\t\tcancel = true;\r\n\t});\r\n\tdocument.addEventListener(\"touchend\", (e: any) =>\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst touchCoords = {\r\n\t\t\t\tpageX: e.pageX || e.changedTouches[0].pageX,\r\n\t\t\t\tpageY: e.pageY || e.changedTouches[0].pageY\r\n\t\t\t};\r\n\t\t\tif (touchCoords.pageX == touchStartX && touchCoords.pageY == touchStartY) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t!cancel && e.target && e.target.click && e.target.click();\r\n\t\t})\r\n\t);\r\n}\r\n\r\nexport function base64ToBlob(dataURI) {\r\n\tvar byteString = atob(dataURI.split(\",\")[1]);\r\n\tvar mimeString = dataURI\r\n\t\t.split(\",\")[0]\r\n\t\t.split(\":\")[1]\r\n\t\t.split(\";\")[0];\r\n\tvar ab = new ArrayBuffer(byteString.length);\r\n\tvar ia = new Uint8Array(ab);\r\n\tfor (var i = 0; i < byteString.length; i++) {\r\n\t\tia[i] = byteString.charCodeAt(i);\r\n\t}\r\n\tvar bb = new Blob([ab]);\r\n\treturn bb;\r\n}\r\n\r\nexport function navToFAQ(): void {\r\n\tconst cordova = window?.cordova as any;\r\n\tcordova?.InAppBrowser ? cordova.InAppBrowser.open(faqLink, \"_system\", \"location=yes\") : window.open(faqLink);\r\n}\r\n","import { Ref, MutableRefObject } from \"react\";\r\nimport { isFunction } from \"./helpers\";\r\n\r\nexport function passRef<T>(instance: any, ref: Ref<T>) {\r\n\tif (ref) {\r\n\t\tisFunction(ref) ? ref(instance) : ((ref as MutableRefObject<T>).current = instance);\r\n\t}\r\n}\r\n","import { Theme } from \"theme/theme\";\r\nimport { applyCssVars, CssVariablesMap } from \"utils/cssHelpers\";\r\n\r\nexport type InputType = \"text\" | \"password\" | \"number\";\r\n\r\nexport function createThemeApplier(mapTheme: (theme: Theme) => CssVariablesMap, useCache = true): Function {\r\n\tlet currentTheme;\r\n\treturn (theme: Theme, el?: HTMLElement) => {\r\n\t\tif (useCache && currentTheme == theme) return;\r\n\t\tcurrentTheme = theme;\r\n\t\tapplyCssVars(mapTheme(theme), el);\r\n\t};\r\n}\r\n","import {\r\n\tcss as aCss,\r\n\tCSSProperties,\r\n\tCSSPropertiesComplete,\r\n\tStyleDeclaration as AphStyleDeclaration,\r\n\tStyleDeclarationValue as AphStyleDeclarationValue,\r\n\tStyleSheet as aStyleSheet\r\n} from \"aphrodite\";\r\nimport * as deepExtend from \"deep-extend\";\r\n\r\nexport type CSSProps = CSSPropertiesComplete;\r\nexport type CSSProp = CSSProperties;\r\nexport type CSSSizeValue = string | number;\r\nexport type StyleDeclaration<T> = AphStyleDeclaration<T>;\r\nexport type StyleDeclarationValue = AphStyleDeclarationValue;\r\nexport type StyleDeclarationExtend<T> = Partial<StyleDeclaration<T>> | undefined;\r\nexport type StyleDeclarationValues<T> = { [K in keyof T]: StyleDeclarationValue };\r\n\r\nexport const styleSheet = <T>(styles: StyleDeclaration<T>): StyleDeclarationValues<T> => aStyleSheet.create(styles);\r\nexport const styleSheetEx = <T>(\r\n\tstyles: StyleDeclaration<T>,\r\n\t...args: StyleDeclarationExtend<T>[]\r\n): { [K in keyof T]: StyleDeclarationValue } => aStyleSheet.create(deepExtend(styles, ...args) as StyleDeclaration<T>);\r\n\r\nexport const css = aCss;\r\n"],"sourceRoot":""}